
<!DOCTYPE html><html lang="pb" class="section_header_html_no_scroll ltr ng-non-bindable" data-doctype="true" dir="ltr" ontouchend="CustomEvent.fireAll('body_clicked', event);"><head><script>document.addEventListener('click', function (event) {
				CustomEvent.fireAll('body_clicked', event);
			});
			document.hasBodyClickedTrigger = 'true';</script><script type="text/javascript"></script><title>ServiceNow</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"></meta><meta http-equiv="cache-control" content="public"></meta><meta name="viewport" content="initial-scale=1.0"></meta><script type="text/javascript" data-description="globals population">
	window.NOW = window.NOW || {};
	var g_loadTime = new Date();
	var lastActivity = new Date();
	var g_lang = 'pb';
	var g_system_lang = 'pb';
	var g_enhanced_activated = 'true';
	  var g_popup_timeout = parseInt(100);
	var g_export_warn_threshold = parseInt(10000);
	  var g_event_handler_ids = {};
	var g_event_handlers = [];
	var g_event_handlers_onLoad = [];
	var g_event_handlers_onSubmit = [];
	var g_event_handlers_onChange = [];
	var g_event_handlers_onCellEdit = {};
	var g_event_handlers_localCache = {};
	var g_event_handlers_queryTracking = true;
	var g_user_date_time_format = "dd/MM/yyyy HH:mm:ss";
	var g_user_date_format = "dd/MM/yyyy";
	var g_user_decimal_separator = ",";
	var g_user_grouping_separator = ".";
	var g_glide_list_separator = ", ";
	var g_allow_field_dependency_for_templates = ("true" === "true");
	var g_tz_offset = -10800000;
	  var g_tz_user_offset = true;
	var g_first_day_of_week = parseInt(1, 10);
	var g_date_picker_first_day_of_week = parseInt(0, 10);
	  var g_full_calendar_edit = true;
	var g_submitted = false;
	var g_max_table_length = 80;
	var g_fontSizePreference = "";
	var g_fontSize = "10pt";
	// use to be the sys_property glide.ui.js_error_notify, hard coded for PRB603998
	var g_jsErrorNotify = "true";
	var g_cancelPreviousTransaction = true;
	var g_text_direction = "ltr";
	var g_glide_list_filter_max_length =  parseInt("0", 10);
	var g_accessibility = false;
	var g_accessibility_tooltips = false;
	var g_accessibility_tooltip_duration = parseInt("10", 10);
	var g_accessibility_visual_patterns = true;
	var g_accessibility_screen_reader_table = false;
	var g_accessibility_date_format = false;
	var g_detail_row = false;
	var g_builddate = "05-22-2025_2350";
	// default values to be used in absence of user preferences are hard coded below
	// as well as in keyboardShortcuts.js and keyboard_preference_changer.xml
	window.g_keyboard_shortcuts = {};
	window.g_keyboard_shortcuts.allow_in_input_fields = false;
	window.g_keyboard_shortcuts.enabled = true;
	window.g_keyboard_shortcuts.global_search = {};
	window.g_keyboard_shortcuts.global_search.enabled = true;
	window.g_keyboard_shortcuts.global_search.key_combination = 'ctrl+alt+g';
	window.g_keyboard_shortcuts.main_frame = {};
	window.g_keyboard_shortcuts.main_frame.enabled = true;
	window.g_keyboard_shortcuts.main_frame.key_combination = 'ctrl+alt+p';
	window.g_keyboard_shortcuts.navigator_toggle = {};
	window.g_keyboard_shortcuts.navigator_toggle.enabled = true;
	window.g_keyboard_shortcuts.navigator_toggle.key_combination = 'ctrl+alt+c';
	window.g_keyboard_shortcuts.navigator_filter = {};
	window.g_keyboard_shortcuts.navigator_filter.enabled = true;
	window.g_keyboard_shortcuts.navigator_filter.key_combination = 'ctrl+alt+f';
	window.g_keyboard_shortcuts.impersonator = {}
	window.g_keyboard_shortcuts.impersonator.enabled = true;
	window.g_keyboard_shortcuts.impersonator.key_combination = 'ctrl+alt+i';
	// The `g_concourse_onmessage_enforce_same_origin` and `g_concourse_onmessage_enforce_same_origin_whitelist` variables
    // do not appear to be used anywhere other than the CustomEventManager, but leaving these for backwards compatability
	var g_concourse_onmessage_enforce_same_origin = 'true'.toLowerCase() === 'true';
	var g_concourse_onmessage_enforce_same_origin_whitelist = '';
	window.g_load_functions = [];
	window.g_render_functions = [];
	window.g_late_load_functions = [];
	window.g_tiny_url = {};
	window.g_tiny_url.use_tiny = 'true' === 'true';
	window.g_tiny_url.min_length = parseInt('1024');
	
	
	var g_ck = '5ee411713b5e6a1015086e9985e45a83d5e7852020e51ad63dd374f34e5a0f285c9f9119';
	

	
	var g_acWaitTime = parseInt(250);
	

	var g_autoRequest = '';

	try {
		window.NOW.dateFormat = JSON.parse("{\"timeAgo\": false, \"dateBoth\": false}");
	} catch (e) {
		window.NOW.dateFormat = {timeAgo: false, dateBoth: false};
	}

	window.NOW.dateFormat.dateStringFormat = "dd/MM/yyyy";
	window.NOW.dateFormat.timeStringFormat = "HH:mm:ss";
	window.NOW.shortDateFormat = false;
	window.NOW.listTableWrap = true;
	window.NOW.compact = false;
  	window.NOW.templateToggle = false;
	window.NOW.tabbed = true;
	window.NOW.permalink = true;
	window.NOW.useSimpleStorage = true;
	window.NOW.httpRequestCompressionThreshold = 40000;
	window.NOW.httpRequestCompressionLevel = -1;
	window.NOW.httpRequestCompressionMemoryLevel = -1;
	window.NOW.httpRequestCompressionExcludeUrls = 'xmlhttp.do'.split(',');
	window.NOW.deferAmbConnection = false;
	window.NOW.deferredAmbConnectionTimeout = 10000;
	window.NOW.simpleStorageSynch = "bd0cb4113b12221015086e9985e45a86";
	window.NOW.language =  'pb';
	window.NOW.listOpenInAppTab = false;
	window.NOW.floatingScrollbars = 'false'.toLowerCase() === 'true';
	
	window.NOW.user = {};
	window.NOW.user.preferences = [];
	window.NOW.user.roles = 'sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil';
	window.NOW.user.allRoles = 'sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,snc_internal,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil';
	window.NOW.user.userID = '34641827876d1ed410de85580cbb3506';
	window.NOW.user.departmentID = '8042535e1bdb70903b420e50f54bcbbf';
	window.NOW.user.firstName = 'Marcelo';
	window.NOW.user.lastName = 'Marfim';
	window.NOW.user.name = 'TR057043';
  	window.NOW.user.isImpersonating = false;
	window.NOW.batch_glide_ajax_requests = 'true' === 'true';
	window.NOW.batch_glide_ajax_requests_max_time_in_queue = ~~'50';
	window.NOW.batch_glide_ajax_disable_time = ~~'1000';

	window.NOW.currency = {};
	window.NOW.currency.code = 'BRL';
	window.NOW.locale = {};
	window.NOW.locale.code = 'pt_BR';

	window.NOW.attachment = {};
	
	window.NOW.attachment.overflow_limit =  parseInt('3', 10);
	window.NOW.isPolarisEnabled = "true";
	window.NOW.polaris_page_info ={"canUsePolarisCSS":true,"canUsePolarisTemplates":true,"jvar_form_name":"sys_form_template"};</script><script data-comment="GlideUser initialization">(function() {
		 g_render_functions.push(setGlideUser);
		function setGlideUser() {
			if (window.g_user || !window.GlideUser)
		return;

		window.g_user = new GlideUser(NOW.user.name,
			  NOW.user.firstName,
			  NOW.user.lastName,
			  NOW.user.roles,
			  NOW.user.userID,
			  NOW.user.departmentID);
		window.g_user.setRoles(NOW.user.allRoles, true);
		}
	})();</script><script data-comment="Fiscal schedule constants">window.NOW.filter_globals = "[[\"This fiscal month\", \"javascript:gs.beginningOfThisSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'This fiscal month\')\", \"javascript:gs.endOfThisSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'This fiscal month\')\", \"javascript:gs.endOfThisSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'This fiscal month\')\"], [\"Last fiscal month\", \"javascript:gs.beginningOfLastSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'Last fiscal month\')\", \"javascript:gs.endOfLastSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'Last fiscal month\')\", \"javascript:gs.endOfLastSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'Last fiscal month\')\"], [\"Next fiscal month\", \"javascript:gs.beginningOfNextSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'Next fiscal month\')\", \"javascript:gs.endOfNextSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'Next fiscal month\')\", \"javascript:gs.endOfNextSchedulePeriod(\'0ca8ae11d7222100738dc0da9e6103e3\',\'Next fiscal month\')\"], [\"Last 3 fiscal months\", \"javascript:gs.beginningOfSchedulePeriodsAgo(3, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Last 3 fiscal months\')\", \"javascript:gs.endOfSchedulePeriodsAgo(1, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Last 3 fiscal months\')\", \"javascript:gs.beginningOfSchedulePeriodsAgo(3, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Last 3 fiscal months\')\"], [\"Last 12 fiscal months\", \"javascript:gs.beginningOfSchedulePeriodsAgo(12, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Last 12 fiscal months\')\", \"javascript:gs.endOfSchedulePeriodsAgo(1, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Last 12 fiscal months\')\", \"javascript:gs.beginningOfSchedulePeriodsAgo(12, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Last 12 fiscal months\')\"], [\"Next 3 fiscal months\", \"javascript:gs.beginningOfSchedulePeriodsAgo(-1, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Next 3 fiscal months\')\", \"javascript:gs.endOfSchedulePeriodsAgo(-3, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Next 3 fiscal months\')\", \"javascript:gs.endOfSchedulePeriodsAgo(-3, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Next 3 fiscal months\')\"], [\"Next 12 fiscal months\", \"javascript:gs.beginningOfSchedulePeriodsAgo(-1, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Next 12 fiscal months\')\", \"javascript:gs.endOfSchedulePeriodsAgo(-12, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Next 12 fiscal months\')\", \"javascript:gs.endOfSchedulePeriodsAgo(-12, \'0ca8ae11d7222100738dc0da9e6103e3\',\'Next 12 fiscal months\')\"], [\"This fiscal quarter\", \"javascript:gs.beginningOfThisSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'This fiscal quarter\')\", \"javascript:gs.endOfThisSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'This fiscal quarter\')\", \"javascript:gs.endOfThisSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'This fiscal quarter\')\"], [\"Last fiscal quarter\", \"javascript:gs.beginningOfLastSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'Last fiscal quarter\')\", \"javascript:gs.endOfLastSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'Last fiscal quarter\')\", \"javascript:gs.endOfLastSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'Last fiscal quarter\')\"], [\"Last 4 fiscal quarters\", \"javascript:gs.beginningOfSchedulePeriodsAgo(4, \'b198ae11d7222100738dc0da9e6103d7\',\'Last 4 fiscal quarters\')\", \"javascript:gs.endOfSchedulePeriodsAgo(1, \'b198ae11d7222100738dc0da9e6103d7\',\'Last 4 fiscal quarters\')\", \"javascript:gs.beginningOfSchedulePeriodsAgo(4, \'b198ae11d7222100738dc0da9e6103d7\',\'Last 4 fiscal quarters\')\"], [\"Next fiscal quarter\", \"javascript:gs.beginningOfNextSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'Next fiscal quarter\')\", \"javascript:gs.endOfNextSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'Next fiscal quarter\')\", \"javascript:gs.endOfNextSchedulePeriod(\'b198ae11d7222100738dc0da9e6103d7\',\'Next fiscal quarter\')\"], [\"Next 4 fiscal quarters\", \"javascript:gs.beginningOfSchedulePeriodsAgo(-1, \'b198ae11d7222100738dc0da9e6103d7\',\'Next 4 fiscal quarters\')\", \"javascript:gs.endOfSchedulePeriodsAgo(-4, \'b198ae11d7222100738dc0da9e6103d7\',\'Next 4 fiscal quarters\')\", \"javascript:gs.endOfSchedulePeriodsAgo(-4, \'b198ae11d7222100738dc0da9e6103d7\',\'Next 4 fiscal quarters\')\"], [\"This fiscal year\", \"javascript:gs.beginningOfThisSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'This fiscal year\')\", \"javascript:gs.endOfThisSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'This fiscal year\')\", \"javascript:gs.endOfThisSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'This fiscal year\')\"], [\"Last fiscal year\", \"javascript:gs.beginningOfLastSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'Last fiscal year\')\", \"javascript:gs.endOfLastSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'Last fiscal year\')\", \"javascript:gs.endOfLastSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'Last fiscal year\')\"], [\"Next fiscal year\", \"javascript:gs.beginningOfNextSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'Next fiscal year\')\", \"javascript:gs.endOfNextSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'Next fiscal year\')\", \"javascript:gs.endOfNextSchedulePeriod(\'3f682e11d7222100738dc0da9e610353\',\'Next fiscal year\')\"]]" || "[]";</script><script data-description="NOW glide web analytics siteid and url">window.snWebaConfig = window.snWebaConfig || {};
		// glide web analytics config
		window.snWebaConfig.siteId = "0";
		window.snWebaConfig.trackerURL = "";
		window.snWebaConfig.webaScriptPath = "/scripts/piwik-3.1.1/thirdparty/piwik.min.js";
		window.snWebaConfig.ambClient = (window.g_ambClient) ? window.g_ambClient : ((window.amb)? window.amb.getClient(): "");
		window.snWebaConfig.subscribed = false;</script><script type="text/javascript" src="/ConditionalFocus.jsdbx?v=05-22-2025_2350&amp;c=29_523&amp;lang=pb"></script><script data-description="UX Metrics Data">(function () {
				try {
					window.NOW = window.NOW || {};
					window.NOW.UXMetrics = window.NOW.UXMetrics || {};
					var config = '{\"subscribers\":[{\"path\":\"/uxasset/externals/@devsnc/ux-metrics-appsee-subscriber/index.jsdbx\",\"config\":{\"apiAuth\":\"5cbcd6e1e820486ab1fd97db0f842728\",\"apiKey\":\"5da28b90db3ee70091232f17d49619cd:635911e2732130107d804c9885f6a78f\",\"endpointURL\":\"https://api-appsee.service-now.com\",\"restrictedApps\":\"\",\"allowedPropsInPageNavigate\":\"Entry Page,Page Title\",\"enableUnauthenticatedUserTracking\":\"false\",\"channelType\":\"NextExperience\",\"trackingConsent\":\"Full\",\"user\":{\"domainName\":\"global\",\"roles\":\"sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,snc_internal,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil\",\"hashId\":\"e0e58cb750b5c83c7209e51c7bde3bda9ddcf5fcc29f00c9e24bca093a94d63f\",\"domainId\":\"global\"},\"enabled\":\"true\"}}],\"userConsentRequired\":false,\"globalMetricsLevel\":4}';
					if (config) {
						window.NOW.UXMetrics.config = JSON.parse(config);
						window.NOW.UXMetrics.ucmInfo = {
							user_analytics_consent_text: '',
							user_consent : "NoConsentRequired"
						};
					}
				} catch(err) {}
			})();</script><link href="rapizen_csc_icone.ico" rel="shortcut icon"></link><script type="text/javascript" src="/scripts/doctype/xperf_timing.jsx?v=05-22-2025_2350&amp;lang=pb"></script><link type="text/css" rel="stylesheet" href="/styles/css_includes_doctype_polaris.cssx?v=05-22-2025_2350&amp;c=320c78113b12221015086e9985e45a6a&amp;theme=Polaris"></link><link type="text/css" rel="stylesheet" href="/styles/css_includes_ng_polaris.cssx?v=05-22-2025_2350&amp;c=320c78113b12221015086e9985e45a6a&amp;theme=Polaris"></link><script>window.NOW = window.NOW || {};
		 NOW.isUsingPolaris = true;</script><script type="text/javascript" src="/scripts/polaris_theme_refresh_observer.jsx?v=05-22-2025_2350&amp;lang=pb"></script><link type="text/css" rel="stylesheet" href="/styles/polarisberg/css_includes_polarisberg.cssx?v=05-22-2025_2350&amp;c=320c78113b12221015086e9985e45a6a&amp;theme=Polaris"></link><script>NOW.exclude_dark_theme = "false";</script><link type="text/css" rel="stylesheet" href="/polarisberg_theme_variables.do?c=false9d6WqdgasPOpleCOXB0JEFeKHeA%3D" id="polarisberg_theme_variables"></link><script>NOW.xperf.cssEnd = NOW.xperf.now();
			NOW.xperf.scriptBegin = NOW.xperf.now();</script><script src="/legacy_date_time_choices_processor.do?lang=pb"></script><script type="text/javascript" src="/scripts/doctype/js_includes_doctype.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/js_includes_customer.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/doctype/history_across_tabs.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" data-comment="navpage layout preferences, onfocus observation">/**
	* Every window needs to observe these events.
	*/
	if (Prototype.Browser.IE && !isMSIE9) {
		document.onfocusout = function() { CustomEvent.fireTop(GlideEvent.WINDOW_BLURRED, window); };
		document.onfocusin = function() { CustomEvent.fireTop(GlideEvent.WINDOW_FOCUSED, window); };
	} else {
		Event.observe(window, 'blur', function() { CustomEvent.fireTop(GlideEvent.WINDOW_BLURRED, window); });
		Event.observe(window, 'focus', function() { CustomEvent.fireTop(GlideEvent.WINDOW_FOCUSED, window); });
	}</script><script type="text/javascript">g_swLoadTime = new StopWatch(g_loadTime);

    if (window.CustomEvent){
        CustomEvent.fireAll("ck_updated", "5ee411713b5e6a1015086e9985e45a83d5e7852020e51ad63dd374f34e5a0f285c9f9119");
	    CustomEvent.fireTop("navigation.complete", window);
	}

    addLoadEvent( function() {

		if (isValidTouchDevice())
			addTouchScrollClassToBody();

      if (typeof g_ck != 'undefined') {
        CustomEvent.observe("ck_updated", function(ck) { g_ck = ck; });
        CustomEvent.fireAll("ck_updated", "5ee411713b5e6a1015086e9985e45a83d5e7852020e51ad63dd374f34e5a0f285c9f9119");CustomEvent.fireTop('user.impersonation', '');}try {
              var helpico = getTopWindow().document.getElementById("help_ico");

              if (helpico) {
                var urlname=window.location.pathname.split("?");
                var search_str = window.location.search;
                
                // if this is a form, extract the record's sys_id...
                var sys_id_loc = search_str.search(/sys_id=[0-9a-f]{32}/i);
                var sys_id_str = (sys_id_loc != -1) ? search_str.substr(sys_id_loc, 39) : null;
                
                // make the URL to our context help processor...
                var url_search = "?sysparm_url=" + urlname[0];
                if (sys_id_loc != -1)
                   url_search += "&" + sys_id_str;

               	helpico.href="context_help.do" + url_search;                	
              }
            } catch (exception) {}

      synchCache();
      pageLoaded();
    });
    
    function synchCache() {
      try {
        var w = getTopWindow();
        if (w.g_cache_message)
          w.g_cache_message.stamp("bd0cb4113b12221015086e9985e45a86");
  
        if (w.g_cache_td)
          w.g_cache_td.stamp("e71daa313b566e1015086e9985e45a34");
      } catch(e) {}
    }

    function isValidTouchDevice() {
		var navigator = window.navigator || {};
		var devices;
		try {
			devices = 'iPad,Android'.split(',');
		} catch(ex) {
			devices = [];
		}
		return devices.some(function(item) {return item.trim() === navigator.platform;});
	}

	function addTouchScrollClassToBody() {
		if ('ontouchstart' in window ||
				(navigator.maxTouchPoints !== 'undefined' && navigator.maxTouchPoints > 0) ||
				(navigator.msMaxTouchPoints !== 'undefined' && navigator.msMaxTouchPoints > 0)) {
			if (typeof document.body != undefined) {
				document.body.classList.add('touch_scroll');
			}
		}
	}
  </script><script>window.NOW = window.NOW || {};
        NOW.amb_themed_login = true;</script><script type="text/javascript" src="/scripts/js_includes_amb.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><!--googleoff: all--><noscript>This site requires JavaScript to be enabled</noscript> <!--googleon: all--><script type="text/javascript" src="/scripts/app.guided_tours/js_guided_tours_includes.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script>NOW.xperf.scriptEnd = NOW.xperf.now();
				NOW.xperf.parseEnd = NOW.xperf.now();</script></head><body class="section_header_body_no_scroll       windows chrome        -polaris " data-formName="sys_form_template"><span class="sr-only"><div id="html_page_aria_live_polite" role="region" aria-relevant="additions text" aria-atomic="false" aria-live="polite"></div><div id="html_page_aria_live_assertive" role="region" aria-relevant="additions text" aria-atomic="false" aria-live="assertive"></div></span><script data-comment="start timer - dirty form onmousedown">
		NOW.xperf.formBegin = NOW.xperf.now();
		var gFormSW = new StopWatch();

		var g_formDirtyFocus = false;
		// remove potential closure leak, see exhibit 7 in the following article:
		// http://www.codeproject.com/Articles/12231/Memory-Leakage-in-Internet-Explorer-revisited
		document.body.onmousedown = dirtyFormFocus;

		function dirtyFormFocus() {
			jslog("dirty form focus");
			g_formDirtyFocus = true;
			document.body.onmousedown = null;
		}

		var g_tabs_preference = true;
		var g_tabs_print = false;
		var g_tabs_reference = 'incident'; // name for state maintenance (which tab we are on for a form)
		
		window.NOW['personalize_incident_default'] = 'false';

		var g_related_list_timing = "deferred";</script><script>window.NOW = window.NOW || {};
        NOW.amb_themed_login = true;</script><script>window.NOW = window.NOW || {};
        NOW.amb_themed_login = true;</script><script data-description="NOW glide web analytics siteid and url">window.snWebaConfig = window.snWebaConfig || {};
		// glide web analytics config
		window.snWebaConfig.siteId = "0";
		window.snWebaConfig.trackerURL = "";
		window.snWebaConfig.webaScriptPath = "/scripts/piwik-3.1.1/thirdparty/piwik.min.js";
		window.snWebaConfig.ambClient = (window.g_ambClient) ? window.g_ambClient : ((window.amb)? window.amb.getClient(): "");
		window.snWebaConfig.subscribed = false;</script><script data-description="NOW vars set by properties, custom events, g_* clobals">window.CustomEvent = window.CustomEvent || {};
	window.CustomEvent.fire = window.CustomEvent.fire || function() {};
	window.NOW = window.NOW || {};
	window.NOW.ng_cache_defeat = false;
	window.NOW.ui_policy = {};
	window.NOW.ui_policy.debug = false;
	window.NOW.ui_policy.debug = false;
	window.NOW.initiallyLoggedIn = true;
	window.NOW.externalAuthentication = false;
	window.NOW.ac_wait_time = parseInt(250);
	window.NOW.compact = false;
	window.NOW.listFormModal = false;
	window.NOW.listTableWrap = true;
	window.NOW.maximumListCharacters = 40;
	window.NOW.user_email = 'Marcelo.Marfim@terceirizadogruponos.com';
	window.NOW.user_roles = 'sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,snc_internal,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil';

	var g_tz_offset = -10800000;
	var g_first_day_of_week = parseInt(1, 10);
	var g_date_picker_first_day_of_week = parseInt(0, 10);
	var g_ck = '5ee411713b5e6a1015086e9985e45a83d5e7852020e51ad63dd374f34e5a0f285c9f9119';
	var g_searchWaitTime = 100;
	var g_loadTime = new Date();
	window.NOW.clientTiming = {
		serverTime: parseInt("152") + parseInt("0"),
		transactionId: '7d2d6e7d3b166e1015086e9985e45a26',
		tableName: 'incident',
		formName: '',
		viewId: 'Default view',
		pageInitTime: g_loadTime
	};</script><script data-description="NOW session, user_name, etc">window.NOW = window.NOW || {};
		// record watch / presence
		window.NOW.session_id = '1EE411713B5E6A1015086E9985E45A83';
		window.NOW.user_name = 'TR057043';
		window.NOW.user_id = '34641827876d1ed410de85580cbb3506';
		window.NOW.user_display_name = 'Marcelo Marfim';
		window.NOW.user_initials = 'MM';
		window.NOW.user_avatar = '';
		window.NOW.presence_interval = 60;
		window.NOW.record_presence_interval = 20;
		window.NOW.ambConnected = false;</script><script>window.NOW = window.NOW || {};
					NOW.streamLinkTarget = '';
					NOW.stream_poll_interval = parseInt(120);
					NOW.targetTable = 'incident'
					NOW.sysId = 'aea9612d87dee2100030cb340cbb35fd';</script><div id="incident.form_header" class="section_header_div_no_scroll form_title" data-form-title="INC2732616 | Incidente" sn-atf-blacklist="IS_GFORM"><input id="section_form_id" value="incident.do" type="hidden"></input><span class="tabs2_section tabs2_section_0 tabs2_section0 " data-header-only="true" tab_caption="Incidente" tab_caption_raw="" id="section_tab.bf1d96e3c0a801640190725e63f8ac80.header" data-section-id="bf1d96e3c0a801640190725e63f8ac80"><span id="section-bf1d96e3c0a801640190725e63f8ac80.header" data-header-only="true" class="section "><nav class="navbar navbar-default section_zero " data-type="section_head" data-id="bf1d96e3c0a801640190725e63f8ac80" role="navigation"><div class="container-fluid"><div class="navbar-header"><input type="HIDDEN" id="sysverb_back"></input><button title="Voltar" aria-label="Voltar" class="btn btn-default icon-chevron-left navbar-btn" role="link" onClick="CustomEvent.fireTop('back.gsftSubmit', event)"><span class="sr-only">Voltar</span></button><script>addLoadEvent(function() {
											// The polaris app-shell has custom dirty form behavior that observes "back.gsftSubmit"
											// and then fires "polaris:legacy.formSubmit" when it's done.
											// Outside of the app-shell we just call gsftSubmitBack like normal.

											if (!isPolaris()) {
												CustomEvent.observe("back.gsftSubmit", gsftSubmitBack);
												return;
											}

											// DEF0461744: If we are in a custom iframe in the polaris app-shell,
											// add this frame to the app-shell's list of frames so CustomEvent.fireAll can find it.
											if (parent == top && Array.isArray(parent.__frames) && parent.__frames.indexOf(window) == -1)
												parent.__frames.push(window);

											CustomEvent.observe("polaris:legacy.formSubmit", gsftSubmitBack);
											CustomEvent.observe("polaris:legacy.formModified", function(modified) {
												window.g_form.modified = modified;
											});
										});</script><button title="Ações adicionais" role="button" aria-label="menu de ações adicionais" aria-haspopup="true" aria-expanded="false" class="btn btn-icon icon-menu navbar-btn additional-actions-context-menu-button" onclick="contextShow(event, '1', 200, grabOffsetTop(this) + 20, grabOffsetLeft(this) + 24);event.cancelBubble=true;Event.stop(event);"></button><script>function getFavoriteURL() {
									var pathName = window.location.pathname.startsWith('/') ? window.location.pathname.substr(1) : window.location.pathname;
									return pathName + window.location.search;
								}</script><h1 class="form_header navbar-title navbar-title-twoline" draggable="true" ondragstart="event.dataTransfer.setData('text', Object.toJSON({ icon: 'form', url: getFavoriteURL(), title: g_form.getTitle(), table: g_form.getTableName() }))"><input type="HIDDEN" id="sysverb_view_change" name="sysverb_view_change"></input><div title="Exibição atual: Exibição padrão (clique em mim para outras exibições)" role="button" data-native-btn-click="true" tabindex="0" aria-haspopup="true" aria-expanded="false" onclick="contextShow(event, 'labelMenu', -1, 0, 0);event.cancelBubble=true;" class="pointerhand"><div class="navbar-title-caption">Incidente</div><div class="navbar-title-display-value">INC2732616</div></div></h1></div><div class="navbar-right"><span id="section_head_right.bf1d96e3c0a801640190725e63f8ac80" style="display: ;"><span class="sn-form-presence-container"><form-presence></form-presence>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=ng_form_presence.xml">
		<span ng-if="viewingUsers"><sn-avatar-popover primary="viewingUsers[0]" ng-if="viewingUsers.length == 1" show-presence="true"></sn-avatar-popover><div ng-show="viewingUsers.length &gt; 1" class="form-presence-users-multiple" onclick="setMaxHeight()"><a aria-haspopup="true" aria-label="{{viewingUsers.length}} users viewing this record" role="button" class="avatar avatar-md sn-popover-presence sn-popover-basic" href="javascript:void(0);" title="Exibição deste registro" ng-bind="viewingUsers.length" data-placement="bottom" data-toggle="popover" data-target="#form_presence_users"></a><div id="form_presence_users" style="min-height: 20px"><ul><li ng-repeat="user in viewingUsers"><sn-avatar-popover primary="user" show-presence="true"></sn-avatar-popover><span class="user-name">{{ user.displayName }}</span></li></ul></div></div><now-message key="{name} has set this field to {value}" value="{name} definiu este campo como {value}"></now-message><now-message key="{name} has cleared the value of this field" value="{name} removeu o valor deste campo"></now-message><now-message key="{name} has modified this field value" value="{name} modificou o valor deste campo"></now-message></span><script>function setMaxHeight(){
			if(document.getElementById("form_presence_users"))
				document.getElementById("form_presence_users").style.maxHeight = (window.innerHeight - 150) + "px";
		}</script></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_avatar.xml">
		



	<div class="avatar-container" ng-class="avatarType()" title="{{ avatartooltip() }}" tabindex="-1">

		<div class="avatar soloAvatar top" ng-if="(users.length &gt; 1 &amp;&amp; !groupAvatar)" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[1])" aria-label="{{users[1].name}}, {{presenceStatus}}">
				<span ng-if="!users[1].avatar">{{ users[1].initials }}</span></div></div>

		<div class="avatar soloAvatar bottom" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[0] || primary)" aria-label="{{users[0].name}}, {{presenceStatus}}">
				<span ng-if="(!users[0].avatar &amp;&amp; !groupAvatar)">{{ users[0].initials }}</span></div></div>

		<div class="avatar soloAvatar top" ng-if="users.length &gt; 2 &amp;&amp; !groupAvatar" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[2])" aria-label="{{users[2].name}}, {{presenceStatus}}">
				<span ng-if="!users[2].avatar">{{ users[2].initials }}</span></div></div>

		<div class="avatar soloAvatar top" ng-if="users.length &gt; 3 &amp;&amp; !groupAvatar" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[3])" aria-label="{{users[3].name}}, {{presenceStatus}}">
				<span ng-if="!users[3].avatar">{{ users[3].initials }}</span></div></div>

		<span class="inner-details" ng-transclude=""></span>
		<sn-presence ng-if="::presenceEnabled" user="(users[0].userID || users[0].document)" on-presence-change="onPresenceChange(status)"></sn-presence></div></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_avatar_button.xml">
		<a class="sn-popover-complex" role="presentation" ng-style="{'cursor': popoverCursor}" style="background-color: transparent"><div class="avatar soloAvatar top" ng-if="users.length &gt; 1 &amp;&amp; !groupAvatar"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[1])"><span ng-if="!users[1].avatar">{{ users[1].initials }}</span></div></div><div class="avatar soloAvatar bottom"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[0] || primary)"><span ng-if="!users[0].avatar &amp;&amp; !groupAvatar">{{ users[0].initials }}</span></div></div><div class="avatar soloAvatar top" ng-if="users.length &gt; 2 &amp;&amp; !groupAvatar"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[2])"><span ng-if="!users[2].avatar">{{ users[2].initials }}</span></div></div><div class="avatar soloAvatar top" ng-if="users.length &gt; 3 &amp;&amp; !groupAvatar"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[3])"><span ng-if="!users[3].avatar">{{ users[3].initials }}</span></div></div><sn-presence ng-if="::presenceEnabled" user="users[0].userID || users[0].document" display-name="users[0].displayName"></sn-presence></a></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_avatar_popover.xml">
		<span class="avatar-container" ng-class="avatarType()"><sn-complex-popover ng-if="!noPopover()" template="sn_avatar_content.xml" button-template="sn_avatar_button.xml"></sn-complex-popover><sn-complex-popover ng-if="noPopover()" button-template="sn_avatar_button.xml"></sn-complex-popover></span></script></span><button id="header_add_attachment" onclick="saveAttachment('incident', 'aea9612d87dee2100030cb340cbb35fd');" title="Gerenciar anexos" data-now-ux-metrics-event="Manage Attachments" aria-label="Gerenciar anexos" class="btn btn-icon icon-paperclip navbar-btn" data-omit-aria-describedby="true"></button><button id="form_stream" aria-label="Ir para o fluxo de atividades" title="Ir para o fluxo de atividades" onclick="window.GlideUXMetrics &amp;&amp; GlideUXMetrics.track('Go to Activity Stream', {})" class="btn btn-icon icon-activity-stream navbar-btn sn-tooltip-basic form_stream_button"><span class="sr-only">Fluxo de atividades</span></button><button class="btn btn-icon icon-configuration navbar-btn sn-tooltip-basic" title="Personalizar formulário" data-target="#formSettingsContainer" id="togglePersonalizeForm" data-now-ux-metrics-event="Personalize Form" aria-haspopup="true" aria-controls="formSettingsContainer" aria-expanded="false" style="display: inline-block !important" data-ref="incident"><span class="sr-only">Personalizar formulário</span></button><button class="btn btn-icon icon-ellipsis navbar-btn sn-popover-basic" type="button" title="Mais opções" id="toggleMoreOptions" style="display: inline-block !important" data-target="#moreOptionsContainer" data-now-ux-metrics-event="Click More Options" data-toggle="popover" data-placement="bottom" aria-haspopup="true" aria-controls="moreOptionsContainer" aria-expanded="false" data-ref="incident"><span class="sr-only">Mais opções</span></button><div id="moreOptionsContainer" class="popover-item-list" style="display:none"><div class="popover-body"><div class="row"><button id="email_client_open" ng-non-bindable="" onclick="emailClientOpen(this, 'incident');" data-dismiss="popover" src="images/icons/email.gifx" class="icon-mail">E-mail</button></div><div class="row"><button id="template-toggle-button" onclick="CustomEvent.fire('templateToggle')" aria-label="Alternar a barra de modelos" aria-controls="template-bar-aria-container" data-dismiss="popover" title="Alternar a barra de modelos" class="icon-blog">Alternar a barra de modelos</button></div><div class="row"><span class="sn-tooltip-basic annotation-tooltip" title="Habilitar/desabilitar anotações" data-dismiss="popover" data-title-enabled="Habilitar/desabilitar anotações" data-title-disabled="Sem anotações disponíveis"><button id="header_toggle_annotations" class="icon-help">Habilitar/desabilitar anotações</button></span></div><legend>Marcadores<span id="tags_number" class="badge pull-right"></span></legend><div class="row add-tag"><button id="tags_menu" class="icon-label">Adicionar marcador</button></div><script id="label_template" type="application/xml"><li id="#{sysId}">#{HTML:label}</li></script><div id="form_tags" class="row"><ul id="document_tags" data-table="incident" data-sys_id="aea9612d87dee2100030cb340cbb35fd" data-label="Adicionar rótulo..."></ul></div></div></div><span class="ui_action_container_primary"><span class="navbar_ui_actions"><div class="btn-group" id="notificationFollowWidget"><button type="button" id="notificationFollowWidgetAction" aria-live="polite" data-follow-label="Seguir" data-unfollow-label="Deixar de seguir" data-following-label="Seguindo" class="btn btn-default default-focus-outline notification-follow-widget-action-button"><span class="action-button-label">Seguir</span><span class="action-button-hover">Seguir</span></button></div><script type="text/javascript" src="/scripts/notification_follow_widget.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript">NotificationFollowWidget.init({
																							table: "incident",
																							sysID: "aea9612d87dee2100030cb340cbb35fd"
																							},
																							false,
																							"Agora você está seguindo INC2732616. Você será notificado de novos comentários ou anotações de trabalho de acordo com suas configurações de notificação.",
																							"Agora, você não está mais seguindo INC2732616"
																						);</script><script>var messages = new GwtMessage();</script><button class="form_action_button header  action_context btn btn-default" style="white-space: nowrap" type="submit" value="2e15170ddb6a2f002f121c61149619b8" onClick="var redirect_to_catalog=window.redirect_to_catalog;internalServiceIt();;return false;" data-now-ux-metrics-event="Click Form Action" id="redirect_to_catalog" data-action-name="redirect_to_catalog" gsft_id="2e15170ddb6a2f002f121c61149619b8">Catálogos de Serviço</button><script>addLoadEvent(function() {
							var internalServiceIt = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function internalServiceIt(){
	var number = g_form.getValue('number');
	var canRedirect = confirm("Você deseja relacionar o incidente " + number + 
							  " a uma nova solicitação?");
	if(canRedirect){
		if(g_form.getValue('assigned_to') == ''){
			g_form.addErrorMessage('O campo "Atribuído a" deve ser preenchido.');
			return;
		}else{
			gsftSubmit(null, g_form.getFormElement(), 'redirect_to_catalog');
		}
	}
}

if(typeof window == 'undefined')
   redirectToCatalog();

function redirectToCatalog(){
	var url = "catalogs_home.do?sysparm_view=catalogs_default";
	
	var session = gs.getSession();
	session.putClientData('alpParentRecord', current.sys_id);
	session.putClientData('alpParentRecordNumber', current.number);
	current.update();
	//action.setRedirectURL('/home.do');
	action.setRedirectURL(url);
}

 return internalServiceIt.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
							window.internalServiceIt = internalServiceIt;
							});</script><button class="form_action_button header  action_context btn btn-primary" style="white-space: nowrap" type="submit" title="Salvar registro e permanecer aqui" value="sysverb_update_and_stay" onClick="return gsftSubmit(this);" id="sysverb_update_and_stay" data-action-name="sysverb_update_and_stay" data-now-ux-metrics-event="Click Form Action" gsft_id="47fd7f4dc0a8000600a552278b5232ab" name="not_important">Salvar</button></span></span><button onclick="window.parent.closeFormModal()" id="close_modal" class="btn btn-icon icon-cross navbar-btn" style="display: none;"><span class="sr-only">Fechar o Formulário</span></button><script>if (window.parent && window.parent.closeFormModal)
										document.getElementById('close_modal').style.display = 'inline-block';</script></span><span></span></div></div><span class="ui_action_container_overflow"></span></nav><script>if('false' == 'true')
		$$('nav.navbar')[0].setStyle({marginBottom: '0px'});</script></span></span></div><script data-description="MessagesTag">(function() {
 var messages = new GwtMessage();
messages.set('Mandatory - preloaded with saved data','Obrigatório - pré-carregado com os dados salvos');
messages.set('Field value has changed since last update','O valor do campo foi alterado desde a última atualização');
messages.set('Mandatory - must be populated before Submit','Obrigatório – deve ser preenchido antes de enviar');
messages.set('Read only - cannot be modified','Somente leitura - não é possível modificá-lo');
messages.set('Add Tag...','Adicionar rótulo...');
messages.set('Edit tag audience','Editar público de marca');
messages.set('{0} ({1})');
messages.set('({0} of {1})','({0} de {1})');
messages.set('Changes have been made, continuing will discard the changes. Click \'OK\' to discard changes.','As mudanças foram feitas. Se você continuar, as mudanças serão descartadas. Clique em \"OK\" para descartar as mudanças.');
})()</script><div id="incident.form_scroll" class="section_header_content_no_scroll touch_scroll   overflow_x_hidden-hotfix" data-position-below-header="true" sn-atf-blacklist="IS_GFORM"><form autocomplete="off" method="POST" action="incident.do" class="form_body form-horizontal" name="incident.do" accept-charset="UTF-8" id="incident.do" style="padding-bottom: 10px;" onkeypress="return enterSubmitsForm(event,'false')"><input name="sysparm_ck" id="sysparm_ck" type="hidden" value="5ee411713b5e6a1015086e9985e45a83d5e7852020e51ad63dd374f34e5a0f285c9f9119"></input><input type="HIDDEN" id="sys_base_uri" name="sys_base_uri" value="https://raizen.service-now.com/"></input><input type="HIDDEN" id="sys_target" name="sys_target" value="incident"></input><input type="HIDDEN" name="sys_uniqueName" value="sys_id"></input><input type="HIDDEN" id="sys_uniqueValue" name="sys_uniqueValue" value="aea9612d87dee2100030cb340cbb35fd"></input><input type="HIDDEN" id="sys_displayValue" name="sys_displayValue" value="INC2732616"></input><input type="HIDDEN" id="sys_titleValue" name="sys_titleValue" value="Relatar um problema"></input><input type="HIDDEN" id="onLoad_sys_updated_on" name="onLoad_sys_updated_on" value="2025-06-22 17:35:53"></input><input type="HIDDEN" id="sys_row" name="sys_row" value="0"></input><input type="HIDDEN" id="sys_modCount" name="sys_modCount" value="2"></input><input type="HIDDEN" id="sys_action" name="sys_action" value="none"></input><input type="HIDDEN" name="sysparm_collection"></input><input type="HIDDEN" name="sysparm_collectionID"></input><input type="HIDDEN" name="sysparm_collection_key"></input><input type="HIDDEN" name="sysparm_collection_related_field"></input><input type="HIDDEN" name="sysparm_collection_relationship"></input><input type="HIDDEN" name="sysparm_redirect_url" id="sysparm_redirect_url"></input><input type="HIDDEN" name="sysparm_goto_url" id="sysparm_goto_url"></input><input type="HIDDEN" id="isFormPage" name="isFormPage" value="true"></input><input type="HIDDEN" name="sysparm_referring_url" id="sysparm_referring_url"></input><input type="HIDDEN" name="sysparm_view" id="sysparm_view" value=""></input><input type="HIDDEN" name="sysparm_changeset" id="sysparm_changeset"></input><input type="HIDDEN" name="sysparm_template_editable" id="sysparm_template_editable"></input><input type="HIDDEN" name="sysparm_record_row" id="sysparm_record_row"></input><input type="HIDDEN" name="sysparm_record_list" id="sysparm_record_list"></input><input type="HIDDEN" name="sysparm_record_rows" id="sysparm_record_rows"></input><input type="HIDDEN" name="sysparm_record_target"></input><input type="HIDDEN" name="sysparm_modify_check" value="true"></input><input type="HIDDEN" name="sysparm_action_template"></input><input type="HIDDEN" name="sysparm_link_collection"></input><input type="HIDDEN" id="sysparm_pop_onLoad" name="sysparm_pop_onLoad"></input><input type="HIDDEN" id="sysparm_nameofstack" name="sysparm_nameofstack"></input><input type="HIDDEN" id="sysparm_transaction_scope" name="sysparm_transaction_scope"></input><input type="HIDDEN" id="sysparm_transaction_update_set" name="sysparm_transaction_update_set"></input><input type="HIDDEN" id="sysparm_record_scope" name="sysparm_record_scope"></input><input type="HIDDEN" id="ni.scroll_to_messsage_field" value="true"></input><input type="HIDDEN" id="ni.escape_form_message" value="false"></input><input type="HIDDEN" id="ni.escape_gwindow_message" value="false"></input><input type="HIDDEN" name="sysparm_ck" value="5ee411713b5e6a1015086e9985e45a83d5e7852020e51ad63dd374f34e5a0f285c9f9119"></input><span class="tabs2_section tabs2_section_0 tabs2_section0 " data-header-only="false" tab_caption="Incidente" tab_caption_raw="" id="section_tab.bf1d96e3c0a801640190725e63f8ac80" data-section-id="bf1d96e3c0a801640190725e63f8ac80"><span id="section-bf1d96e3c0a801640190725e63f8ac80" data-header-only="false" class="section "><div id="incident.section_header_spacer"></div><script type="text/javascript" data-description="attachment globals population">if (!window.NOW) window.NOW = {};
			window.NOW.g_forceDownloadAttachments = true;</script><div id="header_attachment"><div id="header_attachment_size_checker"><ul id="header_attachment_list" class="allow-resize-height inline-block-items with-plus-more with-ellipsis" data-max-filename-length="100" data-total-files="0"><li class="manage_list"><a href="#" id="header_attachment_list_label" style="visibility:hidden; display:none;" class="attachment" onclick="javascript:saveAttachment('incident', 'aea9612d87dee2100030cb340cbb35fd');; return false;">Gerenciar anexos (<span id="attachmentNumber_aea9612d87dee2100030cb340cbb35fd" class="attachmentNumber_aea9612d87dee2100030cb340cbb35fd"></span>):</a></li></ul><div id="attachment_upload_progress"></div></div><span class="plus_more hidden"><a role="button" click-on-space="true" aria-haspopup="dialog" aria-label="+-3 - Exibir Todos os Anexos" title="Exibir Todos os Anexos" tabindex="0" onclick="javascript:saveAttachment('incident', 'aea9612d87dee2100030cb340cbb35fd');; return false;"><span class="badge">+ -3</span></a></span></div><div id="header_attachment_line" style="display:none"></div><script>addLoadEvent(function() {

				if (typeof AttachmentUploader !== "undefined") {
					AttachmentUploader.addDropZone(document.body, "50",
					"true", "true", "true", "");
				}
			});</script><div id="output_messages" class="outputmsg_container outputmsg_hide"><button type="button" aria-label="Fechar Mensagens" id="close-messages-btn" class="btn btn-icon close icon-cross" onclick="GlideUI.get().onCloseMessagesButtonClick(this); return false;"></button><div class="outputmsg_div" aria-live="polite" role="region" data-server-messages="false"></div></div><script>addRenderEvent(function() {CustomEvent.fire('glide_optics_inspect_update_watchfield', '');});

			var accessibilityEnabled = Boolean(false);
			var hasMessages = false;
			if (accessibilityEnabled && hasMessages) {
				$j(function() {
					$j('#output_messages .btn.btn-icon.close').focus();
				});
			}</script><div id="bf1d96e3c0a801640190725e63f8ac80" glide="true" class="section-content with-overflow" role="region" aria-label="Incidente Seção de formulário"><div class="row"><div class="vsplit col-sm-6"><div id="element.incident.number" class="form-group " style=""><div class="" data-type="label" choice="0" type="string" id="label.incident.number" noWrap="true"><label onclick="return labelClicked(this);" for="incident.number" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.number" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Número</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.number" name="sys_original.incident.number" value="INC2732616"></input></div><input type="text" data-type="string" id="incident.number" name="incident.number" aria-required="false" aria-labelledby="label.incident.number" onChange="onChange('incident.number');telemetryForRecordUpdate('number');" maxlength="40" value="INC2732616" style="; " autocomplete="off" ng-non-bindable="" class="form-control readonly disabled" spellcheck="false" readonly="readonly"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.correlation_id" class="form-group " style=""><div class="" data-type="label" choice="0" type="string" id="label.incident.correlation_id" noWrap="true"><label onclick="return labelClicked(this);" for="incident.correlation_id" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.correlation_id" aria-label="" role="note" data-dynamic-title="ID gerado para ICs de entrada" mandatory="false" oclass="" class=" "></span><span title="ID gerado para ICs de entrada" class="label-text" data-html="false">ID de correlação</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.correlation_id" name="sys_original.incident.correlation_id" value=""></input></div><input type="text" data-type="string" id="incident.correlation_id" name="incident.correlation_id" aria-required="false" aria-labelledby="label.incident.correlation_id" onChange="onChange('incident.correlation_id');telemetryForRecordUpdate('correlation_id');" maxlength="100" value="" style="; " autocomplete="off" ng-non-bindable="" class="form-control " spellcheck="false"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.u_correlation_number" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="string" id="label.incident.u_correlation_number" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_correlation_number" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_correlation_number" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Número de Correlação</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_correlation_number" name="sys_original.incident.u_correlation_number" value=""></input></div><input type="text" data-type="string" id="incident.u_correlation_number" name="incident.u_correlation_number" aria-required="false" aria-labelledby="label.incident.u_correlation_number" onChange="onChange('incident.u_correlation_number');telemetryForRecordUpdate('u_correlation_number');" maxlength="40" value="" style="; " autocomplete="off" ng-non-bindable="" class="form-control " spellcheck="false"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.u_solicitante_ibm" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_solicitante_ibm" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.u_solicitante_ibm" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_solicitante_ibm" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Solicitante</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_solicitante_ibm" name="sys_original.incident.u_solicitante_ibm"></input></div><input style=";" id="incident.u_solicitante_ibm_label" name="incident.u_solicitante_ibm_label" aria-labelledby="label.incident.u_solicitante_ibm" value="" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.u_solicitante_ibm" name="incident.u_solicitante_ibm" value="" writeaccess="false"></input><input type="hidden" id="sys_display.incident.u_solicitante_ibm" name="sys_display.incident.u_solicitante_ibm" value=""></input><input type="hidden" id="sys_display.original.incident.u_solicitante_ibm" name="sys_display.original.incident.u_solicitante_ibm" value=""></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_solicitante_ibm" type="button" name="viewr.incident.u_solicitante_ibm" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_suppliers.do" data-ref="incident.u_solicitante_ibm" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Solicitante"></button></span></div></div><div id="element.incident.caller_id" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.caller_id" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.caller_id" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.caller_id" aria-label="" role="note" data-dynamic-title="Pessoa que relatou ou foi afetada por este incidente" mandatory="false" oclass="" class=" required-marker"></span><span title="Pessoa que relatou ou foi afetada por este incidente" class="label-text" data-html="false">Solicitado para</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.caller_id" name="sys_original.incident.caller_id" value="f617aff2db5b05505febb11ba39619a9"></input></div><input type="hidden" id="incident.caller_id" name="incident.caller_id" value="f617aff2db5b05505febb11ba39619a9" data-type="" onchange="onChange('incident.caller_id');telemetryForRecordUpdate('caller_id');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.caller_id" name="sys_display.original.incident.caller_id" value="oxxo-apemota"></input><div class="input-group ref-container "><input id="sys_display.incident.caller_id" name="sys_display.incident.caller_id" aria-labelledby="label.incident.caller_id" type="search" autocomplete="off" autocorrect="off" value="oxxo-apemota" ac_columns="email" ac_order_by="name" data-type="ac_reference_input" data-completer="AJAXTableCompleter" data-dependent="company" data-dependent-value="" data-ref-qual="" data-ref="incident.caller_id" data-ref-key="null" data-ref-dynamic="false" data-name="caller_id" data-table="sys_user" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.caller_id'); if (!e.ac) new AJAXTableCompleter(gel('sys_display.incident.caller_id'), 'incident.caller_id', 'company', ''); e.ac.onFocus();})" aria-required="true"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.caller_id" name="lookup.incident.caller_id" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.caller_id" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.caller_id" data-form="sys_user.do" aria-label="Pesquisar valor de campo: Solicitado para"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><a id="show_incidents_e70be6f947d62a1013c482b8036d4328:incident.caller_id" name="show_incidents_e70be6f947d62a1013c482b8036d4328:incident.caller_id" aria-label="Mostrar incidentes relacionados" data-now-ux-metrics-event="Show Related Records" data-requested-by="incident.caller_id" onclick="showRelatedList('incident.caller_id'); " style="display: none" class="btn btn-default btn-ref reference_decoration icon-tree-right" title="Mostrar incidentes relacionados" tabindex="-1"><span class="sr-only">Mostrar incidentes relacionados</span></a><script>// react to an onchange event
// show link if populated, hide if not
// move to js file for multiple inclusion
function decorationShow(element, original, changed, loading) {
	var $refButton = $j(gel('show_incidents_e70be6f947d62a1013c482b8036d4328:incident.caller_id'));
	if (changed.length > 0)
		$refButton.show().children().show();
	else
		$refButton.hide();
}

// todo: SB nice extjs event model
var n = 'incident.caller_id'.replace(/\./g, '_');
var h = new GlideEventHandler('onChange_' + n, decorationShow, 'incident.caller_id');
g_event_handlers.push(h);</script><script>// show related list
(function() {
	function decorationShow(element, original, changed, loading) {
		var $refButton = $j(gel('show_incidents_e70be6f947d62a1013c482b8036d4328:incident.caller_id'));
		$refButton.attr('role', 'button');
		}
	var n = 'show_incidents_e70be6f947d62a1013c482b8036d4328:incident.caller_id'.replace(/./g, '');
	var h = new GlideEventHandler('onLoad' + n, decorationShow, 'incident.caller_id');
	g_event_handlers.push(h);
})();
function showRelatedList(reference) {
	try {
		var displayValue = g_form.getDisplayBox(reference).value;
		var title = new GwtMessage().getMessage("Showing records related to: {0} ", displayValue);
		var s = reference.split('.');
		var referenceField = s[s.length - 1];
		var query = referenceField + '=' + g_form.getValue(reference);

		var gdw = new GlideModal('show_list');
		gdw.setTitle(title);
		gdw.setSize(750);
		gdw.setPreference('focusTrap', true);
		gdw.setPreference('table', 'incident_list');
		gdw.setPreference('sysparm_query', query);
		gdw.setPreference('title', 'A New Title');
		gdw.render();
	} catch (e) {
		jslog('error showing related list');
		jslog(e);
	}
}</script><span name=""><button id="viewr.incident.caller_id" type="button" name="viewr.incident.caller_id" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user.do" data-ref="incident.caller_id" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Solicitado para"></button></span></div></div><div id="element.incident.u_catalog_item" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_catalog_item" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.u_catalog_item" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_catalog_item" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Item</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_catalog_item" name="sys_original.incident.u_catalog_item" value="0c1c18d887a052d030ceec240cbb35f2"></input></div><input style=";" id="incident.u_catalog_item_label" name="incident.u_catalog_item_label" aria-labelledby="label.incident.u_catalog_item" value="Teclado / Mouse" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.u_catalog_item" name="incident.u_catalog_item" value="0c1c18d887a052d030ceec240cbb35f2" writeaccess="false"></input><input type="hidden" id="sys_display.incident.u_catalog_item" name="sys_display.incident.u_catalog_item" value="Teclado / Mouse"></input><input type="hidden" id="sys_display.original.incident.u_catalog_item" name="sys_display.original.incident.u_catalog_item" value="Teclado / Mouse"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_catalog_item" type="button" name="viewr.incident.u_catalog_item" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sc_cat_item_producer.do" data-ref="incident.u_catalog_item" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Item"></button></span></div></div><div id="element.incident.u_service" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_service" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.u_service" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_service" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Serviço</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_service" name="sys_original.incident.u_service" value="f65f9c1887e052d030ceec240cbb3541"></input></div><input style=";" id="incident.u_service_label" name="incident.u_service_label" aria-labelledby="label.incident.u_service" value="Teclado / Mouse" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.u_service" name="incident.u_service" value="f65f9c1887e052d030ceec240cbb3541" writeaccess="false"></input><input type="hidden" id="sys_display.incident.u_service" name="sys_display.incident.u_service" value="Teclado / Mouse"></input><input type="hidden" id="sys_display.original.incident.u_service" name="sys_display.original.incident.u_service" value="Teclado / Mouse"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_service" type="button" name="viewr.incident.u_service" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_cmdb_ci_catalog_service.do" data-ref="incident.u_service" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Serviço"></button></span></div></div><div id="element.incident.u_category" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_category" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.u_category" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_category" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Categoria</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_category" name="sys_original.incident.u_category" value="5ecf585887e052d030ceec240cbb351b"></input></div><input style=";" id="incident.u_category_label" name="incident.u_category_label" aria-labelledby="label.incident.u_category" value="Teclado / Mouse" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.u_category" name="incident.u_category" value="5ecf585887e052d030ceec240cbb351b" writeaccess="false"></input><input type="hidden" id="sys_display.incident.u_category" name="sys_display.incident.u_category" value="Teclado / Mouse"></input><input type="hidden" id="sys_display.original.incident.u_category" name="sys_display.original.incident.u_category" value="Teclado / Mouse"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_category" type="button" name="viewr.incident.u_category" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_cmdb_ci_catalog_category.do" data-ref="incident.u_category" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Categoria"></button></span></div></div><div id="element.incident.u_subcategory" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_subcategory" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.u_subcategory" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_subcategory" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Subcategoria</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_subcategory" name="sys_original.incident.u_subcategory" value="da0170248748d65030ceec240cbb35c8"></input></div><input style=";" id="incident.u_subcategory_label" name="incident.u_subcategory_label" aria-labelledby="label.incident.u_subcategory" value="Mouse" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.u_subcategory" name="incident.u_subcategory" value="da0170248748d65030ceec240cbb35c8" writeaccess="false"></input><input type="hidden" id="sys_display.incident.u_subcategory" name="sys_display.incident.u_subcategory" value="Mouse"></input><input type="hidden" id="sys_display.original.incident.u_subcategory" name="sys_display.original.incident.u_subcategory" value="Mouse"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_subcategory" type="button" name="viewr.incident.u_subcategory" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_cmdb_ci_catalog_subcategory.do" data-ref="incident.u_subcategory" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Subcategoria"></button></span></div></div><div id="element.incident.u_symptom" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_symptom" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.u_symptom" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_symptom" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Sintoma</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_symptom" name="sys_original.incident.u_symptom" value="c42200898714da1030ceec240cbb3518"></input></div><input style=";" id="incident.u_symptom_label" name="incident.u_symptom_label" aria-labelledby="label.incident.u_symptom" value="Não funciona" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.u_symptom" name="incident.u_symptom" value="c42200898714da1030ceec240cbb3518" writeaccess="false"></input><input type="hidden" id="sys_display.incident.u_symptom" name="sys_display.incident.u_symptom" value="Não funciona"></input><input type="hidden" id="sys_display.original.incident.u_symptom" name="sys_display.original.incident.u_symptom" value="Não funciona"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_symptom" type="button" name="viewr.incident.u_symptom" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_cmdb_ci_catalog_occurrence.do" data-ref="incident.u_symptom" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Sintoma"></button></span></div></div><div id="element.incident.u_type_of_symptom" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_type_of_symptom" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.u_type_of_symptom" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_type_of_symptom" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Tipo de Sintoma</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_type_of_symptom" name="sys_original.incident.u_type_of_symptom"></input></div><input type="hidden" id="incident.u_type_of_symptom" name="incident.u_type_of_symptom" data-type="" onchange="onChange('incident.u_type_of_symptom');telemetryForRecordUpdate('u_type_of_symptom');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.u_type_of_symptom" name="sys_display.original.incident.u_type_of_symptom" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.u_type_of_symptom" name="sys_display.incident.u_type_of_symptom" aria-labelledby="label.incident.u_type_of_symptom" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="true" data-ref="incident.u_type_of_symptom" data-ref-key="null" data-ref-dynamic="false" data-name="u_type_of_symptom" data-table="u_cmdb_ci_catalog_symptom_types" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.u_type_of_symptom'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.u_type_of_symptom'), 'incident.u_type_of_symptom', '', 'true'); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.u_type_of_symptom" name="lookup.incident.u_type_of_symptom" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.u_type_of_symptom" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.u_type_of_symptom" data-form="u_cmdb_ci_catalog_symptom_types.do" aria-label="Pesquisar valor de campo: Tipo de Sintoma"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_type_of_symptom" type="button" name="viewr.incident.u_type_of_symptom" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_cmdb_ci_catalog_symptom_types.do" data-ref="incident.u_type_of_symptom" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Tipo de Sintoma"></button></span></div></div><div id="element.incident.due_date" class="form-group " style=""><div class="" data-type="label" choice="0" type="date_time" id="label.incident.due_date" noWrap="true"><label onclick="return labelClicked(this);" for="incident.due_date" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.due_date" aria-label="" role="note" data-dynamic-title="Data esperada a partir da atribuição" mandatory="false" oclass="" class=" "></span><span title="Data esperada a partir da atribuição" class="label-text" data-html="false">Prazo</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.due_date" name="sys_original.incident.due_date" value="26/06/2025 18:00:00"></input></div><span class="element date-timeago"><span class="input-group static"><p id="incident.due_date.timeago" class="form-control-static date-timeago" timeago="2025-06-26 21:00:00" title="26/06/2025 18:00:00">4 dias a partir de agora</p><span class="input-group-btn"><button class="btn btn-default" type="button" name="incident.due_date.ui_policy_sensitive" id="incident.due_date.ui_policy_sensitive" tabindex="-1" data-type="date_time" data-ref="incident.due_date" data-now-ux-metrics-event="Select Date and Time" style="; border-left-width:1px; border-radius: 3px;" title="Selecionar data e hora" aria-label="Selecione data e hora de Prazo" data-date_time_format="dd/MM/yyyy HH:mm:ss"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecione data e hora de Prazo</span></button></span></span></span><div class="element date-calendar date-calendar-display"><span class="input-group input-group-disabled"><input type="text" class="form-control text-align-right-ltr element_reference_input readonly disabled datex" id="incident.due_date" data-type="glide_element_date_time" data-ref="incident.due_date" aria-required="false" name="incident.due_date" value="26/06/2025 18:00:00" timeago-attrs="title" timeago="2025-06-26 21:00:00" style=";" readonly="readonly" title="4 dias a partir de agora"></input><input type="hidden" class="incident.due_date_date_field_msg" data-type="glide_element_date_time" data-ref="incident.due_date"></input><span class="input-group-btn"><button class="btn btn-default btn-ref date_time_trigger" type="button" name="incident.due_date.ui_policy_sensitive" id="incident.due_date.ui_policy_sensitive" tabindex="-1" data-type="date_time" data-ref="incident.due_date" data-now-ux-metrics-event="Select Date and Time" title="Selecione data e hora de Prazo" aria-label="Selecione data e hora de Prazo" data-date_time_format="dd/MM/yyyy HH:mm:ss"><span class="icon-calendar icon" aria-hidden="true"></span></button></span></span></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.business_service" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.business_service" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.business_service" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.business_service" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Serviço de negócio</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.business_service" name="sys_original.incident.business_service"></input></div><input type="hidden" id="incident.business_service" name="incident.business_service" data-type="" onchange="onChange('incident.business_service');telemetryForRecordUpdate('business_service');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.business_service" name="sys_display.original.incident.business_service" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.business_service" name="sys_display.incident.business_service" aria-labelledby="label.incident.business_service" type="search" autocomplete="off" autocorrect="off" value="" ac_columns="location" data-type="ac_reference_input" data-completer="AJAXTableCompleter" data-dependent="" data-dependent-value="" data-ref-qual="" data-ref="incident.business_service" data-ref-key="null" data-ref-dynamic="false" data-name="business_service" data-table="cmdb_ci_service" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.business_service'); if (!e.ac) new AJAXTableCompleter(gel('sys_display.incident.business_service'), 'incident.business_service', '', ''); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.business_service" name="lookup.incident.business_service" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.business_service" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.business_service" data-form="cmdb_ci_service.do" aria-label="Pesquisar valor de campo: Serviço de negócio"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><a><span id="show_business_service_related_bsm_map:incident.business_service" onclick="showBSM('show_business_service_related_bsm_map:incident.business_service')" name="show_business_service_related_bsm_map:incident.business_service" style="visibility: hidden" aria-label="Abrir nas Visualizações de dependências" title="Abrir nas Visualizações de dependências" alt="Abrir nas Visualizações de dependências" class="icon ref-button icon-tree btn btn-default btn-ref" tabindex="0"></span></a><script>var fieldName;
		function onChangeBusinessServiceShowBSM(element, original, changed, loading) {
			var visibility = 'hidden';
			if (changed.length > 0)
				visibility = 'visible';
			var e = gel('show_business_service_related_bsm_map:incident.business_service');
			e.style.visibility = visibility;
		}

		// Only allow clicking when the reference field contains full, valid data
		function showBSM(name) {
			fieldName = name.split(':')[1];
			var n = gel(fieldName);
			n = n.value;
			if (n.length == 0)
				alert("Populate Business Service first");
			else
				buildUrl(n);
		}

		function buildUrl(sys_id) {
			var url = '';
			url += '$ngbsm.do?id=' + sys_id;
			url += '&';
			url += 'serviceView=' + '';
			url += '&';
			url += 'sysparm_nostack=true';
			url += '&';
			url += 'fromTask=' + g_form.getUniqueValue();
			// Open the map in a new window and focus it
			g_navigation.open(url, 'super_bsm_map');
		}
		var table = 'incident';
		var event = new GlideEventHandler('onChange_' + table + '_business_service_related_bsm', onChangeBusinessServiceShowBSM, 'incident.business_service');
		g_event_handlers.push(event);</script><button id="show_business_service_related_records_incident.business_service" type="button" tabindex="-1" aria-haspopup="true" onclick="showBusinessServiceTasksDialog('incident.business_service')" name="show_business_service_related_records_incident.business_service" title="Mostrar outras tarefas ativas" class="btn btn-ref btn-default icon-warning-circle" style="visibility:hidden;position:absolute;left:-1000px;"><span class="sr-only">Mostrar outras tarefas ativas que afetam este serviço de negócio</span></button><script>function onChangeBusinessServiceShowRelated(element, original, changed, loading) {
			if (loading) {
				return;
			}
			if (changed.length == 0) {
				hideBusinessServiceRelatedRecord();
				return;
			}
			var ga = new GlideAjax('ShowRelatedTasksForBusinessService');
			ga.addParam('sysparm_name', 'hasRelatedTaskCount');
			ga.addParam('sysparm_business_service', g_form.getValue('incident.business_service'));
			ga.addParam('sysparm_sys_id', g_form.getUniqueValue());
			ga.getXML(showRelatedTaskCallback);
		}

		function showRelatedTaskCallback(response) {
			var answer = response.responseXML.documentElement.getAttribute("answer");
			if (answer === 'true')
				showBusinessServiceRelatedRecord();
			else
				hideBusinessServiceRelatedRecord();
		}
		function hideBusinessServiceRelatedRecord(){
			var e = $('show_business_service_related_records_incident.business_service');
			e.style.visibility = 'hidden';
			e.style.position = 'absolute';
			e.style.left = '-1000px';
		}
		function showBusinessServiceRelatedRecord(){
			var e = $('show_business_service_related_records_incident.business_service');
			e.style.visibility = 'visible';
			e.style.position = '';
			e.style.left = '';
		}

		var h = new GlideEventHandler('onChange_incident_business_service_show_related', onChangeBusinessServiceShowRelated, 'incident.business_service');
		g_event_handlers.push(h);

		function showBusinessServiceTasksDialog(reference){
			var v = g_form.getValue(reference);
			var w = new GlideModal('show_list');
			w.setTitle(getMessage('Other active tasks affecting this Business Service'));
			w.setPreference('table', 'task_list');
			w.setPreference('sysparm_view', 'default');
			w.setPreference('sysparm_query', "active=true^sys_id!=" + g_form.getUniqueValue() + "^business_service=" + v + "^GROUPBYsys_class_name");
			w.setPreference('focusTrap', true);
			w.render();
		}</script><span name=""><button id="viewr.incident.business_service" type="button" name="viewr.incident.business_service" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="cmdb_ci_service.do" data-ref="incident.business_service" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Serviço de negócio"></button></span></div></div><div id="element.incident.cmdb_ci" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.cmdb_ci" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.cmdb_ci" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.cmdb_ci" aria-label="" role="note" data-dynamic-title="Item ou serviço afetado" mandatory="false" oclass="" class=" required-marker"></span><span title="Item ou serviço afetado" class="label-text" data-html="false">Item de configuração</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.cmdb_ci" name="sys_original.incident.cmdb_ci" value="c33477e4dbf8d0105eaf63901496191c"></input></div><input type="hidden" id="incident.cmdb_ci" name="incident.cmdb_ci" value="c33477e4dbf8d0105eaf63901496191c" data-type="" onchange="onChange('incident.cmdb_ci');telemetryForRecordUpdate('cmdb_ci');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.cmdb_ci" name="sys_display.original.incident.cmdb_ci" value="Lojas Select Próprias"></input><div class="input-group ref-container "><input id="sys_display.incident.cmdb_ci" name="sys_display.incident.cmdb_ci" aria-labelledby="label.incident.cmdb_ci" type="search" autocomplete="off" autocorrect="off" value="Lojas Select Próprias" ac_columns="sys_class_name;location" ac_order_by="sys_class_name" data-type="ac_reference_input" data-completer="AJAXTableCompleter" data-dependent="" data-dependent-value="" data-ref-qual="true" data-ref="incident.cmdb_ci" data-ref-key="null" data-ref-dynamic="false" data-name="cmdb_ci" data-table="cmdb_ci" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.cmdb_ci'); if (!e.ac) new AJAXTableCompleter(gel('sys_display.incident.cmdb_ci'), 'incident.cmdb_ci', '', 'true'); e.ac.onFocus();})" aria-required="true"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.cmdb_ci" name="lookup.incident.cmdb_ci" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.cmdb_ci" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.cmdb_ci" data-form="cmdb_ci.do" aria-label="Pesquisar valor de campo: Item de configuração"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><a><span id="show_map:incident.cmdb_ci" onclick="showMap('show_map:incident.cmdb_ci')" name="show_map:incident.cmdb_ci" style="visibility: hidden" aria-label="Abrir nas Visualizações de dependências abre em uma nova guia" title="Abrir nas Visualizações de dependências" alt="Abrir nas Visualizações de dependências" class="icon ref-button icon-tree btn btn-default btn-ref" tabindex="0" role="link"></span></a><script>// Only show the button is the reference field has content
        function onChange_cmdb_ci_bsm(element, original, changed, loading) {
            var visibility = 'hidden';
            if (changed.length > 0)
                visibility = 'visible';

            var e = gel('show_map:incident.cmdb_ci');
            e.style.visibility = visibility;
        }

        // Only allow clicking when the reference field contains full, valid data
        function showMap(name) {
            var fieldName = name.split(':')[1];
            var n = gel(fieldName);
            n = n.value;

            if (n.length == 0)
                alert("Populate CI field first");
            else
                showBSMMap(n, fieldName);
        }

        // Construct a link to the correct version of BSM and open it
        function showBSMMap(sys_id, fieldName) {
            var url = '';

            // When using NGBSM, use a simplified link
            url += '$ngbsm.do?id=' + sys_id;
            url += '&';
            url += 'serviceView=' + 'false';
			url += '&';
		    url += 'sysparm_nostack=true'; //PRB675289 - support 'back' correctly 
            url += '&';
            url += 'fromTask=' + g_form.getUniqueValue();

            // Open the map in a new window and focus it
            g_navigation.open(url, 'super_bsm_map');
        }

        // Create input changed event handlers for all relevant tables
        var a = ['incident', 'change_request', 'problem'];
        for (i = 0; i < a.length; i++) {
            var h = new GlideEventHandler('onChange_' + a[i] + '_cmdb_ci_bsm', onChange_cmdb_ci_bsm, 'incident.cmdb_ci');
            g_event_handlers.push(h);
        }</script><style>.show_related_records_hidden {
			visibility: hidden;
			position: absolute;
			left: -1000px;
		}</style><button id="show_related_tasks_incident.cmdb_ci" type="button" aria-haspopup="true" aria-label="Mostrar outras tarefas ativas que afetam este IC" onclick="showTasksDialog('incident.cmdb_ci')" name="show_related_tasks_incident.cmdb_ci" class="btn btn-ref btn-default icon-warning-circle show_related_records_hidden" tabindex="-1" title="Mostrar outras tarefas ativas"></button><script>(function() {
      needsRefresh = false;
      function onChange_cmdb_incidentcmdb_ci_ci_show_related(element, original, changed, loading) {
         if (needsRefresh == false) {
            needsRefresh = true;
            return;
         }
         if (changed.length == 0 || false === false) {
            $('show_related_tasks_incident.cmdb_ci').addClassName('show_related_records_hidden');
            return;
         }
         var ga = new GlideAjax('ShowRelatedTasksAjax');
         ga.addParam('sysparm_name', 'getRelatedTaskCount');
         ga.addParam('sysparm_ci', g_form.getValue('incident.cmdb_ci'));
         ga.addParam('sysparm_task', g_form.getUniqueValue());
         ga.getXML(relatedTaskReturn);
      }

      function relatedTaskReturn(response) {
         var answer = parseInt(response.responseXML.documentElement.getAttribute("answer"));
         var e = $('show_related_tasks_incident.cmdb_ci');
         if (answer > 0)
            e.removeClassName('show_related_records_hidden');
         else
		    e.addClassName('show_related_records_hidden');
      }

      var h = new GlideEventHandler('onChange_incident_incidentcmdb_ci_cmdb_ci_show_related', onChange_cmdb_incidentcmdb_ci_ci_show_related, 'incident.cmdb_ci');
      g_event_handlers.push(h);

      })();

      function showTasksDialog(reference) {
         var v = g_form.getValue(reference);
         var w = new GlideDialogWindow('show_list');
         w.setTitle(getMessage('Other active tasks affecting this Configuration Item'));
         w.setPreference('table', 'task_ci_list');
         w.setPreference('sysparm_view', 'task_rel_ci');
         w.setPreference('sysparm_query', "task.active=true^task.sys_id!=" + g_form.getUniqueValue() + "^ci_item=" + v);
	     w.setPreference('focusTrap', true);
         w.render();
      }</script><span name=""><button id="viewr.incident.cmdb_ci" type="button" name="viewr.incident.cmdb_ci" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="cmdb_ci.do" data-ref="incident.cmdb_ci" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Item de configuração"></button></span></div></div><div id="element.incident.u_data_faturamento" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="date" id="label.incident.u_data_faturamento" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_data_faturamento" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_data_faturamento" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Data de faturamento</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_data_faturamento" name="sys_original.incident.u_data_faturamento" value=""></input></div><span class="input-group element"><input type="text" class="form-control text-align-right-ltr element_reference_input" id="incident.u_data_faturamento" data-type="glide_element_date" data-ref="incident.u_data_faturamento" name="incident.u_data_faturamento" aria-required="false" value="" style="; "></input><span class="input-group-btn"><a class="btn-ref btn btn-default" name="incident.u_data_faturamento.ui_policy_sensitive" id="incident.u_data_faturamento.ui_policy_sensitive" tabindex="-1" data-type="element_date" data-ref="incident.u_data_faturamento" data-now-ux-metrics-event="Select Date and Time" title="Selecionar data" role="button" href="javascript:void(0)" data-date_time_format="dd/MM/yyyy"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecionar data</span></a></span></span></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.u_estimativa_horas" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="glide_duration" id="label.incident.u_estimativa_horas" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_estimativa_horas" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_estimativa_horas" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Estimativa de horas</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_estimativa_horas" name="sys_original.incident.u_estimativa_horas" value=""></input></div><div class="row"><span id="incident.u_estimativa_horas_entry"><div class="col-xs-5 col-sm-12 col-md-12 col-lg-4 no-right-padding-lg duration_day"><div class="input-group input-group-1"><span class="input-group-addon"><label for="ni.incident.u_estimativa_horasdur_day">Dias</label></span><input type="text" name="ni.incident.u_estimativa_horasdur_day" data-type="incident.u_estimativa_horas_duration_field" id="ni.incident.u_estimativa_horasdur_day" title="Dias" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_estimativa_horas"></input></div></div><div class="col-xs-7 col-sm-12 col-md-12 col-lg-8 no-left-padding-lg"><div class="input-group input-group-3"><span class="input-group-addon"><label for="ni.incident.u_estimativa_horasdur_hour">Horas</label></span><input type="text" name="ni.incident.u_estimativa_horasdur_hour" data-type="incident.u_estimativa_horas_duration_field" id="ni.incident.u_estimativa_horasdur_hour" title="Horas" maxlength="2" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_estimativa_horas"></input><span class="input-group-addon sr-only"><label for="ni.incident.u_estimativa_horasdur_min">Minutos</label></span><input type="text" name="ni.incident.u_estimativa_horasdur_min" data-type="incident.u_estimativa_horas_duration_field" id="ni.incident.u_estimativa_horasdur_min" title="Minutos" maxlength="2" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_estimativa_horas"></input><span class="input-group-addon sr-only"><label for="ni.incident.u_estimativa_horasdur_sec">segundos</label></span><input type="text" name="ni.incident.u_estimativa_horasdur_sec" data-type="incident.u_estimativa_horas_duration_field" id="ni.incident.u_estimativa_horasdur_sec" title="segundos" maxlength="2" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_estimativa_horas"></input></div></div></span></div><input id="incident.u_estimativa_horas" type="hidden" name="incident.u_estimativa_horas" data-max-level="4" data-type="duration" data-ref="incident.u_estimativa_horas" data-disabled="false" writeaccess="true" value=""></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.u_data_alvo" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="date" id="label.incident.u_data_alvo" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_data_alvo" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_data_alvo" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Data Alvo</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_data_alvo" name="sys_original.incident.u_data_alvo" value=""></input></div><span class="input-group element"><input type="text" class="form-control text-align-right-ltr element_reference_input" id="incident.u_data_alvo" data-type="glide_element_date" data-ref="incident.u_data_alvo" name="incident.u_data_alvo" aria-required="false" value="" style="; "></input><span class="input-group-btn"><a class="btn-ref btn btn-default" name="incident.u_data_alvo.ui_policy_sensitive" id="incident.u_data_alvo.ui_policy_sensitive" tabindex="-1" data-type="element_date" data-ref="incident.u_data_alvo" data-now-ux-metrics-event="Select Date and Time" title="Selecionar data" role="button" href="javascript:void(0)" data-date_time_format="dd/MM/yyyy"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecionar data</span></a></span></span></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.u_status_desenvolvimento" class="form-group " style="display: none"><div class="" data-type="label" choice="1" type="choice" id="label.incident.u_status_desenvolvimento" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_status_desenvolvimento" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_status_desenvolvimento" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Status do desenvolvimento</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_status_desenvolvimento" name="sys_original.incident.u_status_desenvolvimento" value=""></input></div><select aria-required="false" aria-labelledby="label.incident.u_status_desenvolvimento" ng-non-bindable="true" NAME="incident.u_status_desenvolvimento" ID="incident.u_status_desenvolvimento" onChange="onChange('incident.u_status_desenvolvimento', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('u_status_desenvolvimento');" style="; " class="form-control  " choice="1"><option value="" SELECTED="SELECTED">-- Nenhum --</option><option value="1">Aguardando aprovação</option><option value="2">Aprovado - Em planejamento</option><option value="3">Em desenvolvimento</option><option value="4">Em homologação</option><option value="5">Em processo de RDM</option><option value="6">Implantado</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.u_status_desenvolvimento');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div></div><div class="vsplit col-sm-6"><div id="element.incident.contact_type" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="1" type="choice" id="label.incident.contact_type" noWrap="true"><label onclick="return labelClicked(this);" for="incident.contact_type" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.contact_type" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" required-marker"></span><span title="" class="label-text" data-html="false">Tipo de contato</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.contact_type" name="sys_original.incident.contact_type" value="service-portal"></input></div><select aria-required="true" aria-labelledby="label.incident.contact_type" ng-non-bindable="true" NAME="incident.contact_type" ID="incident.contact_type" onChange="onChange('incident.contact_type', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('contact_type');" style="; " class="form-control  " choice="1"><option value="">-- Nenhum --</option><option value="virtual_agent">Virtual Agent</option><option value="service-portal" SELECTED="SELECTED">Portal de Serviços</option><option value="email">E-mail</option><option value="phone">Telefone</option><option value="walk-in">Contato pessoal</option><option value="integration">Integração</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.contact_type');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.sys_created_on" class="form-group " style=""><div class="" data-type="label" choice="0" type="date_time" id="label.incident.sys_created_on" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.incident.sys_created_on" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.sys_created_on" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Criado em</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.sys_created_on" name="sys_original.incident.sys_created_on" value="22/06/2025 13:44:50"></input></div><span class="element date-timeago"><span class="input-group static"><p id="incident.sys_created_on.timeago" class="form-control-static date-timeago" timeago="2025-06-22 16:44:50" title="22/06/2025 13:44:50">23 hora atrás</p><span class="input-group-btn"><button class="btn btn-default" type="button" name="incident.sys_created_on.ui_policy_sensitive" id="incident.sys_created_on.ui_policy_sensitive" tabindex="-1" data-type="date_time" data-ref="incident.sys_created_on" data-now-ux-metrics-event="Select Date and Time" style="display:none;; border-left-width:1px; border-radius: 3px;" title="Selecionar data e hora" aria-label="Selecione data e hora de Criado em" data-date_time_format="dd/MM/yyyy HH:mm:ss"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecione data e hora de Criado em</span></button></span></span></span><div class="element date-calendar date-calendar-display"><input style=";;" class="form-control disabled" id="sys_readonly.incident.sys_created_on" value="22/06/2025 13:44:50" readonly="readonly"></input><input type="hidden" id="incident.sys_created_on" onchange="onChange('incident.sys_created_on');" NAME="incident.sys_created_on" value="22/06/2025 13:44:50" writeaccess="false"></input></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.opened_by" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.opened_by" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.opened_by" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.opened_by" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="Pessoa que abriu o registro da tarefa" mandatory="false" oclass="read_only" class="read_only "></span><span title="Pessoa que abriu o registro da tarefa" class="label-text" data-html="false">Aberto por</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.opened_by" name="sys_original.incident.opened_by" value="f617aff2db5b05505febb11ba39619a9"></input></div><input style=";" id="incident.opened_by_label" name="incident.opened_by_label" aria-labelledby="label.incident.opened_by" value="oxxo-apemota" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.opened_by" name="incident.opened_by" value="f617aff2db5b05505febb11ba39619a9" writeaccess="false"></input><input type="hidden" id="sys_display.incident.opened_by" name="sys_display.incident.opened_by" value="oxxo-apemota"></input><input type="hidden" id="sys_display.original.incident.opened_by" name="sys_display.original.incident.opened_by" value="oxxo-apemota"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.opened_by" type="button" name="viewr.incident.opened_by" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user.do" data-ref="incident.opened_by" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Aberto por"></button></span></div></div><div id="element.incident.state" class="form-group " style=""><div class="" data-type="label" choice="3" type="choice" id="label.incident.state" noWrap="true"><label onclick="return labelClicked(this);" for="incident.state" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.state" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Estado</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.state" name="sys_original.incident.state" value="1"></input></div><select aria-required="false" aria-labelledby="label.incident.state" ng-non-bindable="true" NAME="incident.state" ID="incident.state" onChange="onChange('incident.state', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('state');" style="; " class="form-control  " choice="3"><option value="1" SELECTED="SELECTED">Novo</option><option value="2">Em andamento</option><option value="3">Em espera</option><option value="6">Resolvido</option><option value="7">Encerrado</option><option value="8">Cancelado</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.state');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.hold_reason" class="form-group " style="display: none"><div class="" data-type="label" choice="1" type="choice" id="label.incident.hold_reason" noWrap="true"><label onclick="return labelClicked(this);" for="incident.hold_reason" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.hold_reason" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Motivo para estar em espera</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.hold_reason" name="sys_original.incident.hold_reason" value=""></input></div><select aria-required="false" aria-labelledby="label.incident.hold_reason" ng-non-bindable="true" NAME="incident.hold_reason" ID="incident.hold_reason" onChange="onChange('incident.hold_reason', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('hold_reason');" style="; " class="form-control  " choice="1"><option value="" SELECTED="SELECTED">-- Nenhum --</option><option value="6">Aguardando Aprovação do Key User</option><option value="17">Em análise junto ao time de analitycs</option><option value="1">Aguardando Retorno do Cliente</option><option value="5">Aguardando Mudança</option><option value="4">Aguardando Fornecedor</option><option value="7">Aguardando Aprovação do Owner</option><option value="8">Pendente relatório</option><option value="9">Pendente área externa</option><option value="10">Em análise junto ao time de RPA</option><option value="11">Pendente atualização PDF</option><option value="12">Falha em atualização na base de dados</option><option value="13">Em análise junto ao time de analitycs</option><option value="14">Em análise junto ao time GovOp</option><option value="15">Falha em atualização/integração da base de dados</option><option value="16">Realizando correções no painel PBI</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.hold_reason');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.impact" class="form-group " style=""><div class="" data-type="label" choice="1" type="choice" id="label.incident.impact" noWrap="true"><label onclick="return labelClicked(this);" for="incident.impact" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.impact" aria-label="" role="note" data-dynamic-title="Medida de criticidade do serviço afetado para o negócio" mandatory="false" oclass="" class=" "></span><span title="Medida de criticidade do serviço afetado para o negócio" class="label-text" data-html="false">Impacto</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.impact" name="sys_original.incident.impact" value="3"></input></div><select aria-required="false" aria-labelledby="label.incident.impact" ng-non-bindable="true" NAME="incident.impact" ID="incident.impact" onChange="onChange('incident.impact', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('impact');" style="; " class="form-control  readonly disabled" readonly="readonly" choice="1"><option value="" disabled="disabled">-- Nenhum --</option><option value="1" disabled="disabled">1 - Alto</option><option value="2" disabled="disabled">2 - Médio</option><option value="3" SELECTED="SELECTED" disabled="disabled">3 - Baixo</option><option value="4" disabled="disabled">4 - Baixo somente TO</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.impact');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.urgency" class="form-group " style=""><div class="" data-type="label" choice="3" type="choice" id="label.incident.urgency" noWrap="true"><label onclick="return labelClicked(this);" for="incident.urgency" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.urgency" aria-label="" role="note" data-dynamic-title="O máximo de atraso tolerável para a resolução de um incidente" mandatory="false" oclass="" class=" "></span><span title="O máximo de atraso tolerável para a resolução de um incidente" class="label-text" data-html="false">Urgência</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.urgency" name="sys_original.incident.urgency" value="3"></input></div><select aria-required="false" aria-labelledby="label.incident.urgency" ng-non-bindable="true" NAME="incident.urgency" ID="incident.urgency" onChange="onChange('incident.urgency', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('urgency');" style="; " class="form-control  " choice="3"><option value="1">1 - Alto</option><option value="2">2 - Médio</option><option value="3" SELECTED="SELECTED">3 - Baixo</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.urgency');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.priority" class="form-group " style=""><div class="" data-type="label" choice="1" type="choice" id="label.incident.priority" noWrap="true"><label for="incident.priority" class="url  col-xs-12 col-md-3 col-lg-4 control-label" dir="ltr" style="pointer-events: none;"><span id="status.incident.priority" aria-label="" role="note" data-dynamic-title="Sequência na qual um incidente precisa ser resolvido" mandatory="false" oclass="" class=" "></span><a class="form-focus-outline" target="_blank" title="Sequência na qual um incidente precisa ser resolvido" href="/api/now/v1/context_doc_url/CSHelp:Prioritize-Incidents" style="text-decoration: underline; pointer-events: all;"><span class="sr-only">O link é aberto em uma nova janela</span><span class="label-text">Prioridade</span></a></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.priority" name="sys_original.incident.priority" value="6"></input></div><select aria-required="false" aria-labelledby="label.incident.priority" ng-non-bindable="true" NAME="incident.priority" ID="incident.priority" onChange="onChange('incident.priority', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('priority');" style="; " class="form-control  readonly disabled" readonly="readonly" choice="1"><option value="" disabled="disabled">-- Nenhum --</option><option value="0" disabled="disabled">0 - Crítico</option><option value="1" disabled="disabled">1 - Muito Alto</option><option value="2" disabled="disabled">2 - Alto</option><option value="3" disabled="disabled">3 - Elevado</option><option value="4" disabled="disabled">4 - Moderado</option><option value="6" SELECTED="SELECTED" disabled="disabled">6 - Baixo</option><option value="7" disabled="disabled">7 - Baixo TO</option><option value="5" disabled="disabled">5 - Padrão</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.priority');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.assignment_group" class="form-group is-prefilled" style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.assignment_group" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.assignment_group" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.assignment_group" aria-label="" role="note" data-dynamic-title="Grupo que é o principal responsável pelo trabalho neste registro de tarefa" mandatory="false" oclass="" class=" required-marker"></span><span title="Grupo que é o principal responsável pelo trabalho neste registro de tarefa" class="label-text" data-html="false">Grupo de Atribuição</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.assignment_group" name="sys_original.incident.assignment_group" value="9e5187171bc42410d97386afe54bcbf6"></input></div><input type="hidden" id="incident.assignment_group" name="incident.assignment_group" value="9e5187171bc42410d97386afe54bcbf6" data-type="" onchange="onChange('incident.assignment_group');telemetryForRecordUpdate('assignment_group');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.assignment_group" name="sys_display.original.incident.assignment_group" value="Grupo SN GN Equipe Suporte Stefanini"></input><div class="input-group ref-container "><input id="sys_display.incident.assignment_group" name="sys_display.incident.assignment_group" aria-labelledby="label.incident.assignment_group" type="search" autocomplete="off" autocorrect="off" value="Grupo SN GN Equipe Suporte Stefanini" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="true" data-ref="incident.assignment_group" data-ref-key="null" data-ref-dynamic="false" data-name="assignment_group" data-table="sys_user_group" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.assignment_group'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.assignment_group'), 'incident.assignment_group', '', 'true'); e.ac.onFocus();})" aria-required="true"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.assignment_group" name="lookup.incident.assignment_group" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.assignment_group" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.assignment_group" data-form="sys_user_group.do" aria-label="Pesquisar valor de campo: Grupo de Atribuição"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.assignment_group" type="button" name="viewr.incident.assignment_group" title="Visualizar este registro" aria-haspopup="true" style="display: ;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user_group.do" data-ref="incident.assignment_group" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Grupo de Atribuição"></button></span></div></div><div id="element.incident.assigned_to" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.assigned_to" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.assigned_to" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.assigned_to" aria-label="" role="note" data-dynamic-title="Pessoa que é o principal responsável pelo trabalho neste registro de tarefa" mandatory="false" oclass="" class=" "></span><span title="Pessoa que é o principal responsável pelo trabalho neste registro de tarefa" class="label-text" data-html="false">Atribuído a</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.assigned_to" name="sys_original.incident.assigned_to"></input></div><input type="hidden" id="incident.assigned_to" name="incident.assigned_to" data-type="" onchange="onChange('incident.assigned_to');telemetryForRecordUpdate('assigned_to');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.assigned_to" name="sys_display.original.incident.assigned_to" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.assigned_to" name="sys_display.incident.assigned_to" aria-labelledby="label.incident.assigned_to" type="search" autocomplete="off" autocorrect="off" value="" ac_columns="email" ac_order_by="name" data-type="ac_reference_input" data-completer="AJAXTableCompleter" data-dependent="" data-dependent-value="" data-ref-qual="true" data-ref="incident.assigned_to" data-ref-key="null" data-ref-dynamic="false" data-name="assigned_to" data-table="sys_user" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.assigned_to'); if (!e.ac) new AJAXTableCompleter(gel('sys_display.incident.assigned_to'), 'incident.assigned_to', '', 'true'); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.assigned_to" name="lookup.incident.assigned_to" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.assigned_to" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.assigned_to" data-form="sys_user.do" aria-label="Pesquisar valor de campo: Atribuído a"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.assigned_to" type="button" name="viewr.incident.assigned_to" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user.do" data-ref="incident.assigned_to" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Atribuído a"></button></span></div></div><div id="element.incident.company" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.company" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.company" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.company" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="Selecione a empresa do cliente que irá absorver o Opex" mandatory="false" oclass="read_only" class="read_only "></span><span title="Selecione a empresa do cliente que irá absorver o Opex" class="label-text" data-html="false">Empresa</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.company" name="sys_original.incident.company"></input></div><input style=";" id="incident.company_label" name="incident.company_label" aria-labelledby="label.incident.company" value="" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.company" name="incident.company" value="" writeaccess="false"></input><input type="hidden" id="sys_display.incident.company" name="sys_display.incident.company" value=""></input><input type="hidden" id="sys_display.original.incident.company" name="sys_display.original.incident.company" value=""></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.company" type="button" name="viewr.incident.company" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="core_company.do" data-ref="incident.company" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Empresa"></button></span></div></div></div></div><div class="row"><div class="col-xs-12"><div id="element.incident.short_description" class="form-group is-prefilled" style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="2" type="string" data-type="label" id="label.incident.short_description"><label onclick="return labelClicked(this, 'string');" for="incident.short_description" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.short_description" aria-label="" role="note" data-dynamic-title="Uma breve descrição da tarefa que precisa ser feita" mandatory="false" oclass="" class=" required-marker"></span><span title="Uma breve descrição da tarefa que precisa ser feita" class="label-text" data-html="false">Descrição resumida</span><input name="ni.dependent_reverse.incident.short_description" id="ni.dependent_reverse.incident.short_description" type="hidden" value="null" sysparm_processor="PickList"></input><a id="lookup.incident.short_description" name="lookup.incident.short_description" data-type="pick_list" data-table="incident" data-ref="incident.short_description" data-element="short_description" data-now-ux-metrics-event="Click Suggestion" data-dependent="null" tabindex="-1" role="button" class="btn btn-default btn-ref" title="Sugestão"><span class="icon icon-lightbulb" aria-hidden="true"></span><span id="selected.suggestion.incident.short_description" class="sr-only"></span><span class="sr-only">Sugestão</span></a><input type="HIDDEN" id="kb_url_prefix" value="kb"></input><a tabindex="-1" data-type="attribute_knowledge" data-for="incident.short_description" data-op="IR_AND_OR_QUERY" data-table="incident" data-order="relevancy" data-legacy-renderer="true" data-sqa-installed="true" title="Pesquisar na base de conhecimento" role="link" class="btn btn-default icon-book knowledge" data-omit-aria-describedby="true"><span class="sr-only">Pesquisar na base de conhecimento
			  Para habilitar, pressione Enter. Uma nova janela é aberta</span></a></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><div class="row" id="textarea_sizer.incident.short_description"><div class="col-sm-12 col-md-12 col-lg-12 col-xs-12"><span class=" label_right pull-right" style=""><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.short_description');
			}
		);</script></span></div></div><textarea id="incident.short_description" onChange="this.isFocused=false;multiModified(this);telemetryForRecordUpdate('short_description');" onKeyDown="multiKeyDown(this);" style=";width:100%;  resize:none; overflow:auto; ; ; " name="incident.short_description" wrap="soft" specialtype="" data-length="1000" data-charLimit="false" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" class="form-control" aria-required="true" aria-labelledby="label.incident.short_description" spellcheck="false">
Relatar um problema</textarea><input type="hidden" id="sys_original.incident.short_description" name="sys_original.incident.short_description" value="Relatar um problema"></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.short_description']) {
											g_form.registerHandler('incident.short_description', new TextAreaElement('incident.short_description'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'string';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.short_description';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script><div id="element.incident.description" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="string" data-type="label" id="label.incident.description"><label onclick="return labelClicked(this, 'string');" for="incident.description" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.description" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Descrição</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><div class="row" id="textarea_sizer.incident.description"><div class="col-sm-12 col-md-12 col-lg-12 col-xs-12"><span class=" label_right pull-right" style=""><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.description');
			}
		);</script></span></div></div><textarea id="incident.description" onChange="this.isFocused=false;multiModified(this);telemetryForRecordUpdate('description');" onKeyDown="multiKeyDown(this);" style=";width:100%;  resize:none; overflow:auto; ; ; " name="incident.description" wrap="soft" specialtype="" data-length="10000" data-charLimit="false" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" class="form-control" aria-required="false" aria-labelledby="label.incident.description" spellcheck="true">
boa tarde, gostaria de solicitar outro mouse para o pdv 2, o mesmo estar se abrindo e fica falhando e parando</textarea><input type="hidden" id="sys_original.incident.description" name="sys_original.incident.description" value="boa tarde, gostaria de solicitar outro mouse para o pdv 2, o mesmo estar se abrindo e fica falhando e parando"></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.description']) {
											g_form.registerHandler('incident.description', new TextAreaElement('incident.description'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'string';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.description';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script><div class="custom-form-group is-wide   form-group" sn-atf-whitelist="true" sn-ng-formatter=""><table style="width: 100%;" class="" role="presentation"><tr><td colspan="2" width="100%" style="padding: 10px 0px 0px 0px;">
    
    	
		
	    
		

		
	    
	    
		    
		    <div id="cxs_widget_container" class="">
		        
    <script data-description="MessagesTag">
(function() {
 var messages = new GwtMessage();
messages.set('Search Service Error: There is no record producer configuration defined {0}','Erro do Serviço de Busca: Não há configuração definida do produtor de registro {0}');
messages.set('Search Service Error: There is no wizard configuration defined {0}','Erro do Serviço de pesquisa: Não há configuração definida do assistente {0}');
messages.set('Search Service Error: There is no table configuration defined {0}','Erro do Serviço de Busca: Não há configuração definida da tabela {0}');
messages.set('Search Service Error: No search variables defined for {0}','Erro do Serviço de pesquisa: Nenhuma variável de pesquisa definida para {0}');
messages.set('Search Service Error: No search variable defined for {0}','Erro do Serviço de pesquisa: Nenhuma variável de pesquisa definida para {0}');
messages.set('Search Service Error: The following fields are configured but cannot be found on the form:&lt;br&gt;&lt;/br&gt;{0}');
messages.set('Search Service Error: Empty ajax response returned','Erro do Serviço de Pesquisa: resposta vazia de ajax retornada');
messages.set('Search Service Error: Empty payload returned','Erro do Serviço de Pesquisa: carga vazia retornada');
messages.set('Search Service Error: {0} is configured but cannot be found on the form','Erro do Serviço de pesquisa: {0} está configurado, mas não se encontra no formulário');
messages.set('Search Service Error: {0}','Erro do Serviço de pesquisa: {0}');
messages.set('The changes to this table configuration record mean that the related search fields are no longer valid and will be removed.\\n\\nDo you want to continue?');
messages.set('Remove associated search context before deleting searcher configuration','Remover contexto de pesquisa associado antes de excluir a configuração do pesquisador');
messages.set('Remove associated record producer and table configurations before deleting a search context','Remova as configurações de tabela e produtor de registro associadas antes de excluir um contexto de pesquisa');
messages.set('Remove associated record producer and table configurations before deleting search context','Remova as configurações de tabela e produtor de registro associadas antes de excluir um contexto de pesquisa');
messages.set('Remove associated search contexts before deleting a Searcher Configuration','Remover os contextos de pesquisa associados antes de excluir uma configuração do pesquisador');
messages.set('Previous result','Resultado anterior');
messages.set('Next result','Próximo resultado');
messages.set('Attach to','Anexar a');
messages.set('Feedback Service Error: {0}','Erro do Serviço de Feedback: {0}');
messages.set('Could not attach article details','Não foi possível anexar detalhes de artigo');
messages.set('Details of {0} have been added to the {1} field','Os detalhes de {0} foram adicionados ao campo {1}');
messages.set('Your search timed out','Tempo esgotado da pesquisa');
messages.set('Downloading','Baixando');
messages.set('Loading','Carregando');
})()
</script>
		        		        
		        
				
		        
		        
		        
		        
		        
		        
		        
		        	
		        
		        
		        
		        
		        
		        
		        
		        
		        
		        
		        
		        
		        

		        <input type="hidden" name="sysparm_cxs_session_id" id="sysparm_cxs_session_id" value="aea9612d87dee2100030cb340cbb35fd"></input>
		        
	
    
    <table id="cxs_results_header" class="cxs_results_header wide" cellspacing="0" role="presentation">
        <tbody>
            <tr>
                <td class="horizontal-rule">
                    <hr role="presentation"></hr></td>
                <td class="header-button">
                    
                        
                        	
                            <button class="btn btn-default disabled" id="cxs_maximize_results" aria-expanded="false" onclick="cxs_onToggleResults(this); return false;">
                                Resultados da pesquisa relacionada&nbsp;<i class="icon-chevron-right cxs_chevron_right" aria-hidden="true"></i></button>
                        </td>
                <td class="horizontal-rule">
                    <hr role="presentation"></hr></td></tr></tbody></table>
				
					
						<div id="cxs_search_container" style="display: none;">
							
							<div id="cxs_related_search_container" class="form-group">
								<div class="" id="" nowrap="true">
									<label for="cxs_related_search" class=" col-xs-12 col-md-1_5 col-lg-2 control-label">
										<span class="label-text" data-html="false">Pesquisa relacionada</span>
										<span id="related-search-help-icon" data-toggle="tooltip" class="icon-help sn-tooltip-basic" role="button" tabindex="0"></span></label></div>

                                
								<div id="cxs_related_search_only" class="form-field input-group-transparent col-xs-10 col-md-9 col-lg-8" style="display: none;">
									<span class="input-group-addon-transparent icon-search"></span>
									<input name="cxs_related_search" id="cxs_related_search" placeholder="" autocomplete="off" class="form-control form-control-search" type="search" maxlength="160"></input></div>

								<div id="cxs_related_search_with_dropdown" class="form-field col-xs-10 col-md-9 col-lg-8" style="display: none;">
									<div class="form-field input-group-transparent col-xs-12 col-md-9 col-lg-9">
										<span class="input-group-addon-transparent icon-search"></span>
										<input name="cxs_related_search" id="cxs_related_search" placeholder="" autocomplete="off" class="form-control form-control-search" type="search" maxlength="160"></input></div>
	
									<div class="cxs_search_resources col-xs-12 col-md-3 col-lg-3 form-field">
										<select aria-label="Search resource dropdown" id="searchresource_dropdown" class="form-control" name="searchresource_dropdown"></select></div></div></div>
		                	
		                    
		                        <div id="cxs_results_container"></div></div>
		            
		        
		        
		            
						
						<j2:set var="jvar_css_cache_key" value="c=320c78113b12221015086e9985e45a6a&amp;theme=Polaris"></j2:set>
						
							
								<link type="text/css" rel="stylesheet" href="/styles/search.service/polaris/snc-contextual-search.cssx?v=05-22-2025_2350&amp;c=320c78113b12221015086e9985e45a6a&amp;theme=Polaris"></link>
							
		                
		                	<link type="text/css" rel="stylesheet" href="/styles/search_service_results.cssx?v=05-22-2025_2350&amp;c=320c78113b12221015086e9985e45a6a&amp;theme=Polaris"></link>
		                
		            
		        
		        <script>
		            (function (){
		                addTopRenderEvent(function() {
			                ContextualSearchController.isAdmin = false;
			                ContextualSearchController.isA11yEnabled = false;
			                ContextualSearchController.isDocType = true;
			                ContextualSearchController.tableName = "Incidente";
			                ContextualSearchController.resultThreshold = 10000;
			                ContextualSearchController.minLength = 3;
			                ContextualSearchController.waitTime = 1000;
			                ContextualSearchController.expandOnOpen = false;
			                ContextualSearchController.expandOnSearchFieldUpdate = true
			                ContextualSearchController.searchAsFieldLabel = "Atribuído a";
			                ContextualSearchController.searchAsWarningMsg = "Alguns resultados podem não ser exibidos devido aos limites de segurança";
			                ContextualSearchController.noResultsMsg = "Não há resultados a serem exibidos";
			                ContextualSearchController.searchingMsg = "Pesquisando...";
			                ContextualSearchController.loadingMoreResultsMsg = "Carregando mais resultados...";
			                ContextualSearchController.moreResultsLoadingCompleteMsg = "Mais resultados carregados";
			                ContextualSearchController.shownAllResults = "Todos os resultados de pesquisa foram carregados";
			                ContextualSearchController.searchCompleteMsg = "pesquisa concluída";
			                ContextualSearchController.expandedClass = "icon-chevron-down";
			                ContextualSearchController.collapsedClass = "icon-chevron-right";
			                ContextualSearchController.collapsedSpacerClass = "cxs_chevron_right";
			                ContextualSearchController.checkSearchConfig({"active":"1","agent_intel_tab_active":"0","allow_empty_search_term":0,"allow_expand_collapse":"1","allow_result_preview_buttons":"0","configDisplayValue":"Incident [incident]","configURL":"cxs_table_config.do?sys_id=b3ca5632c32121005655107698ba8fba","cxs_context_config":"091fa3d3c37221003d2ae219cdba8f0e","display_dropdown":true,"enable_source_selector":"1","hasRequiredRoles":true,"kb_attachment":"embed_article","limit":"5","match_condition":"active=true^EQ","name":"Incident [incident]","preview_button_active":"0","record_matches_condition":true,"related_search_active":"1","resultsHeaderText":"Resultados da pesquisa relacionada","results_header_text":"Related Search Results","results_per_page":"5","search_as_active":"0","search_as_field":"assigned_to","search_as_field_label":"Atribuído a","search_as_results_msg":"Alguns resultados podem não ser exibidos devido aos limites de segurança","search_as_script_ok":true,"search_fields":[{"cxs_table_config":"b3ca5632c32121005655107698ba8fba","default_config":"1","field":"short_description","name":"Short description [short_description]","order":"100","sys_class_name":"cxs_table_field_config","sys_domain_path":"/","sys_id":"43fa9632c32121005655107698ba8f39","sys_name":"Short description [short_description]","sys_package":"b928435cdbb223009c79140314961981","sys_scope":"global","sys_update_name":"cxs_table_field_config_43fa9632c32121005655107698ba8f39"}],"search_on_tab":false,"show_searcher_first":"0","srch_as_available":false,"sys_class_name":"cxs_table_config","sys_domain_path":"/","sys_id":"b3ca5632c32121005655107698ba8fba","sys_name":"Incident [incident]","sys_package":"b928435cdbb223009c79140314961981","sys_scope":"global","sys_update_name":"cxs_table_config_b3ca5632c32121005655107698ba8fba","table":"incident","ui_type":"platform"}, {"additionalSearchResources":[],"displayDropdown":true,"searchOnTab":false,"searchResources":[{"id":"adba8d70c39102006f333b0ac3d3aefa","label":"Artigos de conhecimento"},{"id":"299a8d70c39102006f333b0ac3d3aeab","label":"Itens do catálogo"},{"id":"ea294d70c39102006f333b0ac3d3aefa","label":"Questões"},{"id":"3d3bcd70c39102006f333b0ac3d3ae04","label":"Artigos fixados"}],"searcherText":"Base de Conhecimento e Catálogo"});
			             });
		            })();          
		        </script></div></td></tr></table></div><div id="element.incident.u_frente" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="string" id="label.incident.u_frente" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_frente" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.u_frente" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Frente</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_frente" name="sys_original.incident.u_frente" value=""></input></div><input type="text" data-type="string" id="incident.u_frente" name="incident.u_frente" aria-required="false" aria-labelledby="label.incident.u_frente" onChange="onChange('incident.u_frente');telemetryForRecordUpdate('u_frente');" maxlength="45" value="" style="; " autocomplete="off" ng-non-bindable="" class="form-control " spellcheck="false"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div></div></span></span><div class="tabs2_strip" id="tabs2_section" data-initial-tab-index="1" style="display: block"><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_0"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Variáveis</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_0">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline tabs2_active" tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_1"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Notas</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_1">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_2"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Registros relacionados</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_2">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_3"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Informações de resolução</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_3">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_4"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Incidente grave</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_4">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_5"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Relatório Pós-incidente</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_5">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_6"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Tempo Utilizado</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_6">Contém Campos obrigatórios vazios</span></span><span class="tab_header"><span class="tabs2_tab default-focus-outline " tabindex="0" role="tab" aria-describedby="tab2_section_mandatory_text_7"><span mandatory="true" class="label_description" style="display:none;" aria-hidden="true">*</span><span class="tab_caption_text">Endpoint Central (Desktop Central)</span></span><span class="sr-only" aria-hidden="true" id="tab2_section_mandatory_text_7">Contém Campos obrigatórios vazios</span></span></div><span class="tabs2_section tabs2_section_1 tabs2_section1 tab_section" data-header-only="false" tab_caption="Variáveis" tab_caption_raw="Variáveis" id="section_tab.434b477ddbb13b0017a25c4bf396190e" data-section-id="434b477ddbb13b0017a25c4bf396190e" style="display: none"><span id="section-434b477ddbb13b0017a25c4bf396190e" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="434b477ddbb13b0017a25c4bf396190e" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Variáveis</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="434b477ddbb13b0017a25c4bf396190e" aria-label="Recolher seção: Variáveis" data-aria-label-toggle="Expandir seção: Variáveis" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Variáveis" onclick="hideReveal('434b477ddbb13b0017a25c4bf396190e'); return false;" title="Ocultar / Exibir Variáveis" aria-expanded="true"></button></span></div></div></nav><div id="434b477ddbb13b0017a25c4bf396190e" glide="true" class="section-content with-overflow" role="region" aria-label="Variáveis Seção de formulário"><div class="row"><div class="col-xs-12"><div class="custom-form-group is-wide  ng-non-bindable form-group" sn-atf-whitelist="true" sn-ng-formatter=""><table style="width: 100%;" class="" role="presentation"><script type="text/javascript" src="/scripts/js_includes_catalog.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><link type="text/css" rel="stylesheet" href="/styles/js_includes_catalog_v2.cssx?v=05-22-2025_2350"></link><link type="text/css" rel="stylesheet" href="/styles/polaris/js_includes_catalog_polaris_v2.cssx?v=05-22-2025_2350"></link><div data-sn-macro-sys-id="dccb1d43c3202100c8b837659bba8f5c"><script data-comment="GlideUser initialization">
		addTopRenderEvent( function() {
			// user may have already been created
			if (!window.g_user) {
				window.g_user = new GlideUser('TR057043', 
					  'Marcelo',
					  'Marfim',
					  'sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil',
					  '34641827876d1ed410de85580cbb3506',
					  '8042535e1bdb70903b420e50f54bcbbf');
				window.g_user.setRoles('sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,snc_internal,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil', true);
			}
		    window.g_user.setClientData('80e9a76e1b1286900a4cfc4e4b4bcbc5', 'true');
		    // We want to preload all useful client preferences that will be used by the UI. At the moment
		    // we have to do this manually, but this should be replaced by a dynamic list.
		    window.g_user.setPreference('glide.ui.accessibility', 'false');
		});
	</script><SCRIPT>g_event_handlers_onLoad['onLoad_bd2dae313b566e1015086e9985e45a65'] = 'Get Catalog service';
g_event_handler_ids['onLoad_bd2dae313b566e1015086e9985e45a65'] = '836c22d91b9b7300f7da76295b4bcbc2';
addRenderEventLogged(function() {
var onLoad_bd2dae313b566e1015086e9985e45a65 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_bd2dae313b566e1015086e9985e45a65() {
	var sysIdCatalogItem = g_form.getUniqueValue();
	var ga = new GlideAjax('CatalogServiceUtilsAjax');
	ga.addParam('sysparm_name', 'getCatalogServiceByCatalogItem');
	ga.addParam('sysparm_cat_item',sysIdCatalogItem);
	ga.getXML(function(response){
		var answer = response.responseXML.documentElement.getAttribute("answer");
		var catalogServiceObj = JSON.parse(answer);
		
		if(catalogServiceObj && catalogServiceObj != '');
			g_form.setValue('service', catalogServiceObj.sys_id);
	});
   
}
 g_event_handlers_onLoad['onLoad_bd2dae313b566e1015086e9985e45a65'] = 'Get Catalog service';
 g_event_handler_ids['onLoad_bd2dae313b566e1015086e9985e45a65'] = '836c22d91b9b7300f7da76295b4bcbc2';
 return onLoad_bd2dae313b566e1015086e9985e45a65.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
onLoad_bd2dae313b566e1015086e9985e45a65();
},'Get Catalog service','onLoad_bd2dae313b566e1015086e9985e45a65');


</SCRIPT><script type="text/javascript" src="/scripts/ui_policy.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script>/*! RESOURCE: /scripts/CatalogDataLookup.jsx */
(function(scope) {
  scope.CatalogDataLookup = {
	stack: [],
	count: 0,
	
    process: function(control, oldValue, newValue, isLoading, lookupId) {
      if (isLoading || !g_form)
        return;
      var szForm = g_form.serialize();
      if (!szForm)
        return;
      
      var arr = scope.CatalogDataLookup.stack;
      for (var i = 0; i < arr.length; i++)
    	if (arr[i] == control.id + lookupId)
    		return;
      arr[arr.length] = control.id + lookupId;
      scope.CatalogDataLookup.count++;
      
      var tableName = g_form.getTableName();
      if (tableName == "ni")
    	  tableName = "sc_cat_item";
      
      var ajax = new GlideAjax('AJAXCatalogDataLookup');
      ajax.addParam('sysparm_silent_request', 'true');
      ajax.addParam('sys_lookup_id', lookupId);
      ajax.addParam('sys_target', tableName);
	  ajax.addParam('sys_uniqueValue', g_form.getUniqueValue());
      ajax.addEncodedString(szForm);
      ajax.getXML(function(response) {
    	  CustomEvent.fire('glide_optics_inspect_put_context', 'data_lookup', (g_form && (typeof g_form.getAppliedFieldName === "function")) ? g_form.getAppliedFieldName(control.name): control.name);
    	  $A(response.responseXML.getElementsByTagName('item')).each(function(item) {
    		  var name = item.getAttribute('name');
    		  var val = item.getAttribute('value');
    		  var label = item.getAttribute('label');
    		  if (val != null && label != null) 
    			  g_form.setValue(name, val, label); 
    		  else
    			  g_form.setValue(name, val);
    	  })
    	  CustomEvent.fire('glide_optics_inspect_pop_context');
    	  scope.CatalogDataLookup.count--;
    	  if (scope.CatalogDataLookup.count == 0)
    		  scope.CatalogDataLookup.stack = [];
      })
    }
  }
  
})(window);
;</script><script type="text/javascript">addRenderEvent(function() {});</script><script>/*! RESOURCE: /scripts/CatalogDynamicValue.jsx */
(function(scope) {
	scope.CatalogDynamicValue = {
		stack: [],
		count: 0,
		process: function(control, oldValue, newValue, isLoading, dynamicTriggerField, dynamicTargetFields, runOnLoad) {
			if (isLoading && !runOnLoad)
				return;
				
			var skipCyclicLoop = isLoading && runOnLoad;
			var dynamicTargetFieldsArr = JSON.parse(dynamicTargetFields);
			var arr = scope.CatalogDynamicValue.stack;
			var targetFieldsToExecute = [];
			for (var i = 0; i < dynamicTargetFieldsArr.length; i++) {
				if (arr.indexOf(control.id + dynamicTargetFieldsArr[i]) === -1) {
					targetFieldsToExecute.push(dynamicTargetFieldsArr[i]);
					if (!skipCyclicLoop)
						arr[arr.length] = control.id + dynamicTargetFieldsArr[i];
				}
			}
			if (targetFieldsToExecute.length > 0) {
				if (!skipCyclicLoop)
					scope.CatalogDynamicValue.count = scope.CatalogDynamicValue.count + targetFieldsToExecute.length;
				if (newValue) {
					$j.ajax({
url: "/api/sn_sc/v1/servicecatalog/variables/" + dynamicTriggerField + "/dynamic_value",
						type: "POST",
						dataType: 'json',
						headers: {
'Accept': 'application/json',
'Content-Type': 'application/json'
						},
						data: JSON.stringify({
							sysparm_dynamic_target_fields: targetFieldsToExecute.toString(),
							sysparm_dynamic_record_id: newValue
						}),
						success: successHandler.bind(this),
						error: errorHandler.bind(this),
					});
				} else {
					for (var i = 0; i < targetFieldsToExecute.length; i++) {
						var questionEle = gel(targetFieldsToExecute[i]);
						if (questionEle) {
							var qname = questionEle.getAttribute('qname');
							g_form.clearValue(qname);
						}
					}
					decrementCount();
				}
			}
			function successHandler(jqXHR) {
				if (jqXHR && jqXHR.result) {
					var fieldVals = jqXHR.result;
					for (var field in fieldVals) {
						try {
							g_form.setValue(field, fieldVals[field]['value'], fieldVals[field]['displayValue']);
						} catch (e) {
							console.log(e);
						}
					}
				}
				decrementCount();
			}
			function errorHandler() {
				decrementCount();
			}
			
			function decrementCount() {
				if (!skipCyclicLoop)
					scope.CatalogDynamicValue.count = scope.CatalogDynamicValue.count - targetFieldsToExecute.length;
				if (scope.CatalogDynamicValue.count == 0)
					scope.CatalogDynamicValue.stack = [];
			}
		}
	}
})(window);
;</script><script type="text/javascript">addRenderEvent(function() {});</script><script>addRenderEvent(function() {
			
		});jslog("g_ui_policy = [{\"actions\":[{\"cleared\":\"false\",\"disabled\":\"true\",\"fieldMessage\":\"\",\"fieldMessageType\":\"none\",\"mandatory\":\"ignore\",\"name\":\"variables.vs_description\",\"sysId\":\"c6578346db0bbf0017a25c4bf3961998\",\"value\":\"\",\"valueAction\":\"ignore\",\"visible\":\"ignore\"}],\"condition_fields\":[],\"conditions\":[],\"debug\":false,\"onload\":true,\"reverse\":false,\"script_false\":\"\",\"script_true\":\"\",\"short_description\":\"readOnly on record\",\"source_table\":\"catalog_ui_policy\",\"sys_id\":\"99270346db0bbf0017a25c4bf396194a\",\"table\":\"(catalog)\"},{\"actions\":[{\"cleared\":\"false\",\"disabled\":\"true\",\"fieldMessage\":\"\",\"fieldMessageType\":\"none\",\"mandatory\":\"ignore\",\"name\":\"variables.vs_opened_by\",\"sysId\":\"18974746db0bbf0017a25c4bf3961997\",\"value\":\"\",\"valueAction\":\"ignore\",\"visible\":\"ignore\"},{\"cleared\":\"false\",\"disabled\":\"true\",\"fieldMessage\":\"\",\"fieldMessageType\":\"none\",\"mandatory\":\"ignore\",\"name\":\"variables.vs_requested_for\",\"sysId\":\"b7978746db0bbf0017a25c4bf3961969\",\"value\":\"\",\"valueAction\":\"ignore\",\"visible\":\"ignore\"}],\"condition_fields\":[],\"conditions\":[],\"debug\":false,\"onload\":true,\"reverse\":false,\"script_false\":\"\",\"script_true\":\"\",\"short_description\":\"readOnly on record\",\"source_table\":\"catalog_ui_policy\",\"sys_id\":\"22770346db0bbf0017a25c4bf3961950\",\"table\":\"(catalog)\"},{\"actions\":[{\"cleared\":\"false\",\"disabled\":\"true\",\"fieldMessage\":\"\",\"fieldMessageType\":\"none\",\"mandatory\":\"ignore\",\"name\":\"variables.vs_contact_phone_itil\",\"sysId\":\"5b82e4d61b045110edbd87bfe54bcba4\",\"value\":\"\",\"valueAction\":\"ignore\",\"visible\":\"true\"}],\"condition_fields\":[\"variables.vs_contact_phone_itil\"],\"conditions\":[{\"field\":\"variables.vs_contact_phone_itil\",\"newquery\":false,\"oper\":\"!=\",\"or\":false,\"type\":\"string\",\"value\":\"\"}],\"debug\":false,\"onload\":true,\"reverse\":true,\"script_false\":\"\",\"script_true\":\"\",\"short_description\":\"STF: Show vs_contact_phone_itil in ITIL\",\"source_table\":\"catalog_ui_policy\",\"sys_id\":\"b56260d61b045110edbd87bfe54bcbf9\",\"table\":\"(catalog)\"},{\"actions\":[{\"cleared\":\"false\",\"disabled\":\"ignore\",\"fieldMessage\":\"\",\"fieldMessageType\":\"none\",\"mandatory\":\"ignore\",\"name\":\"variables.vs_contact_phone\",\"sysId\":\"07e2a01a1b045110edbd87bfe54bcb2d\",\"value\":\"\",\"valueAction\":\"ignore\",\"visible\":\"false\"}],\"condition_fields\":[\"variables.vs_contact_phone\"],\"conditions\":[{\"field\":\"variables.vs_contact_phone\",\"newquery\":false,\"oper\":\"LIKE\",\"or\":false,\"type\":\"string\",\"value\":\"##\"}],\"debug\":false,\"onload\":true,\"reverse\":true,\"script_false\":\"\",\"script_true\":\"\",\"short_description\":\"STF: Hidden vs_contact_phone in ITIL\",\"source_table\":\"catalog_ui_policy\",\"sys_id\":\"dac2e8d61b045110edbd87bfe54bcbd8\",\"table\":\"(catalog)\"}]"); // DEBUG
			ui_policy_add([{"actions":[{"cleared":"false","disabled":"true","fieldMessage":"","fieldMessageType":"none","mandatory":"ignore","name":"variables.vs_description","sysId":"c6578346db0bbf0017a25c4bf3961998","value":"","valueAction":"ignore","visible":"ignore"}],"condition_fields":[],"conditions":[],"debug":false,"onload":true,"reverse":false,"script_false":"","script_true":"","short_description":"readOnly on record","source_table":"catalog_ui_policy","sys_id":"99270346db0bbf0017a25c4bf396194a","table":"(catalog)"},{"actions":[{"cleared":"false","disabled":"true","fieldMessage":"","fieldMessageType":"none","mandatory":"ignore","name":"variables.vs_opened_by","sysId":"18974746db0bbf0017a25c4bf3961997","value":"","valueAction":"ignore","visible":"ignore"},{"cleared":"false","disabled":"true","fieldMessage":"","fieldMessageType":"none","mandatory":"ignore","name":"variables.vs_requested_for","sysId":"b7978746db0bbf0017a25c4bf3961969","value":"","valueAction":"ignore","visible":"ignore"}],"condition_fields":[],"conditions":[],"debug":false,"onload":true,"reverse":false,"script_false":"","script_true":"","short_description":"readOnly on record","source_table":"catalog_ui_policy","sys_id":"22770346db0bbf0017a25c4bf3961950","table":"(catalog)"},{"actions":[{"cleared":"false","disabled":"true","fieldMessage":"","fieldMessageType":"none","mandatory":"ignore","name":"variables.vs_contact_phone_itil","sysId":"5b82e4d61b045110edbd87bfe54bcba4","value":"","valueAction":"ignore","visible":"true"}],"condition_fields":["variables.vs_contact_phone_itil"],"conditions":[{"field":"variables.vs_contact_phone_itil","newquery":false,"oper":"!=","or":false,"type":"string","value":""}],"debug":false,"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"STF: Show vs_contact_phone_itil in ITIL","source_table":"catalog_ui_policy","sys_id":"b56260d61b045110edbd87bfe54bcbf9","table":"(catalog)"},{"actions":[{"cleared":"false","disabled":"ignore","fieldMessage":"","fieldMessageType":"none","mandatory":"ignore","name":"variables.vs_contact_phone","sysId":"07e2a01a1b045110edbd87bfe54bcb2d","value":"","valueAction":"ignore","visible":"false"}],"condition_fields":["variables.vs_contact_phone"],"conditions":[{"field":"variables.vs_contact_phone","newquery":false,"oper":"LIKE","or":false,"type":"string","value":"##"}],"debug":false,"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"STF: Hidden vs_contact_phone in ITIL","source_table":"catalog_ui_policy","sys_id":"dac2e8d61b045110edbd87bfe54bcbd8","table":"(catalog)"}]);</script><tr><td><input type="HIDDEN" name="ni.WATERMARK" value="com.glideapp.servicecatalog.DefaultQuestionEditor"></input></td></tr><tr><td colspan="2"><div class="veditor_header">Variáveis</div><div class="veditor_body"><div><table class="wide sc_editor"><tr><td><div id="variable_map" style="visibility:hidden;display:none"><item qname="vs_email" id="801a8ffd1bfe0590f61c0dcbe54bcb0b"></item><item qname="vs_requested_for" id="821bc880db79f30017a25c4bf3961994"></item><item qname="vs_contact_phone_itil" id="c1f9e7391b8c1d10edbd87bfe54bcbc4"></item><item qname="vs_description" id="44ca5cc8db79f30017a25c4bf39619e5"></item><item qname="vs_contact_phone" id="f44fae56dbd708105eaf63901496194b"></item><item qname="category" id="2999ea191b9b7300f7da76295b4bcb39"></item><item qname="subcategory" id="d37c11b51bfff740f7da76295b4bcb40"></item><item qname="vs_location" id="a95e2e16dbd708105eaf6390149619a0"></item><item qname="vs_opened_by" id="4b284040db79f30017a25c4bf3961977"></item><item qname="symptom" id="57aa2e551b9b7300f7da76295b4bcbd0"></item><item qname="service" id="a31966191b9b7300f7da76295b4bcb61"></item></div></td></tr><tr id="element.container_7d08cc00db79f30017a25c4bf3961956" parent_container_id=""><td class="iotd container-iotd"><input id="ni.QS7d08cc00db79f30017a25c4bf3961956" name="ni.QS7d08cc00db79f30017a25c4bf3961956" container_id="7d08cc00db79f30017a25c4bf3961956" type="HIDDEN" readonly="false"></input><input id="sys_original.ni.QS7d08cc00db79f30017a25c4bf3961956" container_id="7d08cc00db79f30017a25c4bf3961956" type="HIDDEN" name="sys_original.ni.QS7d08cc00db79f30017a25c4bf3961956"></input><span id="question_container_7d08cc00db79f30017a25c4bf3961956" name="question_container" class="section"><div id="container_row_7d08cc00db79f30017a25c4bf3961956" class="section-content catalog-section-content" style="max-height: none;"><div class="vsplit catalog-split col-sm-6 "><table width="100%" class="container_table" role="presentation" style="table-layout:fixed;"><tr id="element.ni.QS821bc880db79f30017a25c4bf3961994" parent_container_id="7d08cc00db79f30017a25c4bf3961956"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QS821bc880db79f30017a25c4bf3961994" class="" nowrap="true" type="8" oncontextmenu="return contextQuestionLabel(event, '821bc880db79f30017a25c4bf3961994', '8');"><label for="sys_display.ni.QS821bc880db79f30017a25c4bf3961994" class=" control-label sc_editor_label"><span id="status.ni.QS821bc880db79f30017a25c4bf3961994" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Solicitado para qual usuário?">Solicitado para qual usuário?</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field  input_controls"><input type="hidden" id="ni.QS821bc880db79f30017a25c4bf3961994" name="ni.QS821bc880db79f30017a25c4bf3961994" value="f617aff2db5b05505febb11ba39619a9" class="cat_item_option" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QS821bc880db79f30017a25c4bf3961994'); setReferenceLink('ni.QS821bc880db79f30017a25c4bf3961994'); $('display_hidden.ni.QS821bc880db79f30017a25c4bf3961994').value = $('sys_display.ni.QS821bc880db79f30017a25c4bf3961994').value;"></input><input type="hidden" id="ni.QS821bc880db79f30017a25c4bf3961994TABLE" name="ni.ni.QS821bc880db79f30017a25c4bf3961994TABLE" value="sys_user" onchange=""></input><input type="hidden" id="display_hidden.ni.QS821bc880db79f30017a25c4bf3961994" name="display_hidden.ni.QS821bc880db79f30017a25c4bf3961994" value="oxxo-apemota" onchange=""></input><input type="hidden" id="sys_original.ni.QS821bc880db79f30017a25c4bf3961994" name="sys_original.ni.QS821bc880db79f30017a25c4bf3961994" value="f617aff2db5b05505febb11ba39619a9"></input><div class="input-group" style="width: 100%;"><input id="sys_display.ni.QS821bc880db79f30017a25c4bf3961994" name="sys_display.ni.QS821bc880db79f30017a25c4bf3961994" class="questionsetreference form-control element_reference_input" onfocus="if (!this.ac) new AJAXTableCompleter(this, 'ni.QS821bc880db79f30017a25c4bf3961994', '', 'true', 'sys_user');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" role="combobox" aria-autocomplete="list" ac_columns="name;user_name" ac_order_by="name" value="oxxo-apemota" aria-required="false" aria-labelledby="label_ni.QS821bc880db79f30017a25c4bf3961994" aria-expanded="false"></input><span class="input-group-btn"><a id="lookup.ni.QS821bc880db79f30017a25c4bf3961994" tabindex="-1" role="button" class="btn btn-default sc-btn-default" title="Pesquisar usando lista" onclick="mousePositionSave(event);reflistOpen( 'ni.QS821bc880db79f30017a25c4bf3961994', 'not', gel('ni.QS821bc880db79f30017a25c4bf3961994TABLE').value, '', 'false', 'true', '', '')"><span aria-hidden="true" class="icon icon-search"></span><span class="sr-only">Pesquisar usando lista</span></a><span id="ni.QS821bc880db79f30017a25c4bf3961994LINK" style=""><span name=""><a id="ni.QS821bc880db79f30017a25c4bf3961994LINK.tear" tabindex="-1" class="btn btn-default btn-ref icon icon-preview sc-ref-spacer" title="Exibição" style="display: none"><span class="sr-only">Exibir (Abre o registro de referência em nova janela)</span></a><a id="ni.QS821bc880db79f30017a25c4bf3961994LINK.info" tabindex="-1" onclick="popLightWeightReferenceDiv(event, 'ni.QS821bc880db79f30017a25c4bf3961994', true);" class="btn btn-default btn-ref icon icon-info sc-ref-spacer" title="Exibição" style=""><span class="sr-only">Exibir (Abre o registro de referência na janela atual)</span></a></span></span></span></div></div></div></div></div></td></tr><tr id="element.ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" parent_container_id="7d08cc00db79f30017a25c4bf3961956"><td class="iotd"><div class="row sc-row"><div id="variable_ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" class="" nowrap="true" type="6" oncontextmenu="return contextQuestionLabel(event, 'c1f9e7391b8c1d10edbd87bfe54bcbc4', '6');"><label for="ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" class=" control-label sc_editor_label"><span id="status.ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Telefone para contato">Telefone para contato</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field "><input id="sys_original.ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" name="sys_original.ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" type="HIDDEN" value=""></input><input id="ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" name="ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" class="cat_item_option sc-content-pad form-control" value="" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4')" maxlength="" placeholder="(Ex: Telefone para contato)" aria-labelledby="label_ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4" aria-required="false"></input></div></div></div></div></td></tr><tr id="element.ni.QSf44fae56dbd708105eaf63901496194b" parent_container_id="7d08cc00db79f30017a25c4bf3961956"><td class="iotd"><div class="row sc-row"><div id="variable_ni.QSf44fae56dbd708105eaf63901496194b" class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QSf44fae56dbd708105eaf63901496194b" class="" nowrap="true" type="6" oncontextmenu="return contextQuestionLabel(event, 'f44fae56dbd708105eaf63901496194b', '6');"><label for="ni.QSf44fae56dbd708105eaf63901496194b" class=" control-label sc_editor_label"><span id="status.ni.QSf44fae56dbd708105eaf63901496194b" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Telefone para contato">Telefone para contato</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field "><input id="sys_original.ni.QSf44fae56dbd708105eaf63901496194b" name="sys_original.ni.QSf44fae56dbd708105eaf63901496194b" type="HIDDEN" value="11913351383"></input><input id="ni.QSf44fae56dbd708105eaf63901496194b" name="ni.QSf44fae56dbd708105eaf63901496194b" class="cat_item_option sc-content-pad form-control" value="11913351383" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QSf44fae56dbd708105eaf63901496194b')" maxlength="" placeholder="(Ex: Telefone para contato)" aria-labelledby="label_ni.QSf44fae56dbd708105eaf63901496194b" aria-required="false"></input></div></div></div></div></td></tr></table></div><div class="vsplit catalog-split col-sm-6 "><table width="100%" class="container_table" role="presentation" style="table-layout:fixed;"><tr id="element.ni.QS4b284040db79f30017a25c4bf3961977" parent_container_id="7d08cc00db79f30017a25c4bf3961956"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QS4b284040db79f30017a25c4bf3961977" class="" nowrap="true" type="8" oncontextmenu="return contextQuestionLabel(event, '4b284040db79f30017a25c4bf3961977', '8');"><label for="sys_display.ni.QS4b284040db79f30017a25c4bf3961977" class=" control-label sc_editor_label"><span id="status.ni.QS4b284040db79f30017a25c4bf3961977" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Aberto por">Aberto por</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field  input_controls"><input type="hidden" id="ni.QS4b284040db79f30017a25c4bf3961977" name="ni.QS4b284040db79f30017a25c4bf3961977" value="f617aff2db5b05505febb11ba39619a9" class="cat_item_option" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QS4b284040db79f30017a25c4bf3961977'); setReferenceLink('ni.QS4b284040db79f30017a25c4bf3961977'); $('display_hidden.ni.QS4b284040db79f30017a25c4bf3961977').value = $('sys_display.ni.QS4b284040db79f30017a25c4bf3961977').value;"></input><input type="hidden" id="ni.QS4b284040db79f30017a25c4bf3961977TABLE" name="ni.ni.QS4b284040db79f30017a25c4bf3961977TABLE" value="sys_user" onchange=""></input><input type="hidden" id="display_hidden.ni.QS4b284040db79f30017a25c4bf3961977" name="display_hidden.ni.QS4b284040db79f30017a25c4bf3961977" value="oxxo-apemota" onchange=""></input><input type="hidden" id="sys_original.ni.QS4b284040db79f30017a25c4bf3961977" name="sys_original.ni.QS4b284040db79f30017a25c4bf3961977" value="f617aff2db5b05505febb11ba39619a9"></input><div class="input-group" style="width: 100%;"><input id="sys_display.ni.QS4b284040db79f30017a25c4bf3961977" name="sys_display.ni.QS4b284040db79f30017a25c4bf3961977" class="questionsetreference form-control element_reference_input" onfocus="if (!this.ac) new AJAXTableCompleter(this, 'ni.QS4b284040db79f30017a25c4bf3961977', '', '', 'sys_user');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" role="combobox" aria-autocomplete="list" ac_columns="name;user_name;employee_number" ac_order_by="name" value="oxxo-apemota" aria-required="false" aria-labelledby="label_ni.QS4b284040db79f30017a25c4bf3961977" aria-expanded="false"></input><span class="input-group-btn"><a id="lookup.ni.QS4b284040db79f30017a25c4bf3961977" tabindex="-1" role="button" class="btn btn-default sc-btn-default" title="Pesquisar usando lista" onclick="mousePositionSave(event);reflistOpen( 'ni.QS4b284040db79f30017a25c4bf3961977', 'not', gel('ni.QS4b284040db79f30017a25c4bf3961977TABLE').value, '', 'false', '', '', '')"><span aria-hidden="true" class="icon icon-search"></span><span class="sr-only">Pesquisar usando lista</span></a><span id="ni.QS4b284040db79f30017a25c4bf3961977LINK" style=""><span name=""><a id="ni.QS4b284040db79f30017a25c4bf3961977LINK.tear" tabindex="-1" class="btn btn-default btn-ref icon icon-preview sc-ref-spacer" title="Exibição" style="display: none"><span class="sr-only">Exibir (Abre o registro de referência em nova janela)</span></a><a id="ni.QS4b284040db79f30017a25c4bf3961977LINK.info" tabindex="-1" onclick="popLightWeightReferenceDiv(event, 'ni.QS4b284040db79f30017a25c4bf3961977', true);" class="btn btn-default btn-ref icon icon-info sc-ref-spacer" title="Exibição" style=""><span class="sr-only">Exibir (Abre o registro de referência na janela atual)</span></a></span></span></span></div></div></div></div></div></td></tr><tr id="element.ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" parent_container_id="7d08cc00db79f30017a25c4bf3961956"><td class="iotd"><div class="row sc-row"><div id="variable_ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" class="" nowrap="true" type="6" oncontextmenu="return contextQuestionLabel(event, '801a8ffd1bfe0590f61c0dcbe54bcb0b', '6');"><label for="ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" class=" control-label sc_editor_label"><span id="status.ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="E-mail">E-mail</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field "><input id="sys_original.ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" name="sys_original.ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" type="HIDDEN" value="oxxo-apemota@gruponos.com"></input><input id="ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" name="ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" class="cat_item_option sc-content-pad form-control" value="oxxo-apemota@gruponos.com" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b')" maxlength="" aria-labelledby="label_ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b" aria-required="false"></input></div></div></div></div></td></tr><tr id="element.ni.QSa95e2e16dbd708105eaf6390149619a0" parent_container_id="7d08cc00db79f30017a25c4bf3961956"><td class="iotd"><div class="row sc-row"><div id="variable_ni.QSa95e2e16dbd708105eaf6390149619a0" class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QSa95e2e16dbd708105eaf6390149619a0" class="" nowrap="true" type="6" oncontextmenu="return contextQuestionLabel(event, 'a95e2e16dbd708105eaf6390149619a0', '6');"><label for="ni.QSa95e2e16dbd708105eaf6390149619a0" class=" control-label sc_editor_label"><span id="status.ni.QSa95e2e16dbd708105eaf6390149619a0" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Local">Local</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field "><input id="sys_original.ni.QSa95e2e16dbd708105eaf6390149619a0" name="sys_original.ni.QSa95e2e16dbd708105eaf6390149619a0" type="HIDDEN" value=""></input><input id="ni.QSa95e2e16dbd708105eaf6390149619a0" name="ni.QSa95e2e16dbd708105eaf6390149619a0" class="cat_item_option sc-content-pad form-control" value="" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QSa95e2e16dbd708105eaf6390149619a0')" maxlength="" placeholder="(Ex: Local COPI, posição T001)" aria-labelledby="label_ni.QSa95e2e16dbd708105eaf6390149619a0" aria-required="false"></input></div></div></div></div></td></tr></table></div></div></span></td></tr><tr id="element.container_fdd862191b9b7300f7da76295b4bcb4c" parent_container_id=""><td class="iotd container-iotd"><input id="ni.QSfdd862191b9b7300f7da76295b4bcb4c" container_id="fdd862191b9b7300f7da76295b4bcb4c" type="HIDDEN" name="ni.QSfdd862191b9b7300f7da76295b4bcb4c" readonly="false"></input><input id="sys_original.ni.QSfdd862191b9b7300f7da76295b4bcb4c" container_id="fdd862191b9b7300f7da76295b4bcb4c" type="HIDDEN" name="sys_original.ni.QSfdd862191b9b7300f7da76295b4bcb4c"></input><input id="container_ni.QSfdd862191b9b7300f7da76295b4bcb4c_var_count" type="HIDDEN"></input><span id="question_container_fdd862191b9b7300f7da76295b4bcb4c" class="section"><div id="container_row_fdd862191b9b7300f7da76295b4bcb4c" class="section-content catalog-section-content" style="max-height: none;"><table width="100%" class="container_table" role="presentation" style="table-layout:fixed;"><tr id="element.ni.QSa31966191b9b7300f7da76295b4bcb61" parent_container_id="fdd862191b9b7300f7da76295b4bcb4c"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-6"><div class="sc_variable_editor"><div id="label_ni.QSa31966191b9b7300f7da76295b4bcb61" class="" nowrap="true" type="8" oncontextmenu="return contextQuestionLabel(event, 'a31966191b9b7300f7da76295b4bcb61', '8');"><label for="sys_display.ni.QSa31966191b9b7300f7da76295b4bcb61" class=" control-label sc_editor_label"><span id="status.ni.QSa31966191b9b7300f7da76295b4bcb61" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Serviço">Serviço</span></label></div><div class="col-xs-6  form-field input_controls sc-form-field  input_controls"><input type="hidden" id="ni.QSa31966191b9b7300f7da76295b4bcb61" name="ni.QSa31966191b9b7300f7da76295b4bcb61" value="f65f9c1887e052d030ceec240cbb3541" class="cat_item_option" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QSa31966191b9b7300f7da76295b4bcb61'); setReferenceLink('ni.QSa31966191b9b7300f7da76295b4bcb61'); $('display_hidden.ni.QSa31966191b9b7300f7da76295b4bcb61').value = $('sys_display.ni.QSa31966191b9b7300f7da76295b4bcb61').value;"></input><input type="hidden" id="ni.QSa31966191b9b7300f7da76295b4bcb61TABLE" name="ni.ni.QSa31966191b9b7300f7da76295b4bcb61TABLE" value="u_cmdb_ci_catalog_service" onchange=""></input><input type="hidden" id="display_hidden.ni.QSa31966191b9b7300f7da76295b4bcb61" name="display_hidden.ni.QSa31966191b9b7300f7da76295b4bcb61" value="Teclado / Mouse" onchange=""></input><input type="hidden" id="sys_original.ni.QSa31966191b9b7300f7da76295b4bcb61" name="sys_original.ni.QSa31966191b9b7300f7da76295b4bcb61" value="f65f9c1887e052d030ceec240cbb3541"></input><div class="input-group" style="width: 100%;"><input id="sys_display.ni.QSa31966191b9b7300f7da76295b4bcb61" name="sys_display.ni.QSa31966191b9b7300f7da76295b4bcb61" class="questionsetreference form-control element_reference_input" onfocus="if (!this.ac) new AJAXReferenceCompleter(this, 'ni.QSa31966191b9b7300f7da76295b4bcb61', '', '', 'u_cmdb_ci_catalog_service');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" role="combobox" aria-autocomplete="list" ac_columns="" ac_order_by="u_display_name" value="Teclado / Mouse" aria-required="false" aria-labelledby="label_ni.QSa31966191b9b7300f7da76295b4bcb61" aria-expanded="false"></input><span class="input-group-btn"><a id="lookup.ni.QSa31966191b9b7300f7da76295b4bcb61" tabindex="-1" role="button" class="btn btn-default sc-btn-default" title="Pesquisar usando lista" onclick="mousePositionSave(event);reflistOpen( 'ni.QSa31966191b9b7300f7da76295b4bcb61', 'not', gel('ni.QSa31966191b9b7300f7da76295b4bcb61TABLE').value, '', 'false', '', '', '')"><span aria-hidden="true" class="icon icon-search"></span><span class="sr-only">Pesquisar usando lista</span></a><span id="ni.QSa31966191b9b7300f7da76295b4bcb61LINK" style=""><span name=""><a id="ni.QSa31966191b9b7300f7da76295b4bcb61LINK.tear" tabindex="-1" class="btn btn-default btn-ref icon icon-preview sc-ref-spacer" title="Exibição" style="display: none"><span class="sr-only">Exibir (Abre o registro de referência em nova janela)</span></a><a id="ni.QSa31966191b9b7300f7da76295b4bcb61LINK.info" tabindex="-1" onclick="popLightWeightReferenceDiv(event, 'ni.QSa31966191b9b7300f7da76295b4bcb61', true);" class="btn btn-default btn-ref icon icon-info sc-ref-spacer" title="Exibição" style=""><span class="sr-only">Exibir (Abre o registro de referência na janela atual)</span></a></span></span></span></div></div></div></div></div></td></tr><tr id="element.ni.QS2999ea191b9b7300f7da76295b4bcb39" parent_container_id="fdd862191b9b7300f7da76295b4bcb4c"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-6"><div class="sc_variable_editor"><div id="label_ni.QS2999ea191b9b7300f7da76295b4bcb39" class="" nowrap="true" type="8" oncontextmenu="return contextQuestionLabel(event, '2999ea191b9b7300f7da76295b4bcb39', '8');"><label for="sys_display.ni.QS2999ea191b9b7300f7da76295b4bcb39" class=" control-label sc_editor_label"><span id="status.ni.QS2999ea191b9b7300f7da76295b4bcb39" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Categoria">Categoria</span></label></div><div class="col-xs-6  form-field input_controls sc-form-field  input_controls"><input type="hidden" id="ni.QS2999ea191b9b7300f7da76295b4bcb39" name="ni.QS2999ea191b9b7300f7da76295b4bcb39" value="5ecf585887e052d030ceec240cbb351b" class="cat_item_option" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QS2999ea191b9b7300f7da76295b4bcb39'); setReferenceLink('ni.QS2999ea191b9b7300f7da76295b4bcb39'); $('display_hidden.ni.QS2999ea191b9b7300f7da76295b4bcb39').value = $('sys_display.ni.QS2999ea191b9b7300f7da76295b4bcb39').value;"></input><input type="hidden" id="ni.QS2999ea191b9b7300f7da76295b4bcb39TABLE" name="ni.ni.QS2999ea191b9b7300f7da76295b4bcb39TABLE" value="u_cmdb_ci_catalog_category" onchange=""></input><input type="hidden" id="display_hidden.ni.QS2999ea191b9b7300f7da76295b4bcb39" name="display_hidden.ni.QS2999ea191b9b7300f7da76295b4bcb39" value="Teclado / Mouse" onchange=""></input><input type="hidden" id="sys_original.ni.QS2999ea191b9b7300f7da76295b4bcb39" name="sys_original.ni.QS2999ea191b9b7300f7da76295b4bcb39" value="5ecf585887e052d030ceec240cbb351b"></input><div class="input-group" style="width: 100%;"><input id="sys_display.ni.QS2999ea191b9b7300f7da76295b4bcb39" name="sys_display.ni.QS2999ea191b9b7300f7da76295b4bcb39" class="questionsetreference form-control element_reference_input" onfocus="if (!this.ac) new AJAXReferenceCompleter(this, 'ni.QS2999ea191b9b7300f7da76295b4bcb39', '', 'true', 'u_cmdb_ci_catalog_category');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" role="combobox" aria-autocomplete="list" ac_columns="" ac_order_by="u_display_name" value="Teclado / Mouse" aria-required="false" aria-labelledby="label_ni.QS2999ea191b9b7300f7da76295b4bcb39" aria-expanded="false"></input><span class="input-group-btn"><a id="lookup.ni.QS2999ea191b9b7300f7da76295b4bcb39" tabindex="-1" role="button" class="btn btn-default sc-btn-default" title="Pesquisar usando lista" onclick="mousePositionSave(event);reflistOpen( 'ni.QS2999ea191b9b7300f7da76295b4bcb39', 'not', gel('ni.QS2999ea191b9b7300f7da76295b4bcb39TABLE').value, '', 'false', 'true', '', '')"><span aria-hidden="true" class="icon icon-search"></span><span class="sr-only">Pesquisar usando lista</span></a><span id="ni.QS2999ea191b9b7300f7da76295b4bcb39LINK" style=""><span name=""><a id="ni.QS2999ea191b9b7300f7da76295b4bcb39LINK.tear" tabindex="-1" class="btn btn-default btn-ref icon icon-preview sc-ref-spacer" title="Exibição" style="display: none"><span class="sr-only">Exibir (Abre o registro de referência em nova janela)</span></a><a id="ni.QS2999ea191b9b7300f7da76295b4bcb39LINK.info" tabindex="-1" onclick="popLightWeightReferenceDiv(event, 'ni.QS2999ea191b9b7300f7da76295b4bcb39', true);" class="btn btn-default btn-ref icon icon-info sc-ref-spacer" title="Exibição" style=""><span class="sr-only">Exibir (Abre o registro de referência na janela atual)</span></a></span></span></span></div></div></div></div></div></td></tr><tr id="element.ni.QSd37c11b51bfff740f7da76295b4bcb40" parent_container_id="fdd862191b9b7300f7da76295b4bcb4c"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-6"><div class="sc_variable_editor"><div id="label_ni.QSd37c11b51bfff740f7da76295b4bcb40" class="" nowrap="true" type="8" oncontextmenu="return contextQuestionLabel(event, 'd37c11b51bfff740f7da76295b4bcb40', '8');"><label for="sys_display.ni.QSd37c11b51bfff740f7da76295b4bcb40" class=" control-label sc_editor_label"><span id="status.ni.QSd37c11b51bfff740f7da76295b4bcb40" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Qual Módulo?">Qual Módulo?</span></label></div><div class="col-xs-6  form-field input_controls sc-form-field  input_controls"><input type="hidden" id="ni.QSd37c11b51bfff740f7da76295b4bcb40" name="ni.QSd37c11b51bfff740f7da76295b4bcb40" value="da0170248748d65030ceec240cbb35c8" class="cat_item_option" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QSd37c11b51bfff740f7da76295b4bcb40'); setReferenceLink('ni.QSd37c11b51bfff740f7da76295b4bcb40'); $('display_hidden.ni.QSd37c11b51bfff740f7da76295b4bcb40').value = $('sys_display.ni.QSd37c11b51bfff740f7da76295b4bcb40').value;"></input><input type="hidden" id="ni.QSd37c11b51bfff740f7da76295b4bcb40TABLE" name="ni.ni.QSd37c11b51bfff740f7da76295b4bcb40TABLE" value="u_cmdb_ci_catalog_subcategory" onchange=""></input><input type="hidden" id="display_hidden.ni.QSd37c11b51bfff740f7da76295b4bcb40" name="display_hidden.ni.QSd37c11b51bfff740f7da76295b4bcb40" value="Mouse" onchange=""></input><input type="hidden" id="sys_original.ni.QSd37c11b51bfff740f7da76295b4bcb40" name="sys_original.ni.QSd37c11b51bfff740f7da76295b4bcb40" value="da0170248748d65030ceec240cbb35c8"></input><div class="input-group" style="width: 100%;"><input id="sys_display.ni.QSd37c11b51bfff740f7da76295b4bcb40" name="sys_display.ni.QSd37c11b51bfff740f7da76295b4bcb40" class="questionsetreference form-control element_reference_input" onfocus="if (!this.ac) new AJAXReferenceCompleter(this, 'ni.QSd37c11b51bfff740f7da76295b4bcb40', '', 'true', 'u_cmdb_ci_catalog_subcategory');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" role="combobox" aria-autocomplete="list" ac_columns="" ac_order_by="name" value="Mouse" aria-required="false" aria-labelledby="label_ni.QSd37c11b51bfff740f7da76295b4bcb40" aria-expanded="false"></input><span class="input-group-btn"><a id="lookup.ni.QSd37c11b51bfff740f7da76295b4bcb40" tabindex="-1" role="button" class="btn btn-default sc-btn-default" title="Pesquisar usando lista" onclick="mousePositionSave(event);reflistOpen( 'ni.QSd37c11b51bfff740f7da76295b4bcb40', 'not', gel('ni.QSd37c11b51bfff740f7da76295b4bcb40TABLE').value, '', 'false', 'true', '', '')"><span aria-hidden="true" class="icon icon-search"></span><span class="sr-only">Pesquisar usando lista</span></a><span id="ni.QSd37c11b51bfff740f7da76295b4bcb40LINK" style=""><span name=""><a id="ni.QSd37c11b51bfff740f7da76295b4bcb40LINK.tear" tabindex="-1" class="btn btn-default btn-ref icon icon-preview sc-ref-spacer" title="Exibição" style="display: none"><span class="sr-only">Exibir (Abre o registro de referência em nova janela)</span></a><a id="ni.QSd37c11b51bfff740f7da76295b4bcb40LINK.info" tabindex="-1" onclick="popLightWeightReferenceDiv(event, 'ni.QSd37c11b51bfff740f7da76295b4bcb40', true);" class="btn btn-default btn-ref icon icon-info sc-ref-spacer" title="Exibição" style=""><span class="sr-only">Exibir (Abre o registro de referência na janela atual)</span></a></span></span></span></div></div></div></div></div></td></tr><tr id="element.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" parent_container_id="fdd862191b9b7300f7da76295b4bcb4c"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-6"><div class="sc_variable_editor"><div id="label_ni.QS57aa2e551b9b7300f7da76295b4bcbd0" class="" nowrap="true" type="8" oncontextmenu="return contextQuestionLabel(event, '57aa2e551b9b7300f7da76295b4bcbd0', '8');"><label for="sys_display.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" class=" control-label sc_editor_label"><span id="status.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="O que você deseja?">O que você deseja?</span></label></div><div class="col-xs-6  form-field input_controls sc-form-field  input_controls"><input type="hidden" id="ni.QS57aa2e551b9b7300f7da76295b4bcbd0" name="ni.QS57aa2e551b9b7300f7da76295b4bcbd0" value="c42200898714da1030ceec240cbb3518" class="cat_item_option" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QS57aa2e551b9b7300f7da76295b4bcbd0'); setReferenceLink('ni.QS57aa2e551b9b7300f7da76295b4bcbd0'); $('display_hidden.ni.QS57aa2e551b9b7300f7da76295b4bcbd0').value = $('sys_display.ni.QS57aa2e551b9b7300f7da76295b4bcbd0').value;"></input><input type="hidden" id="ni.QS57aa2e551b9b7300f7da76295b4bcbd0TABLE" name="ni.ni.QS57aa2e551b9b7300f7da76295b4bcbd0TABLE" value="u_cmdb_ci_catalog_occurrence" onchange=""></input><input type="hidden" id="display_hidden.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" name="display_hidden.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" value="Não funciona" onchange=""></input><input type="hidden" id="sys_original.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" name="sys_original.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" value="c42200898714da1030ceec240cbb3518"></input><div class="input-group" style="width: 100%;"><input id="sys_display.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" name="sys_display.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" class="questionsetreference form-control element_reference_input" onfocus="if (!this.ac) new AJAXReferenceCompleter(this, 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', '', 'true', 'u_cmdb_ci_catalog_occurrence');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" role="combobox" aria-autocomplete="list" ac_columns="" ac_order_by="u_display_name" value="Não funciona" aria-required="false" aria-labelledby="label_ni.QS57aa2e551b9b7300f7da76295b4bcbd0" aria-expanded="false"></input><span class="input-group-btn"><a id="lookup.ni.QS57aa2e551b9b7300f7da76295b4bcbd0" tabindex="-1" role="button" class="btn btn-default sc-btn-default" title="Pesquisar usando lista" onclick="mousePositionSave(event);reflistOpen( 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', 'not', gel('ni.QS57aa2e551b9b7300f7da76295b4bcbd0TABLE').value, '', 'false', 'true', '', '')"><span aria-hidden="true" class="icon icon-search"></span><span class="sr-only">Pesquisar usando lista</span></a><span id="ni.QS57aa2e551b9b7300f7da76295b4bcbd0LINK" style=""><span name=""><a id="ni.QS57aa2e551b9b7300f7da76295b4bcbd0LINK.tear" tabindex="-1" class="btn btn-default btn-ref icon icon-preview sc-ref-spacer" title="Exibição" style="display: none"><span class="sr-only">Exibir (Abre o registro de referência em nova janela)</span></a><a id="ni.QS57aa2e551b9b7300f7da76295b4bcbd0LINK.info" tabindex="-1" onclick="popLightWeightReferenceDiv(event, 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', true);" class="btn btn-default btn-ref icon icon-info sc-ref-spacer" title="Exibição" style=""><span class="sr-only">Exibir (Abre o registro de referência na janela atual)</span></a></span></span></span></div></div></div></div></div></td></tr></table></div></span></td></tr><tr id="element.container_69aa9cc8db79f30017a25c4bf39619d6" parent_container_id=""><td class="iotd container-iotd"><input id="ni.QS69aa9cc8db79f30017a25c4bf39619d6" container_id="69aa9cc8db79f30017a25c4bf39619d6" type="HIDDEN" name="ni.QS69aa9cc8db79f30017a25c4bf39619d6" readonly="false"></input><input id="sys_original.ni.QS69aa9cc8db79f30017a25c4bf39619d6" container_id="69aa9cc8db79f30017a25c4bf39619d6" type="HIDDEN" name="sys_original.ni.QS69aa9cc8db79f30017a25c4bf39619d6"></input><input id="container_ni.QS69aa9cc8db79f30017a25c4bf39619d6_var_count" type="HIDDEN"></input><span id="question_container_69aa9cc8db79f30017a25c4bf39619d6" class="section"><div id="container_row_69aa9cc8db79f30017a25c4bf39619d6" class="section-content catalog-section-content" style="max-height: none;"><table width="100%" class="container_table" role="presentation" style="table-layout:fixed;"><tr id="element.ni.QS44ca5cc8db79f30017a25c4bf39619e5" parent_container_id="69aa9cc8db79f30017a25c4bf39619d6"><td class="iotd"><div class="row sc-row"><div class="form-group  sc-row sc-row-12"><div class="sc_variable_editor"><div id="label_ni.QS44ca5cc8db79f30017a25c4bf39619e5" class="" nowrap="true" type="2" oncontextmenu="return contextQuestionLabel(event, '44ca5cc8db79f30017a25c4bf39619e5', '2');"><label for="ni.QS44ca5cc8db79f30017a25c4bf39619e5" class=" control-label sc_editor_label"><span id="status.ni.QS44ca5cc8db79f30017a25c4bf39619e5" aria-label="" title="" mandatory="false" oclass="" class=" required-marker">&nbsp;</span><span class="sn-tooltip-basic " data-toggle="tooltip" data-placement="auto" role="heading" aria-level="3" aria-label="Descrição">Descrição</span></label></div><div class="col-xs-12 form-field input_controls sc-form-field "><textarea style="height: 64px;" name="ni.QS44ca5cc8db79f30017a25c4bf39619e5" id="ni.QS44ca5cc8db79f30017a25c4bf39619e5" class="question_textarea_input cat_item_option form-control" wrap="soft" aria-labelledby="label_ni.QS44ca5cc8db79f30017a25c4bf39619e5" onchange="if (typeof(variableOnChange) == 'function') variableOnChange('ni.QS44ca5cc8db79f30017a25c4bf39619e5')">boa tarde, gostaria de solicitar outro mouse para o pdv 2, o mesmo estar se abrindo e fica falhando e parando</textarea><input type="HIDDEN" class="cat_item_option form-control" name="sys_original.ni.QS44ca5cc8db79f30017a25c4bf39619e5" id="sys_original.ni.QS44ca5cc8db79f30017a25c4bf39619e5" value="boa tarde, gostaria de solicitar outro mouse para o pdv 2, o mesmo estar se abrindo e fica falhando e parando"></input><script language="javascript">addRenderEvent(function() {
				var e = gel('ni.QS44ca5cc8db79f30017a25c4bf39619e5');
				if (e) {
					// this fixes an obscure bug in IE where textareas don't scroll all the way to the bottom 
					// and the text display is truncated. by deferring setting the rowsize, it forces a recalc 
					// of the scrollbar and displays correctly
					e.rows = 5;
				}
				if (window['textareaResize'])
					textareaResize('ni.QS44ca5cc8db79f30017a25c4bf39619e5');
			});</script></div></div></div></div></td></tr></table></div></span></td></tr><SCRIPT>addTopRenderEvent(variableEditorLoad);function variableEditorLoad() {g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS821bc880db79f30017a25c4bf3961994', 'reference',false, 'sys_user', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS4b284040db79f30017a25c4bf3961977', 'reference',false, 'sys_user', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4', 'string',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b', 'string',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QSf44fae56dbd708105eaf63901496194b', 'string',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QSa95e2e16dbd708105eaf6390149619a0', 'string',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS7d08cc00db79f30017a25c4bf3961956', 'container',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QSa31966191b9b7300f7da76295b4bcb61', 'reference',false, 'u_cmdb_ci_catalog_service', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS2999ea191b9b7300f7da76295b4bcb39', 'reference',false, 'u_cmdb_ci_catalog_category', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QSd37c11b51bfff740f7da76295b4bcb40', 'reference',false, 'u_cmdb_ci_catalog_subcategory', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', 'reference',false, 'u_cmdb_ci_catalog_occurrence', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QSfdd862191b9b7300f7da76295b4bcb4c', 'container',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS44ca5cc8db79f30017a25c4bf39619e5', 'string',false, 'null', '', 'global'));g_form.addGlideUIElement(getSCFormElement('variable', 'ni.QS69aa9cc8db79f30017a25c4bf39619d6', 'container',false, 'null', '', 'global'));}</SCRIPT><script>addTopRenderEvent( function() { if (!window['g_sc_form']) {window.g_sc_form = new ServiceCatalogForm17('ni', true, true);}if (typeof g_form != 'undefined') {g_form.registerPrefixHandler('variables',g_sc_form);}var nameElement = new NameMapEntry('vs_requested_for', 'ni.QS821bc880db79f30017a25c4bf3961994', 'Solicitado para qual usu\u00E1rio?', '821bc880db79f30017a25c4bf3961994');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS821bc880db79f30017a25c4bf3961994', 'reference',false, 'sys_user', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS821bc880db79f30017a25c4bf3961994', 'reference',false, 'sys_user', '', 'global','ni.QS821bc880db79f30017a25c4bf3961994');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS821bc880db79f30017a25c4bf3961994', catVarEle);var nameElement = new NameMapEntry('vs_opened_by', 'ni.QS4b284040db79f30017a25c4bf3961977', 'Aberto por', '4b284040db79f30017a25c4bf3961977');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS4b284040db79f30017a25c4bf3961977', 'reference',false, 'sys_user', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS4b284040db79f30017a25c4bf3961977', 'reference',false, 'sys_user', '', 'global','ni.QS4b284040db79f30017a25c4bf3961977');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS4b284040db79f30017a25c4bf3961977', catVarEle);var nameElement = new NameMapEntry('vs_contact_phone_itil', 'ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4', 'Telefone para contato', 'c1f9e7391b8c1d10edbd87bfe54bcbc4');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4', 'string',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4', 'string',false, 'null', '', 'global','ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4', catVarEle);var nameElement = new NameMapEntry('vs_email', 'ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b', 'E-mail', '801a8ffd1bfe0590f61c0dcbe54bcb0b');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b', 'string',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b', 'string',false, 'null', '', 'global','ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b', catVarEle);var nameElement = new NameMapEntry('vs_contact_phone', 'ni.QSf44fae56dbd708105eaf63901496194b', 'Telefone para contato', 'f44fae56dbd708105eaf63901496194b');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QSf44fae56dbd708105eaf63901496194b', 'string',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QSf44fae56dbd708105eaf63901496194b', 'string',false, 'null', '', 'global','ni.QSf44fae56dbd708105eaf63901496194b');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QSf44fae56dbd708105eaf63901496194b', catVarEle);var nameElement = new NameMapEntry('vs_location', 'ni.QSa95e2e16dbd708105eaf6390149619a0', 'local', 'a95e2e16dbd708105eaf6390149619a0');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QSa95e2e16dbd708105eaf6390149619a0', 'string',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QSa95e2e16dbd708105eaf6390149619a0', 'string',false, 'null', '', 'global','ni.QSa95e2e16dbd708105eaf6390149619a0');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QSa95e2e16dbd708105eaf6390149619a0', catVarEle);var nameElement = new NameMapEntry('opened_by_and_requested_for', 'ni.QS7d08cc00db79f30017a25c4bf3961956', 'Aberto por e solicitado para', '7d08cc00db79f30017a25c4bf3961956');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var nameElement = new NameMapEntry('Aberto por e solicitado para', 'ni.QS7d08cc00db79f30017a25c4bf3961956', 'Aberto por e solicitado para', '7d08cc00db79f30017a25c4bf3961956');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS7d08cc00db79f30017a25c4bf3961956', 'container',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS7d08cc00db79f30017a25c4bf3961956', 'container',false, 'null', '', 'global','ni.QS7d08cc00db79f30017a25c4bf3961956');
 catVarEle.addChild('ni.QS821bc880db79f30017a25c4bf3961994');
 catVarEle.addChild('ni.QS4b284040db79f30017a25c4bf3961977');
 catVarEle.addChild('ni.QSc1f9e7391b8c1d10edbd87bfe54bcbc4');
 catVarEle.addChild('ni.QS801a8ffd1bfe0590f61c0dcbe54bcb0b');
 catVarEle.addChild('ni.QSf44fae56dbd708105eaf63901496194b');
 catVarEle.addChild('ni.QSa95e2e16dbd708105eaf6390149619a0');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS7d08cc00db79f30017a25c4bf3961956', catVarEle);var nameElement = new NameMapEntry('service', 'ni.QSa31966191b9b7300f7da76295b4bcb61', 'Servi\u00E7o', 'a31966191b9b7300f7da76295b4bcb61');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QSa31966191b9b7300f7da76295b4bcb61', 'reference',false, 'u_cmdb_ci_catalog_service', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QSa31966191b9b7300f7da76295b4bcb61', 'reference',false, 'u_cmdb_ci_catalog_service', '', 'global','ni.QSa31966191b9b7300f7da76295b4bcb61');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QSa31966191b9b7300f7da76295b4bcb61', catVarEle);var nameElement = new NameMapEntry('category', 'ni.QS2999ea191b9b7300f7da76295b4bcb39', 'Categoria', '2999ea191b9b7300f7da76295b4bcb39');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS2999ea191b9b7300f7da76295b4bcb39', 'reference',false, 'u_cmdb_ci_catalog_category', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS2999ea191b9b7300f7da76295b4bcb39', 'reference',false, 'u_cmdb_ci_catalog_category', '', 'global','ni.QS2999ea191b9b7300f7da76295b4bcb39');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS2999ea191b9b7300f7da76295b4bcb39', catVarEle);var nameElement = new NameMapEntry('subcategory', 'ni.QSd37c11b51bfff740f7da76295b4bcb40', 'Qual M\u00F3dulo?', 'd37c11b51bfff740f7da76295b4bcb40');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QSd37c11b51bfff740f7da76295b4bcb40', 'reference',false, 'u_cmdb_ci_catalog_subcategory', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QSd37c11b51bfff740f7da76295b4bcb40', 'reference',false, 'u_cmdb_ci_catalog_subcategory', '', 'global','ni.QSd37c11b51bfff740f7da76295b4bcb40');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QSd37c11b51bfff740f7da76295b4bcb40', catVarEle);var nameElement = new NameMapEntry('symptom', 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', 'O que voc\u00EA deseja?', '57aa2e551b9b7300f7da76295b4bcbd0');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', 'reference',false, 'u_cmdb_ci_catalog_occurrence', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS57aa2e551b9b7300f7da76295b4bcbd0', 'reference',false, 'u_cmdb_ci_catalog_occurrence', '', 'global','ni.QS57aa2e551b9b7300f7da76295b4bcbd0');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS57aa2e551b9b7300f7da76295b4bcbd0', catVarEle);var nameElement = new NameMapEntry('catalog_service_request', 'ni.QSfdd862191b9b7300f7da76295b4bcb4c', 'Servi\u00E7o de cat\u00E1logo para solicita\u00E7\u00E3o', 'fdd862191b9b7300f7da76295b4bcb4c');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var nameElement = new NameMapEntry('Servi\\u00E7o de cat\\u00E1logo para solicita\\u00E7\\u00E3o', 'ni.QSfdd862191b9b7300f7da76295b4bcb4c', 'Servi\u00E7o de cat\u00E1logo para solicita\u00E7\u00E3o', 'fdd862191b9b7300f7da76295b4bcb4c');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QSfdd862191b9b7300f7da76295b4bcb4c', 'container',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QSfdd862191b9b7300f7da76295b4bcb4c', 'container',false, 'null', '', 'global','ni.QSfdd862191b9b7300f7da76295b4bcb4c');
 catVarEle.addChild('ni.QSa31966191b9b7300f7da76295b4bcb61');
 catVarEle.addChild('ni.QS2999ea191b9b7300f7da76295b4bcb39');
 catVarEle.addChild('ni.QSd37c11b51bfff740f7da76295b4bcb40');
 catVarEle.addChild('ni.QS57aa2e551b9b7300f7da76295b4bcbd0');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QSfdd862191b9b7300f7da76295b4bcb4c', catVarEle);var nameElement = new NameMapEntry('vs_description', 'ni.QS44ca5cc8db79f30017a25c4bf39619e5', 'Descri\u00E7\u00E3o', '44ca5cc8db79f30017a25c4bf39619e5');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS44ca5cc8db79f30017a25c4bf39619e5', 'string',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS44ca5cc8db79f30017a25c4bf39619e5', 'string',false, 'null', '', 'global','ni.QS44ca5cc8db79f30017a25c4bf39619e5');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS44ca5cc8db79f30017a25c4bf39619e5', catVarEle);var nameElement = new NameMapEntry('description', 'ni.QS69aa9cc8db79f30017a25c4bf39619d6', 'Descri\u00E7\u00E3o', '69aa9cc8db79f30017a25c4bf39619d6');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var nameElement = new NameMapEntry('Descri\\u00E7\\u00E3o', 'ni.QS69aa9cc8db79f30017a25c4bf39619d6', 'Descri\u00E7\u00E3o', '69aa9cc8db79f30017a25c4bf39619d6');g_sc_form.addNameMapEntry(nameElement);g_form.addNameMapEntry(nameElement);var glideUIElement = getSCFormElement('variable', 'ni.QS69aa9cc8db79f30017a25c4bf39619d6', 'container',false, 'null', '', 'global');g_sc_form.addGlideUIElement(glideUIElement);
 var catVarEle = SCUIElementFactory.createUIElement('variable', 'ni.QS69aa9cc8db79f30017a25c4bf39619d6', 'container',false, 'null', '', 'global','ni.QS69aa9cc8db79f30017a25c4bf39619d6');
 catVarEle.addChild('ni.QS44ca5cc8db79f30017a25c4bf39619e5');
 catVarEle.setNamerPrefix('ni.QS');
 g_sc_form.addSCUIElement('ni.QS69aa9cc8db79f30017a25c4bf39619d6', catVarEle);
g_sc_form._reParentCatalogVariableElements();
g_sc_form.setDisplay('vs_contact_phone_itil', false);CachedEvent.emit('glideform.initialized', window.g_sc_form)})</script><tr><td><input type="hidden" value="0c1c18d887a052d030ceec240cbb35f2" name="sysparm_id" id="sysparm_id"></input></td></tr><tr><td><input type="hidden" value="821bc880db79f30017a25c4bf3961994,4b284040db79f30017a25c4bf3961977,c1f9e7391b8c1d10edbd87bfe54bcbc4,801a8ffd1bfe0590f61c0dcbe54bcb0b,f44fae56dbd708105eaf63901496194b,a95e2e16dbd708105eaf6390149619a0,a31966191b9b7300f7da76295b4bcb61,2999ea191b9b7300f7da76295b4bcb39,d37c11b51bfff740f7da76295b4bcb40,57aa2e551b9b7300f7da76295b4bcbd0,44ca5cc8db79f30017a25c4bf39619e5" name="variable_sequence" id="variable_sequence" class="cat_item_option"></input></td></tr></table></div></div></td></tr></div></table></div></div></div></div></span></span><span class="tabs2_section tabs2_section_2 tabs2_section2 tab_section" data-header-only="false" tab_caption="Notas" tab_caption_raw="Notes" id="section_tab.991f88d20a00064127420bc37824d385" data-section-id="991f88d20a00064127420bc37824d385" style="display: block"><span id="section-991f88d20a00064127420bc37824d385" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="991f88d20a00064127420bc37824d385" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Notas</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="991f88d20a00064127420bc37824d385" aria-label="Recolher seção: Notas" data-aria-label-toggle="Expandir seção: Notas" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Notas" onclick="hideReveal('991f88d20a00064127420bc37824d385'); return false;" title="Ocultar / Exibir Notas" aria-expanded="true"></button></span></div></div></nav><div id="991f88d20a00064127420bc37824d385" glide="true" class="section-content with-overflow" role="region" aria-label="Notas Seção de formulário"><div class="row"><div class="vsplit col-sm-6"><div id="element.incident.watch_list" class="form-group "><div class="label_spacing" noWrap="true" data-type="label" choice="0" type="glide_list" id="label.incident.watch_list"><label onclick="return labelClicked(this);" for="select_0incident.watch_list" dir="ltr" class="control-label col-xs-12 col-md-3 col-lg-4  col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.watch_list" aria-label="" role="note" data-dynamic-title="Usuários que recebem atualizações para este registro de tarefa" mandatory="false" oclass="" class=" "></span><span title="Usuários que recebem atualizações para este registro de tarefa" class="label-text" data-html="false">Lista de observação</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><span id="incident.watch_list_title_text" class="sr-only">
					Desbloquear Lista de observação
					<span class="sr-only">, Selecionado:</span><span class="sr-only"><div id="incident.watch_list_nonedit_sr"></div></span></span><button class="btn btn-default btn-ref" type="button" aria-labelledby="incident.watch_list_title_text" aria-expanded="false" data-target="#incident\.watch_list" title="Desbloquear Lista de observação" tabindex="0" id="incident.watch_list_unlock" data-type="glide_list_unlock" data-ref="incident.watch_list" data-auto-close="false" data-placement="auto" style="display: inline-flex;" data-now-ux-metrics-event="Unlock Watch List" onclick="telemetryForWatchlist(event);"><span class="icon icon-locked" aria-hidden="true"></span></button><button class="btn btn-default btn-ref" type="button" tabindex="0" aria-label="Lista de observação Adicionar-me" id="add_me_locked.incident.watch_list" style="  " title="Adicionar-me" data-ref="incident.watch_list" data-type="glide_list_add_me_locked" data-user-id="34641827876d1ed410de85580cbb3506" data-user="Marcelo Marfim" data-now-ux-metrics-event="Add Me to Watch List" onclick="telemetryForWatchlist(event);"><span class="icon icon-user-add" aria-hidden="true"></span></button><SPAN id="incident.watch_list_edit" style="display: none;" class="container-full-width now-align -wrap"><div class="glide-list" role="presentation"><select id="select_0incident.watch_list" class="form-control default-focus-outline" multiple="yes" size="6" name="select_0incident.watch_list" onChange="toggleGlideListIcons('incident.watch_list', false);" style="; ;" aria-live="polite" aria-relevant="additions removals"></select><div class="button-column"><button data-type="glide_list_add_me" data-ref="incident.watch_list" data-user-id="34641827876d1ed410de85580cbb3506" data-user="Marcelo Marfim" aria-label="Lista de observação Adicionar-me" id="add_me.incident.watch_list" title="Adicionar-me" class="btn btn-default btn-ref" data-now-ux-metrics-event="Add Me to Watch List" onclick="telemetryForWatchlist(event);"><span class="icon-user-add icon" aria-hidden="true"></span></button><button data-type="glide_list_remove" data-ref="incident.watch_list" id="remove.incident.watch_list" class="btn btn-default btn-ref" title="Remover item selecionado"><span class="icon icon-cross" aria-hidden="true"></span><span class="sr-only">Remover item selecionado</span></button><button type="button" onclick="glideListPopupSelection(event, 'incident.watch_list', 'sys_user')" tabindex="-1" id="view2link.incident.watch_list" name="view2.incident.watch_list" data-clickthrough="false" data-new-window="false" title="Visualizar item selecionado" class="btn btn-default btn-ref icon-view icon" aria-haspopup="true"></button><button onclick="editList('incident', 'sys_user.do','incident.watch_list','sys_user', 'false', 'Disponível: Usuários', 'Selecionou Usuários');" title="Adicionar/Remover vários" type="button" class="btn btn-default btn-ref"><span class="icon icon-user-group" aria-hidden="true"></span><span class="sr-only">Adicionar/Remover vários</span></button><button id="incident.watch_list_lock" type="button" data-type="glide_list_lock" data-omit-aria-describedby="true" data-ref="incident.watch_list" class="btn btn-default btn-ref" style="align: left; padding-top: 3px; cursor: pointer; display: none" aria-expanded="true" title="Bloquear Lista de observação" tabindex="0"><span class="icon icon-unlocked" aria-hidden="true"></span><span class="sr-only">Bloquear Lista de observação</span></button></div></div><script>addUnloadEvent(function() {
			var element = gel("sys_display.incident.watch_list");
			if (element && element.ac) {
				if (element.ac.destroy) 
					element.ac.destroy();
				}
		});</script><div class="input-group" style="padding-top: 4px"><input id="sys_display.incident.watch_list" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.watch_list'); if (!e.ac) { var ac = new AJAXReferenceCompleter(gel('sys_display.incident.watch_list'), 'incident.watch_list', 'null', ''); ac.setAdditionalValue('sysparm_ref_override', 'sys_user');}})" data-ac="AJAXReferenceCompleter" data-dependent="null" data-ref-qual="" data-reference="sys_user" data-name="watch_list" islist="true" placeholder="Selecionar registro de destino" title="Selecione o registro de destino para Lista de observação" aria-label="Selecione o registro de destino para Lista de observação" onkeydown="return acReferenceKeyDown(this, event);" onkeypress="return acReferenceKeyPress(this, event)" onkeyup="return acReferenceKeyUp(this, event);refFlipImage(this, 'incident.watch_list');" autocomplete="off" function="addGlideListReference('incident.watch_list')" class="form-control" style="; " aria-controls="select_0incident.watch_list"></input><span class="input-group-btn"><button class="btn btn-default btn-ref" id="lookup.incident.watch_list" name="lookup.incident.watch_list" title="Pesquisar usando lista" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.watch_list" data-form="core_company.do"><span class="icon icon-search" aria-hidden="true"></span><span class="sr-only">Pesquisar usando lista</span></button></span></div><div class="input-group" style="padding-top: 4px"><input id="text.value.incident.watch_list" name="text.value.incident.watch_list" class="form-control" data-ref="incident.watch_list" style="; " onKeyPress="return emailInputKeyPress(event, 'select_0incident.watch_list', this, 'Endereço de e-mail inválido');" aria-label="Inserir endereço de e-mail" placeholder="Inserir endereço de e-mail"></input><span class="input-group-btn"><button class="btn btn-default btn-ref" onclick="addEmailAddressToList('select_0incident.watch_list', gel('text.value.incident.watch_list'), 'Endereço de e-mail inválido'); event.stop();" title="Adicionar endereço de e-mail"><span class="icon icon-mail" aria-hidden="true"></span><span class="sr-only">Adicionar endereço de e-mail</span></button></span></div></SPAN><p id="incident.watch_list_nonedit" style="; display: inline-flex; width: auto; " title="Lista de observação" class="form-control-static" ng-non-bindable="true"></p><script>addRenderEvent(function () {
						glideListInit('select_0incident.watch_list', 'incident.watch_list', 'sys_user');
			})</script><script type="text/javascript">if(navigator.userAgent.match(/iPad/i)) {
			var fixIpadMultiselect = function() {
				$j('select[multiple]').iosmultiselect();
			}
			addLoadEvent(function() {
				if($j && $j.fn) {
					if($j.fn.iosmultiselect){
						fixIpadMultiselect();
					} else {
						var scriptId = "iosMultiselectPlugin";
						var scriptTag = document.getElementById(scriptId);
						if (!scriptTag) {
							var ref = document.getElementsByTagName( "script" )[ 0 ];
							var script = document.createElement( "script" );
							script.id = scriptId;
							script.async = true;
							ref.parentNode.insertBefore( script, ref );
							script.onload = fixIpadMultiselect;
							script.src = 'scripts/lib/jquery.iosmultiselect.js';
						}
					}
						
				}
			});
		}</script><div class="hidden" ng-non-bindable="true"><input type="HIDDEN" name="incident.watch_list" id="incident.watch_list" value="" data-dynamic-table-dependent="incident." writeaccess="true" data-type="glide-list"></input><input type="HIDDEN" id="sys_original.incident.watch_list" name="sys_original.incident.watch_list" value=""></input></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div></div><div class="vsplit col-sm-6"><div id="element.incident.work_notes_list" class="form-group "><div class="label_spacing" noWrap="true" data-type="label" choice="0" type="glide_list" id="label.incident.work_notes_list"><label onclick="return labelClicked(this);" for="select_0incident.work_notes_list" dir="ltr" class="control-label col-xs-12 col-md-3 col-lg-4  col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.work_notes_list" aria-label="" role="note" data-dynamic-title="Usuários que recebem atualizações de anotações de trabalho" mandatory="false" oclass="" class=" "></span><span title="Usuários que recebem atualizações de anotações de trabalho" class="label-text" data-html="false">Lista de Anotações de trabalho</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><span id="incident.work_notes_list_title_text" class="sr-only">
					Desbloquear Lista de Anotações de trabalho
					<span class="sr-only">, Selecionado:</span><span class="sr-only"><div id="incident.work_notes_list_nonedit_sr"></div></span></span><button class="btn btn-default btn-ref" type="button" aria-labelledby="incident.work_notes_list_title_text" aria-expanded="false" data-target="#incident\.work_notes_list" title="Desbloquear Lista de Anotações de trabalho" tabindex="0" id="incident.work_notes_list_unlock" data-type="glide_list_unlock" data-ref="incident.work_notes_list" data-auto-close="false" data-placement="auto" style="display: inline-flex;" data-now-ux-metrics-event="Unlock Watch List" onclick="telemetryForWatchlist(event);"><span class="icon icon-locked" aria-hidden="true"></span></button><button class="btn btn-default btn-ref" type="button" tabindex="0" aria-label="Lista de Anotações de trabalho Adicionar-me" id="add_me_locked.incident.work_notes_list" style="  " title="Adicionar-me" data-ref="incident.work_notes_list" data-type="glide_list_add_me_locked" data-user-id="34641827876d1ed410de85580cbb3506" data-user="Marcelo Marfim" data-now-ux-metrics-event="Add Me to Watch List" onclick="telemetryForWatchlist(event);"><span class="icon icon-user-add" aria-hidden="true"></span></button><SPAN id="incident.work_notes_list_edit" style="display: none;" class="container-full-width now-align -wrap"><div class="glide-list" role="presentation"><select id="select_0incident.work_notes_list" class="form-control default-focus-outline" multiple="yes" size="6" name="select_0incident.work_notes_list" onChange="toggleGlideListIcons('incident.work_notes_list', false);" style="; ;" aria-live="polite" aria-relevant="additions removals"></select><div class="button-column"><button data-type="glide_list_add_me" data-ref="incident.work_notes_list" data-user-id="34641827876d1ed410de85580cbb3506" data-user="Marcelo Marfim" aria-label="Lista de Anotações de trabalho Adicionar-me" id="add_me.incident.work_notes_list" title="Adicionar-me" class="btn btn-default btn-ref" data-now-ux-metrics-event="Add Me to Watch List" onclick="telemetryForWatchlist(event);"><span class="icon-user-add icon" aria-hidden="true"></span></button><button data-type="glide_list_remove" data-ref="incident.work_notes_list" id="remove.incident.work_notes_list" class="btn btn-default btn-ref" title="Remover item selecionado"><span class="icon icon-cross" aria-hidden="true"></span><span class="sr-only">Remover item selecionado</span></button><button type="button" onclick="glideListPopupSelection(event, 'incident.work_notes_list', 'sys_user')" tabindex="-1" id="view2link.incident.work_notes_list" name="view2.incident.work_notes_list" data-clickthrough="false" data-new-window="false" title="Visualizar item selecionado" class="btn btn-default btn-ref icon-view icon" aria-haspopup="true"></button><button onclick="editList('incident', 'sys_user.do','incident.work_notes_list','sys_user', 'false', 'Disponível: Usuários', 'Selecionou Usuários');" title="Adicionar/Remover vários" type="button" class="btn btn-default btn-ref"><span class="icon icon-user-group" aria-hidden="true"></span><span class="sr-only">Adicionar/Remover vários</span></button><button id="incident.work_notes_list_lock" type="button" data-type="glide_list_lock" data-omit-aria-describedby="true" data-ref="incident.work_notes_list" class="btn btn-default btn-ref" style="align: left; padding-top: 3px; cursor: pointer; display: none" aria-expanded="true" title="Bloquear Lista de Anotações de trabalho" tabindex="0"><span class="icon icon-unlocked" aria-hidden="true"></span><span class="sr-only">Bloquear Lista de Anotações de trabalho</span></button></div></div><script>addUnloadEvent(function() {
			var element = gel("sys_display.incident.work_notes_list");
			if (element && element.ac) {
				if (element.ac.destroy) 
					element.ac.destroy();
				}
		});</script><div class="input-group" style="padding-top: 4px"><input id="sys_display.incident.work_notes_list" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.work_notes_list'); if (!e.ac) { var ac = new AJAXReferenceCompleter(gel('sys_display.incident.work_notes_list'), 'incident.work_notes_list', 'null', ''); ac.setAdditionalValue('sysparm_ref_override', 'sys_user');}})" data-ac="AJAXReferenceCompleter" data-dependent="null" data-ref-qual="" data-reference="sys_user" data-name="work_notes_list" islist="true" placeholder="Selecionar registro de destino" title="Selecione o registro de destino para Lista de Anotações de trabalho" aria-label="Selecione o registro de destino para Lista de Anotações de trabalho" onkeydown="return acReferenceKeyDown(this, event);" onkeypress="return acReferenceKeyPress(this, event)" onkeyup="return acReferenceKeyUp(this, event);refFlipImage(this, 'incident.work_notes_list');" autocomplete="off" function="addGlideListReference('incident.work_notes_list')" class="form-control" style="; " aria-controls="select_0incident.work_notes_list"></input><span class="input-group-btn"><button class="btn btn-default btn-ref" id="lookup.incident.work_notes_list" name="lookup.incident.work_notes_list" title="Pesquisar usando lista" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.work_notes_list" data-form="core_company.do"><span class="icon icon-search" aria-hidden="true"></span><span class="sr-only">Pesquisar usando lista</span></button></span></div><div class="input-group" style="padding-top: 4px"><input id="text.value.incident.work_notes_list" name="text.value.incident.work_notes_list" class="form-control" data-ref="incident.work_notes_list" style="; " onKeyPress="return emailInputKeyPress(event, 'select_0incident.work_notes_list', this, 'Endereço de e-mail inválido');" aria-label="Inserir endereço de e-mail" placeholder="Inserir endereço de e-mail"></input><span class="input-group-btn"><button class="btn btn-default btn-ref" onclick="addEmailAddressToList('select_0incident.work_notes_list', gel('text.value.incident.work_notes_list'), 'Endereço de e-mail inválido'); event.stop();" title="Adicionar endereço de e-mail"><span class="icon icon-mail" aria-hidden="true"></span><span class="sr-only">Adicionar endereço de e-mail</span></button></span></div></SPAN><p id="incident.work_notes_list_nonedit" style="; display: inline-flex; width: auto; " title="Lista de Anotações de trabalho" class="form-control-static" ng-non-bindable="true"></p><script>addRenderEvent(function () {
						glideListInit('select_0incident.work_notes_list', 'incident.work_notes_list', 'sys_user');
			})</script><script type="text/javascript">if(navigator.userAgent.match(/iPad/i)) {
			var fixIpadMultiselect = function() {
				$j('select[multiple]').iosmultiselect();
			}
			addLoadEvent(function() {
				if($j && $j.fn) {
					if($j.fn.iosmultiselect){
						fixIpadMultiselect();
					} else {
						var scriptId = "iosMultiselectPlugin";
						var scriptTag = document.getElementById(scriptId);
						if (!scriptTag) {
							var ref = document.getElementsByTagName( "script" )[ 0 ];
							var script = document.createElement( "script" );
							script.id = scriptId;
							script.async = true;
							ref.parentNode.insertBefore( script, ref );
							script.onload = fixIpadMultiselect;
							script.src = 'scripts/lib/jquery.iosmultiselect.js';
						}
					}
						
				}
			});
		}</script><div class="hidden" ng-non-bindable="true"><input type="HIDDEN" name="incident.work_notes_list" id="incident.work_notes_list" value="" data-dynamic-table-dependent="incident." writeaccess="true" data-type="glide-list"></input><input type="HIDDEN" id="sys_original.incident.work_notes_list" name="sys_original.incident.work_notes_list" value=""></input></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div></div></div><div class="row"><div class="col-xs-12"><div id="element.incident.comments" data-ref="incident.comments" data-type="journal_input" data-in-stream="true" class="form-group " style="display:none; "><div class="label_left label_spacing" oncontextmenu="return elementAction(this, event)" choice="0" type="journal_input" id="label.incident.comments"><label for="incident.comments" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.comments" aria-label="" role="note" data-dynamic-title="Registro de comentários visíveis para o usuário final" mandatory="false" oclass="" class=" "></span><span title="Registro de comentários visíveis para o usuário final" class="label-text" data-html="false">Comentários adicionais</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><span class="label_right" style="float: right; "><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.comments');
			}
		);</script></span></div></div><textarea id="incident.comments" style="; overflow:auto; " rows="" data-ref="incident.comments" data-type="glide_journal_input" data-length="4000" data-charLimit="false" name="incident.comments" autocomplete="off" onChange="this.isFocused=false;multiModified(this)" onKeyDown="multiKeyDown(this);;" onKeyPress="" onKeyUp="multiModified(this);fieldTyped(this);" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" spellcheck="true" aria-required="false" wrap="soft" class="form-control"></textarea><input type="hidden" id="sys_original.incident.comments" name="sys_original.incident.comments" value=""></input><input type="hidden" id="sys_display.incident.comments" name="sys_display.incident.comments"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><div id="element.incident.work_notes" data-ref="incident.work_notes" data-type="journal_input" data-in-stream="true" class="form-group " style="display:none; "><div class="label_left label_spacing" oncontextmenu="return elementAction(this, event)" choice="0" type="journal_input" id="label.incident.work_notes"><label for="incident.work_notes" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.work_notes" aria-label="" role="note" data-dynamic-title="Permite que os comentários sejam colocados em um registro, visíveis somente pelo criador do registro e pela equipe atribuída para resolvê-los" mandatory="false" oclass="" class=" "></span><span title="Permite que os comentários sejam colocados em um registro, visíveis somente pelo criador do registro e pela equipe atribuída para resolvê-los" class="label-text" data-html="false">Anotações de trabalho</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><span class="label_right" style="float: right; "><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.work_notes');
			}
		);</script></span></div></div><textarea id="incident.work_notes" style="; overflow:auto; background-color: RGB(var(--now-color_alert--warning-0, 250,250,210))" rows="" data-ref="incident.work_notes" data-type="glide_journal_input" data-length="4000" data-charLimit="false" name="incident.work_notes" autocomplete="off" onChange="this.isFocused=false;multiModified(this)" onKeyDown="multiKeyDown(this);;" onKeyPress="" onKeyUp="multiModified(this);fieldTyped(this);" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" spellcheck="true" aria-required="false" wrap="soft" class="form-control"></textarea><input type="hidden" id="sys_original.incident.work_notes" name="sys_original.incident.work_notes" value=""></input><input type="hidden" id="sys_display.incident.work_notes" name="sys_display.incident.work_notes"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><div id="element.incident.actions_taken" data-ref="incident.actions_taken" data-type="journal_input" data-in-stream="true" class="form-group " style="display:none; "><div class="label_left label_spacing" oncontextmenu="return elementAction(this, event)" choice="0" type="journal_input" id="label.incident.actions_taken"><label for="incident.actions_taken" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.actions_taken" aria-label="" role="note" data-dynamic-title="Atualizações divulgadas no incidente grave" mandatory="false" oclass="" class=" "></span><span title="Atualizações divulgadas no incidente grave" class="label-text" data-html="false">Ações tomadas</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><span class="label_right" style="float: right; "><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.actions_taken');
			}
		);</script></span></div></div><textarea id="incident.actions_taken" style="; overflow:auto; " rows="" data-ref="incident.actions_taken" data-type="glide_journal_input" data-length="40" data-charLimit="false" name="incident.actions_taken" autocomplete="off" onChange="this.isFocused=false;multiModified(this)" onKeyDown="multiKeyDown(this);;" onKeyPress="" onKeyUp="multiModified(this);fieldTyped(this);" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" spellcheck="false" aria-required="false" wrap="soft" class="form-control"></textarea><input type="hidden" id="sys_original.incident.actions_taken" name="sys_original.incident.actions_taken" value=""></input><input type="hidden" id="sys_display.incident.actions_taken" name="sys_display.incident.actions_taken"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><div class="custom-form-group is-wide activity-form-group  form-group" sn-atf-whitelist="true" sn-ng-formatter=""><table style="width: 100%;" class="activity_table" role="presentation"><tr><td class="sn-form-stream-init" sn-stream-container="" stream-id="392dae312b566e108de8de5cd04c897b"><script>(function() {
            var $ = jQuery.noConflict();
			var streamId = "392dae312b566e108de8de5cd04c897b";
			var selector = '[sn-stream-container]';
			if (streamId) {
				selector +=  '[stream-id="' + streamId + '"]';
			}

            $(function() {
                $(selector).on('click', 'ul .stream-action', function(e) {
                    e.stopPropagation();
                    var t = $(e.currentTarget);
                    switch (t.attr('action-type')) {
                        case 'show-more':
                            triggerShowMore(t);
                            break;

                        case 'show-less':
                            getEntryTextBlock(t).removeClass('state-expanded');
                            t.attr('action-type', 'show-more');
                            swapMoreActionLabel(t);
                            break;

                        case 'show-all':
                            var sysId = t.attr('sys-id');
                            var isHtml = t.attr('is-html') === 'true';

                            $.get('/api/now/ui/stream_entry/full_entry?sysparm_sys_id=' + sysId).then(function(response) {
                                if (!response) {
                                    return;
                                }
                                if (response.result) {
                                    var body = getFormattedBody(response.result);
                                    if(isHtml)
                                        encapsulate('journal-content_' + sysId, body);
                                    else
                                        getEntryTextBlockBody(t).html(body);
                                    t.hide();
                                    var $more = getMoreAction(t);
                                    triggerShowMore($more);
                                    $more.show();
                                }
                            });
                            break;

						case 'attachment-image-handler':
							var state = t.attr('state');
							var isSmallerImage = t.attr('is-small') === 'true';
							if (state === 'not_available') {
								e.preventDefault();
								showAttachmentUnavailableMsg(t.attr('file-name'));
							} else if (state === 'available' || !window.NOW.attachmentAdviceRequired) {
								if (isSmallerImage) {
									e.preventDefault();
									showImageModal(t);
								}
							} else {
								e.preventDefault();
								getAttachmentAvailability(t,
									function successCallback() {
										if (isSmallerImage) {
											t.children().toggle();
										} else {
											downloadAttachment(t);
										}
									}
								);
							}
							break;

						case 'attachment-video-handler':
							e.preventDefault();
							var state = t.attr('state');
							if (state === 'available' || !window.NOW.attachmentAdviceRequired) {
								playVideo(t);
							} else if (state === 'not_available') {
								showAttachmentUnavailableMsg(t.attr('file-name'));
							} else {
								getAttachmentAvailability(t, playVideo);
							}
							break;

						case 'attachment-default-handler':
							var state = t.attr('state');
							if (state === 'available' || !window.NOW.attachmentAdviceRequired) {
								return;
							} else if (state === 'not_available') {
								e.preventDefault();
								showAttachmentUnavailableMsg(t.attr('file-name'));
							} else {
								e.preventDefault();
								getAttachmentAvailability(t, downloadAttachment);
							}
							break;

						case 'show-attachment-unavailable':
							showAttachmentUnavailableMsg(t.attr('file-name'))
							break;

                        case 'email-stream-response':
                            e.preventDefault();
                            openEmailStreamResponseWindow(t);
                            break;

                        case 'show-email':
                            e.preventDefault();
                            var $email = getEntryEmailBlock(t);
                            addEntryEmailPreview(t);
                            $email.show();
                            t.attr('action-type', 'hide-email');
                            swapMoreActionLabel(t);
                            break;

                        case 'hide-email':
                            e.preventDefault();
                            getEntryEmailBlock(t).hide();
                            getEntryEmailTextBlock(t).html('');
                            t.attr('action-type', 'show-email');
                            swapMoreActionLabel(t);
                            break;
                    }
                });

				function setAttachmentState($el, state) {
					$el.attr('state',state);
					if (state === 'not_available') {
						if ($el.attr('action-type') === 'attachment-image-handler') {
							$el.find('p').append(' [Indisponível]')
						} else {
							$el.append(' [Indisponível]')
						}
						$el.parent().addClass('sn-card-attachment-unavailable');
					}
				}

				function getAttachmentAvailability($el, sucessFn) {
					var attachmentSysId = $el.attr('sys-id');
					$.get('/api/now/as_attachment/getAvailability/' + attachmentSysId)
						.then(function(response) {
							if (response.result) {
								setAttachmentState($el,response.result.availability);
								if (response.result.availability === 'available') {
									sucessFn($el);
								} else {
									showAttachmentUnavailableMsg($el.attr('file-name'), response.result.message);
								}
							} else {
								
								downloadAttachment($el);
							}
						}, function() {
							downloadAttachment($el);
						});
				}

				function showAttachmentUnavailableMsg(fileName, customMsg) {
					if (typeof g_form === "undefined")
						return;

					
					customMsg = customMsg || 'O arquivo <b>{0}</b>não passou na verificação de segurança e não pode ser baixado'
									.replace('{0}', fileName.escapeHTML() + ' ');
					g_form.addErrorMessage(customMsg);
				}

				function downloadAttachment($el) {
					var link = document.createElement('a');
					link.href = $el.attr('href');
					link.download = $el.attr('file-name');
					var event = (typeof window.MouseEvent === "function")
									? new MouseEvent("click")
									: document.createEvent('Event');
					event.initEvent('click', true, true);
					link.dispatchEvent(event);
				}

				function playVideo($el) {
					$el.siblings().show();
					$el.hide();
					$el.parent().find('video')[0].play();
				}

				function showImageModal($el) {
					CustomEvent.fire('sn.attachment.preview', event, {
						sys_id: $el.attr('sys-id'),
						file_name: $el.attr('file-name'),
						size: $el.attr('size')
					});
				}

				function triggerShowMore($el) {
					getEntryTextBlock($el).addClass('state-expanded');
					$el.attr('action-type', 'show-less');
					swapMoreActionLabel($el);
				}

                function swapMoreActionLabel($el) {
                    var newLabel = $el.attr('show-label');
                    $el.attr('show-label', $el.text());
                    $el.text(newLabel);
                }

                function getMoreAction($el) {
                    return $el.parents('.sn-card-component_summary').find('.stream-action-show-more');
                }

                function getEntryEmailBlock($el) {
                    return $el.parents('.sn-card-component_records').siblings('.sn-card-component_summary');
                }

                function getEntryEmailTextBlock($el) {
                    return getEntryEmailBlock($el).find('.sn-widget-textblock');
                }

                function addEntryEmailPreview($el) {
                    var $body = getEntryEmailTextBlock($el);
                    var $frame = $(document.createElement('iframe'));
                    $frame.addClass('card');
					$frame.addClass('activity-stream-email-iframe');
					$frame.attr('title', 'Corpo de e-mail');
                    $frame.css('width', '100%');
                    $frame.attr('src', $el.attr('href'));
                    $body.append($frame);
                    $frame.on('load', function() {
                        var bodyHeight = $frame.contents().find('html').outerHeight();
                        $frame.height(bodyHeight);
                    });
                }

                function openEmailStreamResponseWindow(t) {
                    if (typeof window.nowapi === "undefined" ||
                        typeof window.nowapi.GlideURLBuilder === "undefined" ||
                        typeof window.nowapi.g_navigation === "undefined") {
                        return;
                    }
                    var table = t.attr('table');
                    var url = window.nowapi.GlideURLBuilder.newGlideUrl('email_client.do');
                    url.addParam('sysparm_table', table);
                    url.addParam('sysparm_target', table);
                    url.addParam('sysparm_sys_id', t.attr('sys-id'));
                    url.addParam('replytype', t.attr('reply-type'));
                    url.addParam('replyid', t.attr('reply-id'));
                    var popupURL = url.getURL();
                    if (typeof g_form !== "undefined") {
                        popupURL += g_form.serializeChangedAll();
                    }
                    var features = "width=875,height=575,toolbar=no,status=no,directories=no,menubar=no,resizable=yes,scrollbars=1";
                    var win = window.nowapi.g_navigation.openPopup(popupURL, "Email_Client", features);
                }

                function getEntryTextBlock($el) {
                    return $el.parents('.sn-card-component_summary').find('.sn-widget-textblock');
                }

                function getEntryTextBlockBody($el) {
                    return $el.parents('.sn-card-component_summary').find('.sn-widget-textblock-body');
                }

                function getFormattedBody(s) {
                    return s.replace(/\r?\n/g, '<br>');
                }
            });
        })();</script><script>(function() {

								// set up pre-cached stream data to avoid an ajax call early in the page load
								var key = 'incident' + '_' + 'aea9612d87dee2100030cb340cbb35fd';
								var fields = JSON.parse('[{\"name\":\"assigned_to\",\"color\":\"background-color: transparent\",\"label\":\"Atribuído a\",\"plural\":\"Assigned to\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Pessoa que é o principal responsável pelo trabalho neste registro de tarefa\"},{\"name\":\"cmdb_ci\",\"color\":\"background-color: transparent\",\"label\":\"Item de configuração\",\"plural\":\"Configuration itens\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Item ou serviço afetado\"},{\"name\":\"incident_state\",\"color\":\"background-color: transparent\",\"label\":\"Estado do Incidente\",\"plural\":\"Incident states\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Estado atual do incidente\"},{\"name\":\"impact\",\"color\":\"background-color: transparent\",\"label\":\"Impacto\",\"plural\":\"Impact\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Medida de criticidade do serviço afetado para o negócio\"},{\"name\":\"priority\",\"color\":\"background-color: transparent\",\"label\":\"Prioridade\",\"plural\":\"Priorities\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Sequência na qual um incidente precisa ser resolvido\"},{\"name\":\"opened_by\",\"color\":\"background-color: transparent\",\"label\":\"Aberto por\",\"plural\":\"Opened by\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"Pessoa que abriu o registro da tarefa\"},{\"name\":\"work_notes\",\"color\":\"gold\",\"label\":\"Anotações de trabalho\",\"plural\":\"Work notes\",\"isJournal\":true,\"isActive\":true,\"canWrite\":true,\"hint\":\"Permite que os comentários sejam colocados em um registro, visíveis somente pelo criador do registro e pela equipe atribuída para resolvê-los\"},{\"name\":\"comments\",\"color\":\"transparent\",\"label\":\"Comentários adicionais\",\"plural\":\"Additional comments\",\"isJournal\":true,\"isActive\":true,\"canWrite\":true,\"hint\":\"Registro de comentários visíveis para o usuário final\"},{\"name\":\"*EmailAutogenerated*\",\"color\":null,\"label\":\"E-mails: gerados automaticamente\",\"plural\":null,\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":null},{\"name\":\"*EmailCorrespondence*\",\"color\":null,\"label\":\"E-mails: correspondência\",\"plural\":null,\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":null},{\"name\":\"*Relations*\",\"color\":null,\"label\":\"Mudanças de relacionamento\",\"plural\":null,\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":null},{\"name\":\"*Attachments*\",\"color\":null,\"label\":\"Anexos \",\"plural\":null,\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":null},{\"name\":\"close_code\",\"color\":\"background-color: transparent\",\"label\":\"Código de fechamento\",\"plural\":\"Resolution codes\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Para uso em relatórios\"},{\"name\":\"close_notes\",\"color\":\"background-color: transparent\",\"label\":\"Anotações de resolução\",\"plural\":\"Close notes\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Anotações de resolução para o Incidente\"},{\"name\":\"actions_taken\",\"color\":\"#bddcfc\",\"label\":\"Ações tomadas\",\"plural\":\"Actions takens\",\"isJournal\":true,\"isActive\":true,\"canWrite\":true,\"hint\":\"Atualizações divulgadas no incidente grave\"},{\"name\":\"assignment_group\",\"color\":\"background-color: transparent\",\"label\":\"Grupo de Atribuição\",\"plural\":\"Assignment groups\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Grupo que é o principal responsável pelo trabalho neste registro de tarefa\"},{\"name\":\"caller_id\",\"color\":\"background-color: transparent\",\"label\":\"Solicitado para\",\"plural\":\"Callers\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Pessoa que relatou ou foi afetada por este incidente\"},{\"name\":\"u_diagnosis\",\"color\":\"background-color: transparent\",\"label\":\"Diagnóstico\",\"plural\":\"Diagnosis\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"\"},{\"name\":\"state\",\"color\":\"background-color: transparent\",\"label\":\"Estado\",\"plural\":\"States\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"\"},{\"name\":\"rfc\",\"color\":\"background-color: transparent\",\"label\":\"Requisição de Mudança\",\"plural\":\"Change Requests\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"Mudança relacionada, se houver\"},{\"name\":\"u_symptom\",\"color\":\"background-color: transparent\",\"label\":\"Sintoma\",\"plural\":\"Symptoms\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"\"},{\"name\":\"business_service\",\"color\":\"background-color: transparent\",\"label\":\"Serviço de negócio\",\"plural\":\"Business services\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"\"},{\"name\":\"hold_reason\",\"color\":\"background-color: transparent\",\"label\":\"Motivo para estar em espera\",\"plural\":\"On hold reasons\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"\"},{\"name\":\"correlation_id\",\"color\":\"background-color: transparent\",\"label\":\"ID de correlação\",\"plural\":\"Correlation IDs\",\"isJournal\":false,\"isActive\":true,\"canWrite\":true,\"hint\":\"ID gerado para ICs de entrada\"},{\"name\":\"major_incident_state\",\"color\":\"background-color: transparent\",\"label\":\"Estado do incidente principal\",\"plural\":\"Major incident states\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"\"},{\"name\":\"promoted_on\",\"color\":\"background-color: transparent\",\"label\":\"Promovido\",\"plural\":\"Promoted\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"Data e hora de quando este incidente foi promovido a incidente grave\"},{\"name\":\"proposed_on\",\"color\":\"background-color: transparent\",\"label\":\"Promovido\",\"plural\":\"Proposed\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"Data e hora em que o incidente foi proposto como um candidato a incidente grave\"},{\"name\":\"promoted_by\",\"color\":\"background-color: transparent\",\"label\":\"Promovido por\",\"plural\":\"Promoted by\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"O usuário que promoveu o incidente a incidente grave\"},{\"name\":\"proposed_by\",\"color\":\"background-color: transparent\",\"label\":\"Promovido por\",\"plural\":\"Proposed by\",\"isJournal\":false,\"isActive\":true,\"canWrite\":false,\"hint\":\"O usuário que propôs o incidente como um candidato a incidente grave\"}]');
								window.NOW.snActivityStreamData = NOW.snActivityStreamData || {};
								window.NOW.snActivityStreamData[key] = {
										sys_timestamp: '1750613753000',
										fields: fields,
										entries: [],
										inlineStreamLoaded: true
									};
							})();</script><script>NOW.attachmentAdviceRequired = true;</script><script>(function() {
							// find the section containing this stream element and add a marker to it
								// we process all the journal fields in a .sn-stream-section in GlideStreamJournalElement.js
							var $section = $j('.sn-form-stream-init').closest('.section');
							$section.addClass('sn-stream-section');
						})();</script><div scroll-from="#form_stream" ng-controller="formStream"><div ng-controller="Stream" class="doctype-stream form-stream"><div ng-controller="snStream" is-inline="" table="incident" sys_id="aea9612d87dee2100030cb340cbb35fd" active="true" template="record_stream_entry.xml" sessions="sessions" form-journal-fields="formJournalFields" preferred-input="work_notes" use-multiple-inputs="true" expand-entries="true" page-size="0" truncate="false" attachments="true" sessionsLength="sessionsLength"><div class="sn-stream"><div><div class="sn-form-stream-input-area sn-form-stream-input-area_inline"><div class="comment-box container-fluid"><div id="multiple-input-journal-entry" class="" ng-show="multipleInputs"><div class="form-group" ng-init="activity_field_0 = getStubbedFieldModel('work_notes')" ng-show="activity_field_0.visible" ng-class="{'is-required': activity_field_0.mandatory &amp;&amp; !activity_field_0.filled, 'is-filled': activity_field_0.mandatory &amp;&amp; (activity_field_0.value || activity_field_0.filled)}"><label for="activity-stream-work_notes-textarea" class="control-label col-xs-12 col-md-1_5 col-lg-2 "><span title="Campo obrigatório" class="required-marker"><span class="sr-only">Campo obrigatório</span></span><span ng-bind="activity_field_0.label" title="" class="label-text" data-html="false" data-original-title="{{activity_field_0.hint}}">Anotações de trabalho</span></label><div class="col-xs-10 col-md-9 col-lg-8 form-field"><div class="sn-stream-textarea-container"><span class="sn-stream-input-decorator" style="background-color: gold"></span><textarea id="activity-stream-work_notes-textarea" aria-label="{{activity_field_0.label}}" class="sn-string-textarea form-control" placeholder="Anotações de trabalho" data-stream-text-input="work_notes" ng-required="activity_field_0.mandatory &amp;&amp; !activity_field_0.filled" ng-model="activity_field_0.value" ng-attr-placeholder="{{activity_field_0.label}}" sn-sync-with="activity_field_0.name" sn-sync-with-value-in-fn="reduceMentions(text)" sn-sync-with-value-out-fn="expandMentions(text)" mentio="" mentio-id="'activity-stream-work_notes-textarea'" mentio-typed-term="typedTerm" mentio-require-leading-space="true" mentio-trigger-char="'@'" mentio-items="members" mentio-search="searchMembersAsync(term)" mentio-template-url="/at-mentions.tpl" mentio-select="selectAtMention(item)" mentio-suppress-trailing-space="true" sn-resize-height=""></textarea></div><ul id="fieldmsg-singleinput-{{ ::$id }}" class="ng-cloak sn-activity-stream-reset" tabindex="-1" ng-show="activity_field_0.messages.length &gt; 0"><li class="fieldmsg notification notification-{{ ::msg.type }}" ng-repeat="msg in activity_field_0.messages" ng-bind="::msg.message"><span class="sr-only" ng-bind="::msg.type"></span></li></ul></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons form-toggle-inputs"><button type="button" class="icon-stream-one-input btn-default btn" title="Mostrar um campo de registro" ng-show="fieldsVisible &gt; 1" ng-click="toggleMultipleInputs(false)" ng-keydown="toggleMultipleInputs(false, $event)"><span class="sr-only">Mostrar um campo de registro</span></button></div></div><div class="form-group" ng-init="activity_field_1 = getStubbedFieldModel('comments')" ng-show="activity_field_1.visible" ng-class="{'is-required': activity_field_1.mandatory &amp;&amp; !activity_field_1.filled, 'is-filled': activity_field_1.mandatory &amp;&amp; (activity_field_1.value || activity_field_1.filled)}"><label for="activity-stream-comments-textarea" class="control-label col-xs-12 col-md-1_5 col-lg-2 "><span title="Campo obrigatório" class="required-marker"><span class="sr-only">Campo obrigatório</span></span><span ng-bind="activity_field_1.label" title="" class="label-text" data-html="false" data-original-title="{{activity_field_1.hint}}">Comentários adicionais</span></label><div class="col-xs-10 col-md-9 col-lg-8 form-field"><div class="sn-stream-textarea-container"><span class="sn-stream-input-decorator" style="background-color: transparent"></span><textarea id="activity-stream-comments-textarea" aria-label="{{activity_field_1.label}}" class="sn-string-textarea form-control" placeholder="Comentários adicionais" data-stream-text-input="comments" ng-required="activity_field_1.mandatory &amp;&amp; !activity_field_1.filled" ng-model="activity_field_1.value" ng-attr-placeholder="{{activity_field_1.label}}" sn-sync-with="activity_field_1.name" sn-sync-with-value-in-fn="reduceMentions(text)" sn-sync-with-value-out-fn="expandMentions(text)" mentio="" mentio-id="'activity-stream-comments-textarea'" mentio-typed-term="typedTerm" mentio-require-leading-space="true" mentio-trigger-char="'@'" mentio-items="members" mentio-search="searchMembersAsync(term)" mentio-template-url="/at-mentions.tpl" mentio-select="selectAtMention(item)" mentio-suppress-trailing-space="true" sn-resize-height=""></textarea></div><ul id="fieldmsg-singleinput-{{ ::$id }}" class="ng-cloak sn-activity-stream-reset" tabindex="-1" ng-show="activity_field_1.messages.length &gt; 0"><li class="fieldmsg notification notification-{{ ::msg.type }}" ng-repeat="msg in activity_field_1.messages" ng-bind="::msg.message"><span class="sr-only" ng-bind="::msg.type"></span></li></ul></div></div><div class="form-group" ng-init="activity_field_2 = getStubbedFieldModel('actions_taken')" ng-show="activity_field_2.visible" ng-class="{'is-required': activity_field_2.mandatory &amp;&amp; !activity_field_2.filled, 'is-filled': activity_field_2.mandatory &amp;&amp; (activity_field_2.value || activity_field_2.filled)}"><label for="activity-stream-actions_taken-textarea" class="control-label col-xs-12 col-md-1_5 col-lg-2 "><span title="Campo obrigatório" class="required-marker"><span class="sr-only">Campo obrigatório</span></span><span ng-bind="activity_field_2.label" title="" class="label-text" data-html="false" data-original-title="{{activity_field_2.hint}}">Ações tomadas</span></label><div class="col-xs-10 col-md-9 col-lg-8 form-field"><div class="sn-stream-textarea-container"><span class="sn-stream-input-decorator" style="background-color: #bddcfc"></span><textarea id="activity-stream-actions_taken-textarea" aria-label="{{activity_field_2.label}}" class="sn-string-textarea form-control" placeholder="Ações tomadas" data-stream-text-input="actions_taken" ng-required="activity_field_2.mandatory &amp;&amp; !activity_field_2.filled" ng-model="activity_field_2.value" ng-attr-placeholder="{{activity_field_2.label}}" sn-sync-with="activity_field_2.name" sn-sync-with-value-in-fn="reduceMentions(text)" sn-sync-with-value-out-fn="expandMentions(text)" mentio="" mentio-id="'activity-stream-actions_taken-textarea'" mentio-typed-term="typedTerm" mentio-require-leading-space="true" mentio-trigger-char="'@'" mentio-items="members" mentio-search="searchMembersAsync(term)" mentio-template-url="/at-mentions.tpl" mentio-select="selectAtMention(item)" mentio-suppress-trailing-space="true" sn-resize-height=""></textarea></div><ul id="fieldmsg-singleinput-{{ ::$id }}" class="ng-cloak sn-activity-stream-reset" tabindex="-1" ng-show="activity_field_2.messages.length &gt; 0"><li class="fieldmsg notification notification-{{ ::msg.type }}" ng-repeat="msg in activity_field_2.messages" ng-bind="::msg.message"><span class="sr-only" ng-bind="::msg.type"></span></li></ul></div></div></div><div id="single-input-journal-entry" class="form-group ng-hide ng-cloak" ng-show="!multipleInputs &amp;&amp; fieldsVisible &gt; 0"><label for="activity-stream-textarea" class="control-label col-xs-12 col-md-1_5 col-lg-2 "><span title="" ng-bind="fields[inputType].label" class="label-text" data-html="false" data-original-title="{{fields[inputType].hint}}">Anotações de trabalho</span></label><div class="col-xs-10 col-md-9 col-lg-8 form-field"><div class="sn-stream-textarea-container"><span class="sn-stream-input-decorator" ng-style="{ 'background-color': fields[inputType].color}" style="background-color: gold"></span><textarea id="activity-stream-textarea" ng-init="inputType = 'work_notes'" aria-label="{{ fields[inputType].label }}" class="sn-string-textarea form-control" placeholder="Anotações de trabalho" ng-attr-placeholder="{{fields[inputType].label}}" ng-model="inputTypeValue" data-stream-text-input="{{ inputType }}" aria-describedby="fieldmsg-singleinput-{{ ::$id }}" sn-resize-height="" sn-sync-with="inputType" sn-sync-with-value-in-fn="reduceMentions(text)" sn-sync-with-value-out-fn="expandMentions(text)" mentio="" mentio-typed-term="typedTerm" mentio-id="activity-stream-textarea" mentio-require-leading-space="true" mentio-trigger-char="'@'" mentio-items="members" mentio-search="searchMembersAsync(term)" mentio-template-url="/at-mentions.tpl" mentio-select="selectAtMention(item)" mentio-suppress-trailing-space="true"></textarea></div><ul id="fieldmsg-singleinput-{{ ::$id }}" class="ng-cloak" tabindex="-1" ng-repeat="f in fields" ng-if="f.messages.length &gt; 0 &amp;&amp; f.name === 'work_notes'"><li class="fieldmsg notification notification-{{ ::msg.type }}" ng-repeat="msg in f.messages" ng-bind="::msg.message"><span class="sr-only" ng-bind="::msg.type"></span></li></ul></div><div class="form-toggle-inputs col-xs-2 col-md-1_5 col-lg-2 form-field-addons"><button type="button" class="icon-stream-all-input btn-default btn" ng-show="fieldsVisible &gt; 1" title="Mostrar todos os campos de diário" ng-click="toggleMultipleInputs(true)" ng-keydown="toggleMultipleInputs(true, $event)"><span class="sr-only">Mostrar todos os campos de diário</span></button></div></div><div class="sn-controls row"><label class="col-xs-12 col-md-1_5 col-lg-2"></label><div class="col-xs-10 col-md-9 col-lg-8 form-field" ng-if="fieldsVisible &gt; 0"><div class="pull-left"><div ng-if="::!isInForm()"><button type="button" class=" icon-stream-one-input btn btn-default vtb-toggle-inputs ng-cloak" title="Mostrar um campo de registro" ng-click="toggleMultipleInputs(false)" ng-keydown="toggleMultipleInputs(false, $event)" ng-if="fieldsVisible &gt; 1"><span class="sr-only">Mostrar um campo de registro</span></button><button type="button" class=" icon-stream-all-input btn-default btn vtb-toggle-inputs ng-cloak" title="Mostrar todos os campos de diário" ng-click="toggleMultipleInputs(true)" ng-keydown="toggleMultipleInputs(true, $event)" ng-if="fieldsVisible &gt; 1"><span class="sr-only">Mostrar todos os campos de diário</span></button></div><div ng-show="sessions.length &gt; 0" class="pull-left ng-cloak"><ul class="sn-user-presense-container"><li class="sn-user-presence" ng-repeat="s in sessions.data" ng-bind="parsePresence(s) + ($last ? '' : ', ')"></li></ul></div></div><div class="pull-right"><span class="ng-hide ng-cloak" ng-hide="multipleInputs"><span class="activity-field-chooser ng-cloak" ng-if="fieldsVisible == 2"><span class="input-group-checkbox" ng-repeat="f in fields" ng-if="!f.isPrimary &amp;&amp; f.visible &amp;&amp; f.canWrite"><input id="actions_taken-{{ ::$id }}-journal-checkbox" name="actions_taken-journal-checkbox" type="checkbox" class="checkbox" ng-model="f.checked" ng-change="changeInputType(f)"></input><label for="actions_taken-{{ ::$id }}-journal-checkbox" class="checkbox-label" ng-bind="f.label"></label></span></span><span class="activity-field-chooser ng-cloak" ng-if="fieldsVisible &gt; 2"><select ng-options="f.name as f.label for f in fields | visibleFields" ng-model="selectedInputType" ng-model-options="{getterSetter: true}" class="form-control"></select></span></span><button type="button" class="btn btn-default activity-submit" ng-keypress="submitCheck($event)" ng-click="postJournalEntryForCurrent($event)" ng-hide="!false &amp;&amp; doesFormHasMandatoryJournalFields()">Postar</button></div></div></div></div></div></div><div class="record-inputs-pad"></div><div class="col-xs-12 col-md-1_5 col-lg-2 activity-stream-label control-label"><div class="activity-stream-label-counter">Atividades: 3</div><span class="activity-stream-label-filtered hide">(Filtrado)</span></div><div class="col-xs-10 col-md-9 col-lg-8 form-field"><div ng-class="{'expandedInput': useMultipleInputs, 'stream-comments': recordStreamOpen}"><ul class="h-card-wrapper ng-cloak" ng-if="entries.length != 0 &amp;&amp; loaded" ng-class="::{'h-card-wrapper_selectable': !showCommentsAndWorkNotes, 'activities-list': !sysId, 'activities-form': !!sysId}"><li ng-if="::!isFormStream"><button class="h-card h-card_md h-card_comments" ng-click="controls.showRecord($event, entry, sysId)" ng-animate="'sn-animate-stream-entry'" ng-repeat="entry in entries" ng-include="entryTemplate"></button></li><li class="h-card h-card_md h-card_comments" ng-if="::isFormStream" ng-animate="'sn-animate-stream-entry'" ng-repeat="entry in entries" form-stream-entry=""></li></ul><div class="ng-cloak" ng-if="showAllEntriesButton"><button class="btn btn-default" type="button" ng-click="loadMore()">Carregar {{ pageSize }} mais</button><button class="btn btn-default" type="button" ng-click="loadAll()">Carregar tudo</button></div><div class="sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center ng-cloak" ng-if="entries.length == 0 &amp;&amp; loaded &amp;&amp; !hideAllFields &amp;&amp; !inlineStreamLoaded">Nenhuma atividade</div><div class="sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center ng-cloak" ng-if="entries.length == 0 &amp;&amp; loaded &amp;&amp; hideAllFields">Toda a atividade oculta</div><div class="sn-widget sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center ng-cloak" ng-if="!loaded &amp;&amp; active"><div class="icon-loading"></div><div>Carregando...</div></div><div ng-if="!loaded &amp;&amp; !active" class="sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center ng-cloak">O fluxo não está ativo</div></div></div><sn-mention-popover ng-if="showPopover" profile="mentionPopoverProfile"></sn-mention-popover><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"><button id="activity_field_filter_button" class="btn btn-default btn-ref icon-filter sn-popover-basic" type="button" title="Filtrar atividade" data-placement="auto" data-container="div.section_header_content_no_scroll" data-target="#activity_field_filter_popover" aria-haspopup="listbox" aria-expanded="{{filterOpen}}" aria-controls="activity_field_filter_popover"><span class="sr-only">Filtrar atividade</span></button><div id="activity_field_filter_popover" class="ng-cloak" role="application"><div id="activity_field_filter_listbox" class="popover-body activity2-filter" role="listbox" aria-labelledby="activity_field_filter_button" aria-multiselectable="true"><span class="input-group-checkbox" role="listitem" aria-checked="{{checkbox.showAllFields}}"><input type="checkbox" role="checkbox" class="checkbox" ng-model="checkbox.showAllFields" ng-change="updateFieldVisibilityAll($event)" id="activity_filter_all" name="activity_filter_all" tabindex="-1"></input><label class="checkbox-label" for="activity_filter_all">Todos</label></span><span class="input-group-checkbox" role="listitem" aria-checked="{{ field.isActive }}" ng-repeat="field in allFields | orderBy: 'label'"><input type="checkbox" role="checkbox" class="checkbox" ng-model="field.isActive" ng-change="updateFieldVisibility()" id="activity_filter.{{ field.name }}" name="activity_filter.{{ field.name }}" tabindex="-1"></input><label class="checkbox-label" for="activity_filter.{{ field.name }}" ng-bind="field.label"></label></span></div></div></div><script type="text/ng-template" id="/at-mentions.tpl"><div class="dropdown-menu sn-widget sn-mention"><ul class="sn-widget-list_v2"><li ng-if="items.length &gt; 0 &amp;&amp; !items[0].termLengthIsZero" mentio-menu-item="person" ng-repeat="person in items"><div class="sn-widget-list-content sn-widget-list-content_static"><sn-avatar primary="person" class="avatar-small" show-presence="true"></sn-avatar></div><div class="sn-widget-list-content"><span class="sn-widget-list-title" ng-bind-html="person.name"></span><span class="sn-widget-list-subtitle" ng-if="!person.record_is_visible">Não é possível ver o registro</span></div></li><li ng-if="items.length === 1 &amp;&amp; items[0].termLengthIsZero"><div class="sn-widget-list-content"><span class="sn-widget-list-title sn-widget-list-title_wrap">Insira o nome de uma pessoa que você deseja mencionar</span></div></li><li ng-if="items.loading &amp;&amp; visible"><div class="sn-widget-list-content sn-widget-list-content_static"><span class="sn-widget-list-icon icon-loading"></span></div><div class="sn-widget-list-content"><span class="sn-widget-list-title">Carregando...</span></div></li><li ng-if="items.length === 0 &amp;&amp; !items.loading"><div class="sn-widget-list-content"><span class="sn-widget-list-title">Nenhum usuário encontrado</span></div></li></ul></div></script></div></div></div></div><div class=" sn-stream sn-form-stream-inline"><div id="sn_form_inline_stream_container" class="sn-form-inline-stream-container form-stream ng-non-bindable"><label class="control-label col-xs-12 col-md-1_5 col-lg-2"></label><div id="sn_form_inline_stream_entries" class="sn-form-inline-stream-entries sn-form-inline-stream-entries-only col-xs-10 col-md-9 col-lg-8 form-field"><ul class="h-card-wrapper activities-form"><li class="h-card h-card_md h-card_comments"><div class="sn-card-component sn-card-component_first sn-card-component_meta sn-card-component_meta_sibling"><div class="sn-card-component-avatar sn-avatar_xs sn-avatar_v2"><div class="sn-avatar-container"><span class="sn-avatar-initials" aria-hidden="true">AP</span><span class="sn-presence sn-presence-lite" data-presence-id="3fa483991bda71503b420e50f54bcba9"></span></div></div><span class="sn-card-component-createdby">Andreia Alexandre Silva Pinheiro</span></div><div class="sn-card-component sn-card-component_first sn-card-component_meta"><span class="sn-card-component-time"><span>Anotações de trabalho</span><span class="sn-card-component_accent-bar_bullet">•</span><div class="date-calendar">22/06/2025 14:35:53</div><div class="datex date-timeago" title="23h atrás" timeago="2025-06-22 17:35:53">23h atrás</div></span></div><div id="activity_3995bd699792e2106ce8b35ef053afc6" class="sn-card-component sn-card-component_summary sn-card-component_summary_spacing"><div class="sn-widget sn-widget-textblock state-expanded"><span class="sn-widget-textblock-body sn-widget-textblock-body_formatted">Gentileza realizar troca do mouse em contato com loja a mesma infiorma que esta com mal contato na entrda ubs</span></div></div><div class="sn-card-component_accent-bar sn-card-component_accent-bar_dark" style="background-color: gold"></div></li><li class="h-card h-card_md h-card_comments"><div class="sn-card-component sn-card-component_first sn-card-component_meta sn-card-component_meta_sibling"><div class="sn-card-component-avatar sn-avatar_xs sn-avatar_v2"><div class="sn-avatar-container"><span class="sn-avatar-initials" aria-hidden="true">AP</span><span class="sn-presence sn-presence-lite" data-presence-id="3fa483991bda71503b420e50f54bcba9"></span></div></div><span class="sn-card-component-createdby">Andreia Alexandre Silva Pinheiro</span></div><div class="sn-card-component sn-card-component_first sn-card-component_meta"><span class="sn-card-component-time"><span>Mudanças do campo</span><span class="sn-card-component_accent-bar_bullet">•</span><div class="date-calendar">22/06/2025 14:35:53</div><div class="datex date-timeago" title="23h atrás" timeago="2025-06-22 17:35:53">23h atrás</div></span></div><div class="sn-card-component sn-card-component_records"><div class="sn-widget"><ul class="sn-widget-list sn-widget-list-table"><li><span class="sn-widget-list-table-cell">Grupo de Atribuição</span><span class="sn-widget-list-table-cell"><span>Grupo SN GN Equipe Suporte Stefanini</span><span class="sn-widget-list-table-italic">era</span><span>Grupo SN GN Equipe Suporte TI</span></span></li><li><span class="sn-widget-list-table-cell">Impacto</span><span class="sn-widget-list-table-cell"><span>3 - Baixo</span></span></li><li><span class="sn-widget-list-table-cell">Item de configuração</span><span class="sn-widget-list-table-cell"><span>Lojas Select Próprias</span></span></li></ul></div></div><div class="sn-card-component_accent-bar " style=""></div></li><li class="h-card h-card_md h-card_comments"><div class="sn-card-component sn-card-component_first sn-card-component_meta sn-card-component_meta_sibling"><div class="sn-card-component-avatar sn-avatar_xs sn-avatar_v2"><div class="sn-avatar-container"><span class="sn-avatar-initials" aria-hidden="true">O</span><span class="sn-presence sn-presence-lite" data-presence-id="f617aff2db5b05505febb11ba39619a9"></span></div></div><span class="sn-card-component-createdby">oxxo-apemota</span></div><div class="sn-card-component sn-card-component_first sn-card-component_meta"><span class="sn-card-component-time"><span>Mudanças do campo</span><span class="sn-card-component_accent-bar_bullet">•</span><div class="date-calendar">22/06/2025 13:44:50</div><div class="datex date-timeago" title="24h atrás" timeago="2025-06-22 16:44:50">24h atrás</div></span></div><div class="sn-card-component sn-card-component_records"><div class="sn-widget"><ul class="sn-widget-list sn-widget-list-table"><li><span class="sn-widget-list-table-cell">Aberto por</span><span class="sn-widget-list-table-cell"><span>oxxo-apemota</span></span></li><li><span class="sn-widget-list-table-cell">Estado</span><span class="sn-widget-list-table-cell"><span>Novo</span></span></li><li><span class="sn-widget-list-table-cell">Estado do Incidente</span><span class="sn-widget-list-table-cell"><span>Novo</span></span></li><li><span class="sn-widget-list-table-cell">Grupo de Atribuição</span><span class="sn-widget-list-table-cell"><span>Grupo SN GN Equipe Suporte TI</span></span></li><li><span class="sn-widget-list-table-cell">Prioridade</span><span class="sn-widget-list-table-cell"><span>6 - Baixo</span></span></li><li><span class="sn-widget-list-table-cell">Sintoma</span><span class="sn-widget-list-table-cell"><span>Não funciona</span></span></li><li><span class="sn-widget-list-table-cell">Solicitado para</span><span class="sn-widget-list-table-cell"><span>oxxo-apemota</span></span></li></ul></div></div><div class="sn-card-component_accent-bar " style=""></div></li></ul></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div><sn-attachment-preview></sn-attachment-preview>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=ng_activity_stream.xml">
		
	<div class="sn-stream">
		<div ng-show="showCommentsAndWorkNotes &amp;&amp; fieldsVisible &gt; 0" ng-class="::{'record-inputs': !labels.labelClass}">
			<form ng-submit="postJournalEntryForCurrent($event)">
				<div class="comment-box container-fluid sn-form-stream-input-area">
					
					<div id="multiple-input-journal-entry" ng-if="multipleInputs">
						<div ng-repeat="f in fields" class="form-group" ng-class="{'is-required': f.mandatory &amp;&amp; !f.filled, 'is-filled': f.mandatory &amp;&amp; (f.value || f.filled)}" ng-show="f.visible">
							<label for="activity-stream-{{ ::f.name }}-textarea" ng-class="::{'sr-only': !labels.labelClass}" class="control-label {{ ::labels.labelClass }}">

								<span title="Campo obrigatório" class="required-marker">
									<span class="sr-only">
										Campo obrigatório
									</span></span>

								<span ng-bind="::f.label"></span></label>

							<div ng-class="::labels.contentClass">
								<div class="sn-stream-textarea-container">
									<span class="sn-stream-input-decorator" ng-style="::{ 'background-color': f.color }"></span>
									<textarea sn-resize-height="" aria-label="{{ ::f.label }}" id="activity-stream-{{ ::f.name }}-textarea" sn-sync-with="f.name" sn-sync-with-value-in-fn="reduceMentions(text)" sn-sync-with-value-out-fn="expandMentions(text)" ng-model="f.value" class="sn-string-textarea form-control" ng-required="f.mandatory &amp;&amp; !f.filled" ng-attr-placeholder="{{ ::labels.contentClass ? '' : f.label }}" data-stream-text-input="{{ ::f.name }}" mentio="" mentio-id="'activity-stream-' + f.name + '-textarea'" mentio-typed-term="typedTerm" mentio-require-leading-space="true" mentio-trigger-char="'@'" mentio-items="members" mentio-search="searchMembersAsync(term)" mentio-template-url="/at-mentions.tpl" mentio-select="selectAtMention(item)" mentio-suppress-trailing-space="true"></textarea></div>

								<ul id="fieldmsg-singleinput-{{ ::$id }}" ng-if="f.messages.length &gt; 0" tabindex="-1">
									<li ng-repeat="msg in f.messages" class="fieldmsg notification notification-{{ ::msg.type }}">
										<span class="sr-only" ng-bind="::msg.type"></span>
										{{ ::msg.message }}
									</li></ul></div>
							<div ng-if="fieldsVisible &gt; 1 &amp;&amp; subStream != true &amp;&amp; f.name == firstJournal" ng-class="::labels.addonsClass" class="form-toggle-inputs">
								<button ng-click="toggleMultipleInputs(false)" ng-keydown="toggleMultipleInputs(false, $event)" class="icon-stream-one-input btn-default btn" title="Mostrar um campo de registro" type="button">
									<span class="sr-only">
										Mostrar um campo de registro
									</span></button></div></div></div>

					
					<div ng-if="!multipleInputs" class="form-group">
						<label for="activity-stream-textarea" ng-class="::{'sr-only': !labels.labelClass}" class="control-label {{ ::labels.labelClass }}" ng-bind="fields[inputType].label"></label>

						<div ng-class="::labels.contentClass">
							<div class="sn-stream-textarea-container">
								<span class="sn-stream-input-decorator" ng-style="{ 'background-color': fields[inputType].color}"></span>
								<textarea sn-resize-height="" aria-label="{{ fields[inputType].label }}" sn-sync-with="inputType" sn-sync-with-value-in-fn="reduceMentions(text)" sn-sync-with-value-out-fn="expandMentions(text)" ng-model="$parent.inputTypeValue" class="sn-string-textarea form-control" ng-attr-placeholder="{{ labels.contentClass ? '' : fields[inputType].label }}" id="activity-stream-textarea" data-stream-text-input="{{ $parent.inputType }}" aria-describedby="fieldmsg-singleinput-{{ ::$id }}" mentio="" mentio-id="activity-stream-textarea" mentio-typed-term="typedTerm" mentio-require-leading-space="true" mentio-trigger-char="'@'" mentio-items="members" mentio-search="searchMembersAsync(term)" mentio-template-url="/at-mentions.tpl" mentio-select="selectAtMention(item)" mentio-suppress-trailing-space="true"></textarea></div>

							<ul ng-repeat="f in fields" id="fieldmsg-singleinput-{{ ::$id }}" ng-if="f.messages.length &gt; 0" tabindex="-1">
								<li ng-repeat="msg in f.messages" class="fieldmsg notification notification-{{ ::msg.type }}">
									<span class="sr-only" ng-bind="::msg.type"></span>
									{{ ::msg.message }}
								</li></ul></div>

						<div ng-if="fieldsVisible &gt; 1 &amp;&amp; subStream != true" ng-class="::labels.addonsClass" class="form-toggle-inputs">
							<button ng-click="toggleMultipleInputs(true)" ng-keydown="toggleMultipleInputs(true, $event)" class="icon-stream-all-input btn-default btn" title="Mostrar todos os campos de diário" type="button">
								<span class="sr-only">
									Mostrar todos os campos de diário
								</span></button></div></div>

					<div class="sn-controls" ng-class="::{'row': labels.contentClass}">
						<div ng-class="::[labels.contentClass, labels.offsetClass]">
							<span ng-if="::!isInForm()">
								
								
								<button ng-if="useMultipleInputs &amp;&amp; fieldsVisible &gt; 1" ng-click="toggleMultipleInputs(false)" ng-keydown="toggleMultipleInputs(false, $event)" class="icon-stream-one-input btn btn-default vtb-toggle-inputs" title="Mostrar um campo de registro" type="button">
									<span class="sr-only">
										Mostrar um campo de registro
									</span></button>

								<button ng-if="!useMultipleInputs &amp;&amp; fieldsVisible &gt; 1" ng-click="toggleMultipleInputs(true)" ng-keydown="toggleMultipleInputs(true, $event)" class="icon-stream-all-input btn-default btn vtb-toggle-inputs" title="Mostrar todos os campos de diário" type="button">
									<span class="sr-only">
										Mostrar todos os campos de diário
									</span></button></span>

							

							
							<span ng-if="!multipleInputs" class="pull-right">
								
								<span ng-if="fieldsVisible == 2" class="activity-field-chooser">
									<span class="input-group-checkbox" ng-repeat="f in fields" ng-if="!f.isPrimary &amp;&amp; f.visible &amp;&amp; f.canWrite">
										<input id="{{ ::f.name }}-{{ ::$id }}-journal-checkbox" class="checkbox" type="checkbox" name="{{ ::f.name }}-journal-checkbox" ng-model="f.checked" ng-change="changeInputType(f)"></input>
										<label for="{{ ::f.name }}-{{ ::$id }}-journal-checkbox" class="checkbox-label" ng-bind="::f.label"></label></span></span>

								
								<span ng-if="fieldsVisible &gt; 2" class="activity-field-chooser">
									<select ng-options="f.name as f.label for f in fields" ng-model="$parent.$parent.inputType" class="form-control"></select></span>

								
								
								<button type="submit" class="btn btn-default activity-submit" ng-keypress="submitCheck($event)" ng-hide="!false &amp;&amp; doesFormHasMandatoryJournalFields()">
									Postar
								</button></span>


							<span ng-if="!!multipleInputs">
								<button type="submit" class="btn btn-default pull-right activity-submit" ng-keypress="submitCheck($event)" ng-hide="!false &amp;&amp; doesFormHasMandatoryJournalFields()">
									Postar
								</button></span>

							
							
	<div ng-show="sessions.length &gt; 0" class="pull-left ng-cloak">
		<ul class="sn-user-presense-container">
			<li class="sn-user-presence" ng-repeat="s in sessions.data" ng-bind="parsePresence(s) + ($last ? '' : ', ')"></li></ul></div></div></div></div></form></div>

		<div class="record-inputs-pad" ng-show="showCommentsAndWorkNotes"></div>

		<div ng-class="::labels.labelClass" ng-if="::labels.labelClass" class="activity-stream-label control-label">
			<div class="activity-stream-label-counter">
				Atividades: 0
			</div>
			<span ng-show="isFiltered">(Filtrado)</span></div>
		<div ng-class="::labels.contentClass">
			<div ng-class="{'expandedInput': useMultipleInputs, 'stream-comments': recordStreamOpen}">
				<ul ng-if="entries.length != 0 &amp;&amp; loaded" class="h-card-wrapper" ng-class="::{'h-card-wrapper_selectable': !showCommentsAndWorkNotes, 'activities-list': !sysId, 'activities-form': !!sysId}">
					
					<li tabindex="-1" role="listitem" ng-if="::!isFormStream" class="h-card h-card_md h-card_comments" ng-click="controls.showRecord($event, entry, sysId)" ng-animate="'sn-animate-stream-entry'" ng-repeat="entry in entries" ng-include="entryTemplate"></li>
					<li tabindex="0" ng-if="::isFormStream" class="h-card h-card_md h-card_comments" ng-animate="'sn-animate-stream-entry'" ng-repeat="entry in entries" form-stream-entry=""></li></ul>

				<div ng-if="showAllEntriesButton">
					<button class="btn btn-default" type="button" ng-click="loadMore()">Carregar {{ pageSize }} mais</button>
					<button class="btn btn-default" type="button" ng-click="loadAll()">Carregar tudo</button></div>
				<div aria-live="polite">
					<div ng-if="entries.length == 0 &amp;&amp; loaded &amp;&amp; !hideAllFields &amp;&amp; !inlineStreamLoaded" class="sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center">
						Nenhuma atividade
					</div>
					<div ng-if="entries.length == 0 &amp;&amp; loaded &amp;&amp; hideAllFields" class="sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center">
						Toda a atividade oculta
					</div>
					
					<div ng-if="!loaded &amp;&amp; active" class="sn-widget sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center">
						<div class="icon-loading"></div>
						<div>Carregando...</div></div>
					<div ng-if="!loaded &amp;&amp; !active" class="sn-widget-textblock sn-widget-textblock_top sn-widget-textblock_large sn-widget-textblock_center">
						O fluxo não está ativo
					</div></div></div></div>

		<sn-mention-popover ng-if="showPopover" profile="mentionPopoverProfile"></sn-mention-popover>

		
	<div ng-class="labels.addonsClass" ng-if="labels.addonsClass">
		
	<button id="activity_field_filter_button" class="btn btn-default btn-ref icon-filter sn-popover-basic" type="button" title="Filtrar atividade" data-placement="auto" data-container="div.section_header_content_no_scroll" data-target="#activity_field_filter_popover" aria-haspopup="listbox" aria-expanded="{{filterOpen}}" aria-controls="activity_field_filter_popover">
		<span class="sr-only">
			Filtrar atividade
		</span></button>

	<div id="activity_field_filter_popover" class="ng-cloak" role="application">
		<div id="activity_field_filter_listbox" class="popover-body activity2-filter" role="listbox" aria-labelledby="activity_field_filter_button" aria-multiselectable="true">
			<span class="input-group-checkbox" role="listitem" aria-checked="{{checkbox.showAllFields}}">
				<input type="checkbox" role="checkbox" class="checkbox" ng-model="checkbox.showAllFields" ng-change="updateFieldVisibilityAll($event)" id="activity_filter_all" name="activity_filter_all" tabindex="-1"></input>
				<label class="checkbox-label" for="activity_filter_all">Todos</label></span>
			<span class="input-group-checkbox" role="listitem" aria-checked="{{ field.isActive }}" ng-repeat="field in allFields | orderBy: 'label'">
				<input type="checkbox" role="checkbox" class="checkbox" ng-model="field.isActive" ng-change="updateFieldVisibility()" id="activity_filter.{{ field.name }}" name="activity_filter.{{ field.name }}" tabindex="-1"></input>
				<label class="checkbox-label" for="activity_filter.{{ field.name }}" ng-bind="field.label"></label></span>

			</div></div></div>

		<script type="text/ng-template" id="/at-mentions.tpl">
			<div class="dropdown-menu sn-widget sn-mention">
				<ul class="sn-widget-list_v2">
					<li ng-if="items.length &gt; 0 &amp;&amp; !items[0].termLengthIsZero" mentio-menu-item="person" ng-repeat="person in items">
						<div class="sn-widget-list-content sn-widget-list-content_static">
							<sn-avatar primary="person" class="avatar-small" show-presence="true"></sn-avatar></div>
						<div class="sn-widget-list-content">
							<span class="sn-widget-list-title" ng-bind-html="person.name"></span>
							<span class="sn-widget-list-subtitle" ng-if="!person.record_is_visible">Não é possível ver o registro</span></div></li>
					<li ng-if="items.length === 1 &amp;&amp; items[0].termLengthIsZero">
						<div class="sn-widget-list-content">
							<span class="sn-widget-list-title sn-widget-list-title_wrap">Insira o nome de uma pessoa que você deseja mencionar</span></div></li>
					<li ng-if="items.length === 0 &amp;&amp; items.loading &amp;&amp; visible">
						<div class="sn-widget-list-content sn-widget-list-content_static">
							<span class="sn-widget-list-icon icon-loading"></span></div>
						<div class="sn-widget-list-content">
							<span class="sn-widget-list-title">Carregando...</span></div></li>
					<li ng-if="items.length === 0 &amp;&amp; !items.loading">
						<div class="sn-widget-list-content">
							<span class="sn-widget-list-title">Nenhum usuário encontrado</span></div></li></ul></div></script></div></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_attachment_preview.xml">
		
	<sn-modal class="sn-light-box" name="attachment_preview">
		<div class="modal-dialog modal-95">
			<div class="modal-content" ng-if="image">
				<header class="modal-header">
					<button type="button" data-dismiss="modal" title="Fechar" data-toggle="tooltip" data-placement="auto" class="btn btn-icon close icon-cross sn-tooltip-basic">
						<span class="sr-only">Fechar</span></button>
					<h4 class="modal-title">{{image.file_name}} ({{image.imageSize || image.size}})</h4></header>
				<div class="modal-body">
					<div class="sn-attachment-preview-image">
						<a href="/{{image.sys_id}}.iix" target="_blank">
							<img ng-src="{{image.sys_id + '.iix'}}" alt="{{ image.file_name }}"></img></a></div></div>
				<footer class="modal-footer">
					<a class="btn btn-default btn-icon icon-download" target="_blank" aria-label="Link Baixar anexo" title="{{ ::image.file_name }}" download="{{ ::image.file_name }}" href="sys_attachment.do?sys_id={{image.sys_id}}"></a></footer></div></div></sn-modal></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_avatar.xml">
		



	<div class="avatar-container" ng-class="avatarType()" title="{{ avatartooltip() }}" tabindex="-1">

		<div class="avatar soloAvatar top" ng-if="(users.length &gt; 1 &amp;&amp; !groupAvatar)" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[1])" aria-label="{{users[1].name}}, {{presenceStatus}}">
				<span ng-if="!users[1].avatar">{{ users[1].initials }}</span></div></div>

		<div class="avatar soloAvatar bottom" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[0] || primary)" aria-label="{{users[0].name}}, {{presenceStatus}}">
				<span ng-if="(!users[0].avatar &amp;&amp; !groupAvatar)">{{ users[0].initials }}</span></div></div>

		<div class="avatar soloAvatar top" ng-if="users.length &gt; 2 &amp;&amp; !groupAvatar" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[2])" aria-label="{{users[2].name}}, {{presenceStatus}}">
				<span ng-if="!users[2].avatar">{{ users[2].initials }}</span></div></div>

		<div class="avatar soloAvatar top" ng-if="users.length &gt; 3 &amp;&amp; !groupAvatar" context-menu="contextOptions">
			<div class="sub-avatar" role="button" ng-style="getBackgroundStyle(users[3])" aria-label="{{users[3].name}}, {{presenceStatus}}">
				<span ng-if="!users[3].avatar">{{ users[3].initials }}</span></div></div>

		<span class="inner-details" ng-transclude=""></span>
		<sn-presence ng-if="::presenceEnabled" user="(users[0].userID || users[0].document)" on-presence-change="onPresenceChange(status)"></sn-presence></div></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_user_avatar.xml">
		
    <div class="sn-card-component-avatar sn-avatar_xs sn-avatar_v2" ng-class="::{'sn-avatar_noop': disablePopover}">
        <div class="sn-avatar-container" tabindex="{{::evaluatedProfile.tabIndex}}" sn-bootstrap-popover="::true" aria-haspopup="{{::!disablePopover}}" aria-controls="sn-bootstrap-popover" popover-wait-event="sn-user-profile.ready" role="{{::ariaRole}}" aria-label="{{::evaluatedProfile.userName}}">
            <span class="sn-avatar-initials" aria-hidden="true">{{::evaluatedProfile.initials}}</span>
            <span class="sn-avatar-image" ng-style="::backgroundStyle"></span></div>
        <sn-presence class="sn-presence" ng-if="::enablePresence" profile="::evaluatedProfile"></sn-presence></div></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_avatar_popover.xml">
		<span class="avatar-container" ng-class="avatarType()"><sn-complex-popover ng-if="!noPopover()" template="sn_avatar_content.xml" button-template="sn_avatar_button.xml"></sn-complex-popover><sn-complex-popover ng-if="noPopover()" button-template="sn_avatar_button.xml"></sn-complex-popover></span></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=sn_avatar_button.xml">
		<a class="sn-popover-complex" role="presentation" ng-style="{'cursor': popoverCursor}" style="background-color: transparent"><div class="avatar soloAvatar top" ng-if="users.length &gt; 1 &amp;&amp; !groupAvatar"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[1])"><span ng-if="!users[1].avatar">{{ users[1].initials }}</span></div></div><div class="avatar soloAvatar bottom"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[0] || primary)"><span ng-if="!users[0].avatar &amp;&amp; !groupAvatar">{{ users[0].initials }}</span></div></div><div class="avatar soloAvatar top" ng-if="users.length &gt; 2 &amp;&amp; !groupAvatar"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[2])"><span ng-if="!users[2].avatar">{{ users[2].initials }}</span></div></div><div class="avatar soloAvatar top" ng-if="users.length &gt; 3 &amp;&amp; !groupAvatar"><div aria-label="{{ users[0].displayName }} {{ users[0].status }}" user-avatar-id="{{users[0].userID}}" ng-click="loadFullProfile(); togglePopover($event); stopPropCheck($event);" role="button" tabindex="0" title="{{ avatartooltip() }}" aria-haspopup="true" class="sub-avatar" ng-style="getBackgroundStyle(users[3])"><span ng-if="!users[3].avatar">{{ users[3].initials }}</span></div></div><sn-presence ng-if="::presenceEnabled" user="users[0].userID || users[0].document" display-name="users[0].displayName"></sn-presence></a></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=snMentionPopover.xml">
		<div id="mention-popover" class="popover sn-mention-popover"><div class="popover-content"><div class="popover-body"><span class="avatar-popover avatar-popover-padding"><sn-user-profile profile="profile" show-direct-message-prompt="true"></sn-user-profile></span></div></div></div></script><script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=snUserProfile.xml"><div class="sn-widget sn-widget-profile"><div class="sn-widget-profile-avatar"><sn-user-avatar ng-if="profile" class="sn-avatar_lg" profile="profile" disable-popover="::true"></sn-user-avatar></div><div class="sn-widget-profile-name">{{profile.name}}</div><div class="sn-widget-profile-position" ng-if="profile.detail.title">{{profile.detail.title}}</div><div class="sn-widget-profile-company" ng-if="profile.detail.companyName">{{profile.detail.companyName}}</div><ul class="sn-widget-list sn-widget-list_last-borderless"><li class="icon icon-global defaultCursor" ng-if="profile.detail.city || profile.detail.country">{{profile.detail.city}}, {{profile.detail.state || profile.detail.country}}</li><li class="icon icon-phone defaultCursor" ng-if="profile.detail.businessPhone">{{profile.detail.businessPhone}}</li><li class="icon icon-mobile defaultCursor" ng-if="profile.detail.mobilePhone">{{profile.detail.mobilePhone}}</li></ul></div></script>
	<script type="text/ng-template" id="angular.do?sysparm_type=get_partial&amp;name=record_stream_entry.xml">
		
	
	<div ng-init="user_image = true" role="group" aria-label="Entrada de fluxo {{entry.sys_created_by + ' ' + entry.sys_created_on_adjusted}}">
		<div class="sn-card-component sn-card-component_first sn-card-component_meta sn-card-component_meta_sibling">
			<sn-user-avatar ng-if="::entry.sys_created_by != 'system'" avatar-url="entry.user_image" initials="entry.initials" user-id="entry.user_id" class="sn-card-component-avatar sn-avatar_xs"></sn-user-avatar>
			<span ng-if="::entry.sys_created_by != 'system'" class="sn-card-component-createdby" ng-bind="::entry.sys_created_by"></span>
			<span ng-if="::entry.sys_created_by == 'system'" class="sn-card-component-createdby">Sistema</span></div>

		<div class="sn-card-component sn-card-component_first sn-card-component_meta">
			<span class="sn-card-component-time" ng-switch="::entry.type">
				<span ng-switch-when="journal" ng-bind="::entry.entries.journal[0].field_label"></span>
				<span ng-switch-when="attachment-image">Imagem carregada</span>
				<span ng-switch-when="attachment">Anexo carregado</span>
				<span ng-switch-default="true">{{ entry.is_email ? entry.label : ' Mudanças do campo ' }}</span>
				<span class="sn-card-component_accent-bar_bullet">•</span>
				<div class="date-calendar">{{::entry.sys_created_on_adjusted}}</div>
				<div class="date-timeago">
					<sn-time-ago timestamp="::entry.sys_created_on"></sn-time-ago></div>
				<span class="translation-delimitter" ng-if="::(entry.type === 'journal' &amp;&amp; entry.entries.journal[0].is_translation_enabled === true) || (entry['is_email'] === true &amp;&amp; entry.email.is_translation_enabled === true)">•</span><span class="translation-wrap"><i ng-if="::(entry.type === 'journal' &amp;&amp; entry.entries.journal[0].is_translation_enabled === true) || (entry['is_email'] === true &amp;&amp; entry.email.is_translation_enabled === true)" id="translation_icon" class="icon-translation translation-icon"></i><a ng-if="::entry.type === 'journal' &amp;&amp; entry.entries.journal[0].is_translation_enabled === true" ng-attr-id="translate_activity_{{entry.entries.journal[0].sys_id}}" class="translation-link-toggle" href="javascript:void(0)" data-type="dynamic_translate_activity_ngStream" ng-click="translateStreamEntryClick(entry.entries.journal[0], false)" ng-keypress="translateStreamEntryKeypress($event, entry.entries.journal[0], false)">Traduzir</a><a ng-if="::entry['is_email'] === true &amp;&amp; entry.email.is_translation_enabled === true" ng-attr-id="translate_activity_{{entry.email.sys_id.displayValue}}" class="translation-link-toggle" href="javascript:void(0)" data-type="dynamic_translate_activity_ngStream" ng-click="translateStreamEntryClick(entry, false)" ng-keypress="translateStreamEntryKeypress($event, entry, false)">Traduzir</a></span></span></div>

		<div ng-if="entry.attachment &amp;&amp; entry.attachment.state == 'not_available'" class="sn-card-component sn-card-component_attachment sn-card-attachment-unavailable">
				<a ng-click="showAttachmentUnAvailabilityMessage(entry.attachment.file_name)" href="javascript:;">
					{{ ::entry.attachment.file_name }} [Indisponível]
				</a></div>

		<div class="sn-card-component sn-card-component_attachment state-selectable" ng-if="entry.attachment &amp;&amp; entry.type == 'attachment-image' &amp;&amp;       entry.attachment.thumbnail_path &amp;&amp; entry.attachment.state != 'not_available'">
			<a class="clearfix" target="_blank" ng-href="/sys_attachment.do?view=true&amp;sys_id={{ ::entry.attachment.sys_id }}" ng-click="handleASAttachmentClick($event, entry)">
				<img class="sn-card-component-image" ng-src="{{ ::entry.attachment.image_path}}" ng-if="!attachmentAdviceRequired || entry.attachment.state == 'available'"></img>
				<span class="text-primary" ng-if="attachmentAdviceRequired &amp;&amp; entry.attachment.state != 'available'">
					{{ ::entry.attachment.file_name }}
				</span></a></div>

		<div ng-if="entry.attachment &amp;&amp; entry.type != 'attachment-image' &amp;&amp; entry.attachment.state != 'not_available'"><div ng-if="::(entry.attachment.extension == 'mp4' || entry.attachment.extension == 'webm')" class="sn-card-component sn-card-component_headline sn-card-component_headline_sm sn-card-attachment-{{::entry.attachment.extensions}}"><a download="{{ ::entry.attachment.file_name }}" ng-href="/sys_attachment.do?sys_id={{::entry.attachment.sys_id}}" ng-click="handleASAttachmentClick($event, entry)" ng-if="!entry.attachment.playVideo">{{::entry.attachment.file_name}}</a><div class="sn-card-attachment_video" ng-if="entry.attachment.playVideo"><sn-video-player name="{{::entry.attachment.file_name}}" type="video/{{::entry.attachment.extension}}" play-on-load="true" show-download-link="true" attachment="{{::entry.attachment.sys_id}}" width="640" height="270"></sn-video-player></div></div><div ng-if="::(entry.attachment.extension != 'mp4' &amp;&amp; entry.attachment.extension != 'webm')" class="sn-card-component sn-card-component_headline sn-card-component_headline_sm sn-card-attachment-{{::entry.attachment.extension}}"><a download="{{ ::entry.attachment.file_name }}" ng-href="/sys_attachment.do?sys_id={{::entry.attachment.sys_id}}" ng-click="handleASAttachmentClick($event, entry)">{{ ::entry.attachment.file_name }}</a></div><div class="sn-card-component sn-card-component_summary">{{ ::entry.attachment.size }}</div></div><div class="sn-card-component sn-card-component_records" ng-if="::entry.entries.custom.length &gt; 0 || entry.entries.changes.length &gt; 0"><div class="sn-widget"><ul class="sn-widget-list sn-widget-list-table"><li ng-repeat="change in ::entry.entries.custom"><span class="sn-widget-list-table-cell" ng-bind="::change.field_label"></span><span class="sn-widget-list-table-cell"><span ng-if="change.old_value &amp;&amp; auditMessageParts.prefix" class="sn-widget-list-table-italic" ng-bind="auditMessageParts.prefix"></span><span ng-if="change.new_value &amp;&amp; (auditMessageParts.newValPosition == '0' || !change.old_value)" class="sn-stream-bound-value" ng-bind="::change.new_value"></span><span ng-if="change.old_value &amp;&amp; auditMessageParts.newValPosition == '1'" class="sn-stream-bound-value" ng-bind="::change.old_value"></span><span ng-if="::!change.new_value" class="sn-widget-list-table-strong">[Vazio]</span><span ng-if="change.old_value &amp;&amp; auditMessageParts.middle" class="sn-widget-list-table-italic" ng-bind="auditMessageParts.middle"></span><span ng-if="change.old_value &amp;&amp; auditMessageParts.oldValPosition == '0'" class="sn-stream-bound-value" ng-bind="::change.new_value"></span><span ng-if="change.old_value &amp;&amp; auditMessageParts.oldValPosition == '1'" class="sn-stream-bound-value" ng-bind="::change.old_value"></span><span ng-if="change.old_value &amp;&amp; auditMessageParts.postfix" class="sn-widget-list-table-italic" ng-bind="auditMessageParts.postfix"></span></span></li><li ng-repeat="change in entry.entries.changes"><span class="sn-widget-list-table-cell" ng-bind="::change.field_label"></span><span class="sn-widget-list-table-cell"><span ng-if="change.old_value &amp;&amp; auditMessageParts.prefix" class="sn-widget-list-table-italic" ng-bind="auditMessageParts.prefix"></span><sn-html-content-wrapper unique-id="{{change.sys_id}}_new_value" ng-if="change.new_value &amp;&amp; isHTMLField(change) &amp;&amp; (auditMessageParts.newValPosition == '0' || !change.old_value)" class="sn-stream-bound-value" content="{{::trustAsHtml(change.sanitized_new_value)}}"></sn-html-content-wrapper><span ng-if="change.new_value &amp;&amp; !isHTMLField(change) &amp;&amp; (auditMessageParts.newValPosition == '0' || !change.old_value)" class="sn-stream-bound-value" ng-bind="::change.new_value"></span><sn-html-content-wrapper unique-id="{{change.sys_id}}_old_value" ng-if="change.old_value &amp;&amp; isHTMLField(change) &amp;&amp; auditMessageParts.newValPosition == '1'" class="sn-stream-bound-value" content="{{::trustAsHtml(change.sanitized_old_value)}}"></sn-html-content-wrapper><span ng-if="change.old_value &amp;&amp; !isHTMLField(change) &amp;&amp; auditMessageParts.newValPosition == '1'" class="sn-stream-bound-value" ng-bind="::change.old_value"></span><span ng-if="::!change.new_value" class="sn-widget-list-table-strong">[Vazio]</span><span ng-if="change.old_value &amp;&amp; auditMessageParts.middle" class="sn-widget-list-table-italic" ng-bind="auditMessageParts.middle"></span><sn-html-content-wrapper unique-id="{{change.sys_id}}_new_value" ng-if="change.old_value &amp;&amp; isHTMLField(change) &amp;&amp; auditMessageParts.oldValPosition == '0'" class="sn-stream-bound-value" content="{{::trustAsHtml(change.sanitized_new_value)}}"></sn-html-content-wrapper><span ng-if="change.old_value &amp;&amp; !isHTMLField(change) &amp;&amp; auditMessageParts.oldValPosition == '0'" class="sn-stream-bound-value" ng-bind="::change.new_value"></span><sn-html-content-wrapper unique-id="{{change.sys_id}}_old_value" ng-if="change.old_value &amp;&amp; isHTMLField(change) &amp;&amp; auditMessageParts.oldValPosition == '1'" class="sn-stream-bound-value" content="{{::trustAsHtml(change.sanitized_old_value)}}"></sn-html-content-wrapper><span ng-if="change.old_value &amp;&amp; !isHTMLField(change) &amp;&amp; auditMessageParts.oldValPosition == '1'" class="sn-stream-bound-value" ng-bind="::change.old_value"></span><span ng-if="change.old_value &amp;&amp; auditMessageParts.postfix" class="sn-widget-list-table-italic" ng-bind="auditMessageParts.postfix"></span></span></li></ul></div></div><div class="sn-card-component sn-card-component_records" ng-if="::entry['is_email'] === true"><div class="sn-widget"><ul class="sn-widget-list sn-widget-list-table"><li><span class="sn-widget-list-table-cell"><span class="icon-mail"></span></span><span class="sn-widget-list-table-cell">E-mail {{::entry.email.type.displayValue}}</span></li><li><span class="sn-widget-list-table-cell">Assunto:</span><span class="sn-widget-list-table-cell">{{::entry.email.subject.displayValue}}</span></li><li><span class="sn-widget-list-table-cell">De:</span><span class="sn-widget-list-table-cell">{{::entry.email.user.displayValue}}</span></li><li><span class="sn-widget-list-table-cell">A:</span><span class="sn-widget-list-table-cell">{{::entry.email.reduced_to.displayValue}}</span></li><li ng-if="::entry.email.copied.displayValue"><span class="sn-widget-list-table-cell">Cc:</span><span class="sn-widget-list-table-cell">{{::entry.email.copied.displayValue}}</span></li></ul><span class="sn-widget-list-table-cell"></span><span class="sn-widget-list-table-cell"><a ng-href="email_display.do?email_id={{::entry.email.sys_id.displayValue}}" target="_blank" ng-click="toggleEmailIframe(entry.email, $event)" ng-if="!entry.email.expanded">Mostrar detalhes do e-mail</a><a href="#" ng-click="toggleEmailIframe(entry.email, $event)" ng-if="entry.email.expanded">Ocultar detalhes do e-mail</a></span></div><div ng-attr-id="activity_{{entry.email.sys_id.displayValue}}" class="sn-card-component sn-card-component_summary sn-card-component_summary_spacing" ng-if="entry.email.expanded"><div class="sn-widget sn-widget-textblock"><sn-expanded-email email="entry.email"></sn-expanded-email></div></div><div ng-if="entry.showTranslation" class="sn-card-component sn-widget sn-widget-textblock state-expanded translation-container"><div ng-if="entry.isTranslationInProgress"><i class="icon-translation translation-icon"></i><span aria-live="polite">Traduzindo...</span></div><div ng-if="entry.isTranslationSuccess"><i class="translation-icon icon-translation"></i><a class="translation-link-toggle" href="javascript:void(0)" ng-click="translationToggleClick(entry)" ng-keypress="translationToggleKeypress($event, entry)">{{entry.toggleMsg}}</a><span class="translation-delimitter">•</span><span class="translation-credits">{{entry.credits}}</span><div ng-if="entry.showDetails" class="translation-message sn-widget-textblock-body sn-widget-textblock-body_formatted"><sn-translated-email email="entry"></sn-translated-email></div></div><div ng-if="entry.isTranslationError"><i class="translation-icon icon-translation"></i>{{entry.translatedText}}<a ng-if="entry.tryAgain" href="javascript:void(0)" class="translation-link-toggle" ng-click="translateStreamEntryClick(entry, true)" ng-keypress="translateStreamEntryKeypress($event, entry, true)"> Tente novamente.</a></div></div></div><div ng-attr-id="{{'activity_'+journal.sys_id}}" class="sn-card-component sn-card-component_summary sn-card-component_summary_spacing" ng-repeat="journal in ::entry.entries.journal"><div class="sn-widget sn-widget-textblock" ng-class="{ 'state-expanded': (journal.showMore || expandEntries || journal.new_value.length &lt;= 200 ) }"><span class="sn-widget-textblock-body sn-widget-textblock-body_formatted" ng-if="shouldEncapsulate(journal)"><sn-html-content-wrapper ng-if="shouldEncapsulate(journal)" content="{{parseSpecial(journal.sanitized_new_value)}}" unique-id="{{journal.sys_id}}"></sn-html-content-wrapper></span><span ng-if="!shouldEncapsulate(journal)" class="sn-widget-textblock-body sn-widget-textblock-body_formatted" ng-bind-html="parseSpecial(journal.sanitized_new_value)"></span><div class="row" ng-if="journal.is_truncated"><div class="col-xs-12"><a ng-click="getFullEntryValue(entry, $event)">Ver todo o texto</a><i ng-if="journal.loading" class="icon-loading icon-sm link-loading-margin"></i></div></div></div><a ng-if="::journal.new_value.length &gt; 200" href="javascript:void(0)" ng-click="showMore(journal, $event)" ng-hide="journal.showMore || expandEntries || journal.is_truncated">Mostrar mais</a><a ng-if="::journal.new_value.length &gt; 200" href="javascript:void(0)" ng-click="showLess(journal, $event)" ng-show="journal.showMore &amp;&amp; !expandEntries">Menos Informações</a><div ng-if="journal.showTranslation" class="sn-card-component sn-widget sn-widget-textblock state-expanded translation-container"><div ng-if="journal.isTranslationInProgress"><i class="icon-translation translation-icon"></i><span aria-live="polite">Traduzindo...</span></div><div ng-if="journal.isTranslationSuccess"><i class="translation-icon icon-translation"></i><a class="translation-link-toggle" href="javascript:void(0)" ng-click="translationToggleClick(journal)" ng-keypress="translationToggleKeypress($event, journal)">{{journal.toggleMsg}}</a><span class="translation-delimitter">•</span><span class="translation-credits">{{journal.credits}}</span><div ng-if="journal.showDetails &amp;&amp; journal.contains_code &amp;&amp; journal.allow_code_tag" class="translation-message sn-widget-textblock-body sn-widget-textblock-body_formatted"><sn-html-content-wrapper content="{{journal.translatedText}}"></sn-html-content-wrapper></div><div ng-if="journal.showDetails &amp;&amp; (!journal.contains_code || !journal.allow_code_tag)" class="translation-message translation-message-wrap sn-widget-textblock-body sn-widget-textblock-body_formatted" ng-bind-html="::journal.translatedText"></div></div><div ng-if="journal.isTranslationError"><i class="translation-icon icon-translation"></i>{{journal.translatedText}}<a ng-if="journal.tryAgain" href="javascript:void(0)" class="translation-link-toggle" ng-click="translateStreamEntryClick(journal, true)" ng-keypress="translateStreamEntryKeypress($event, journal, true)"> Tente novamente.</a></div></div></div>

		<div ng-class="::{'sn-card-component_accent-bar_dark' : entry.entries.journal[0]}" class="sn-card-component_accent-bar " ng-style="::{ 'background-color': fields[entry.entries.journal[0].field_name].color }"></div></div></script><now-message key="%d ago" value="%d atrás"></now-message><now-message key="%d from now" value="%d a partir de agora"></now-message><now-message key="less than a minute" value="menos de um minuto"></now-message><now-message key="just now" value="Agora mesmo"></now-message><now-message key="about a minute" value="%dm"></now-message><now-message key="%d minutes" value="%d minutos"></now-message><now-message key="about an hour" value="cerca de uma hora"></now-message><now-message key="about %d hours" value="%dh"></now-message><now-message key="a day" value="um dia"></now-message><now-message key="%d days" value="%d dias"></now-message><now-message key="about a month" value="cerca de um mês"></now-message><now-message key="%d months" value="%d meses"></now-message><now-message key="about a year" value="cerca de um ano"></now-message><now-message key="%d years" value="%d anos"></now-message><now-message key="today" value="Hoje"></now-message><now-message key="{0} is typing" value="{0} está digitando"></now-message><now-message key="{0} is viewing" value="{0} está exibindo"></now-message><now-message key="{0} has entered" value="{0} entrou"></now-message><now-message key="{0} has probably left" value="{0} provavelmente saiu"></now-message><now-message key="{0} has exited" value="{0} foi encerrado"></now-message><now-message key="{0} is offline" value="{0} está off-line"></now-message><now-message key="{0} was {1}" value="{0} era {1}"></now-message><now-message key="was" value="era"></now-message><now-message key="entered" value="inserido"></now-message><now-message key="online" value="online"></now-message><now-message key="viewing" value="Exibição"></now-message><now-message key="maybe offline" value="talvez off-line"></now-message><now-message key="probably offline" value="provavelmente off-line"></now-message><now-message key="offline" value="offline"></now-message><now-message key="Activities: {0}" value="Atividades: {0}"></now-message><now-message key="The file {0} did not pass security scan and cannot be downloaded" value="O arquivo &lt;b&gt; {0} &lt;/b&gt; não passou na verificação de segurança e não pode ser baixado"></now-message></td></tr></table></div></div></div></div></span></span><span class="tabs2_section tabs2_section_3 tabs2_section3 tab_section" data-header-only="false" tab_caption="Registros relacionados" tab_caption_raw="Related Records" id="section_tab.991fec850a0006417c9edda2d4e9c487" data-section-id="991fec850a0006417c9edda2d4e9c487" style="display: none"><span id="section-991fec850a0006417c9edda2d4e9c487" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="991fec850a0006417c9edda2d4e9c487" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Registros relacionados</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="991fec850a0006417c9edda2d4e9c487" aria-label="Recolher seção: Registros relacionados" data-aria-label-toggle="Expandir seção: Registros relacionados" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Registros relacionados" onclick="hideReveal('991fec850a0006417c9edda2d4e9c487'); return false;" title="Ocultar / Exibir Registros relacionados" aria-expanded="true"></button></span></div></div></nav><div id="991fec850a0006417c9edda2d4e9c487" glide="true" class="section-content with-overflow" role="region" aria-label="Registros relacionados Seção de formulário"><div class="row"><div class="vsplit col-sm-6"><div id="element.incident.problem_id" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.problem_id" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.problem_id" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.problem_id" aria-label="" role="note" data-dynamic-title="Problema relacionado, se houver" mandatory="false" oclass="" class=" "></span><span title="Problema relacionado, se houver" class="label-text" data-html="false">Problema</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.problem_id" name="sys_original.incident.problem_id"></input></div><input type="hidden" id="incident.problem_id" name="incident.problem_id" data-type="" onchange="onChange('incident.problem_id');telemetryForRecordUpdate('problem_id');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.problem_id" name="sys_display.original.incident.problem_id" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.problem_id" name="sys_display.incident.problem_id" aria-labelledby="label.incident.problem_id" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="" data-ref="incident.problem_id" data-ref-key="null" data-ref-dynamic="false" data-name="problem_id" data-table="problem" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.problem_id'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.problem_id'), 'incident.problem_id', '', ''); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.problem_id" name="lookup.incident.problem_id" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.problem_id" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.problem_id" data-form="problem.do" aria-label="Pesquisar valor de campo: Problema"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.problem_id" type="button" name="viewr.incident.problem_id" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="problem.do" data-ref="incident.problem_id" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Problema"></button></span></div></div><div id="element.incident.parent_incident" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.parent_incident" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.parent_incident" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.parent_incident" aria-label="" role="note" data-dynamic-title="Pode ser usado para coletar Incidentes para o mesmo problema raiz" mandatory="false" oclass="" class=" "></span><span title="Pode ser usado para coletar Incidentes para o mesmo problema raiz" class="label-text" data-html="false">Incidente primário</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.parent_incident" name="sys_original.incident.parent_incident"></input></div><input type="hidden" id="incident.parent_incident" name="incident.parent_incident" data-type="" onchange="onChange('incident.parent_incident');telemetryForRecordUpdate('parent_incident');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.parent_incident" name="sys_display.original.incident.parent_incident" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.parent_incident" name="sys_display.incident.parent_incident" aria-labelledby="label.incident.parent_incident" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="" data-ref="incident.parent_incident" data-ref-key="null" data-ref-dynamic="false" data-name="parent_incident" data-table="incident" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.parent_incident'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.parent_incident'), 'incident.parent_incident', '', ''); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.parent_incident" name="lookup.incident.parent_incident" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.parent_incident" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.parent_incident" data-form="incident.do" aria-label="Pesquisar valor de campo: Incidente primário"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.parent_incident" type="button" name="viewr.incident.parent_incident" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="incident.do" data-ref="incident.parent_incident" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Incidente primário"></button></span></div></div></div><div class="vsplit col-sm-6"><div id="element.incident.rfc" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.rfc" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.rfc" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.rfc" aria-label="" role="note" data-dynamic-title="Mudança relacionada, se houver" mandatory="false" oclass="" class=" "></span><span title="Mudança relacionada, se houver" class="label-text" data-html="false">Requisição de Mudança</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.rfc" name="sys_original.incident.rfc"></input></div><input type="hidden" id="incident.rfc" name="incident.rfc" data-type="" onchange="onChange('incident.rfc');telemetryForRecordUpdate('rfc');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.rfc" name="sys_display.original.incident.rfc" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.rfc" name="sys_display.incident.rfc" aria-labelledby="label.incident.rfc" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="" data-ref="incident.rfc" data-ref-key="null" data-ref-dynamic="false" data-name="rfc" data-table="change_request" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.rfc'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.rfc'), 'incident.rfc', '', ''); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.rfc" name="lookup.incident.rfc" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.rfc" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.rfc" data-form="change_request.do" aria-label="Pesquisar valor de campo: Requisição de Mudança"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.rfc" type="button" name="viewr.incident.rfc" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="change_request.do" data-ref="incident.rfc" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Requisição de Mudança"></button></span></div></div><div id="element.incident.caused_by" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.caused_by" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.caused_by" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.caused_by" aria-label="" role="note" data-dynamic-title="Solicitação de mudança que causou o incidente" mandatory="false" oclass="" class=" "></span><span title="Solicitação de mudança que causou o incidente" class="label-text" data-html="false">Causado pela mudança</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.caused_by" name="sys_original.incident.caused_by"></input></div><input type="hidden" id="incident.caused_by" name="incident.caused_by" data-type="" onchange="onChange('incident.caused_by');telemetryForRecordUpdate('caused_by');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.caused_by" name="sys_display.original.incident.caused_by" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.caused_by" name="sys_display.incident.caused_by" aria-labelledby="label.incident.caused_by" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="" data-ref="incident.caused_by" data-ref-key="null" data-ref-dynamic="false" data-name="caused_by" data-table="change_request" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.caused_by'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.caused_by'), 'incident.caused_by', '', ''); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.caused_by" name="lookup.incident.caused_by" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.caused_by" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.caused_by" data-form="change_request.do" aria-label="Pesquisar valor de campo: Causado pela mudança"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.caused_by" type="button" name="viewr.incident.caused_by" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="change_request.do" data-ref="incident.caused_by" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Causado pela mudança"></button></span></div></div></div></div><div class="row"><div class="col-xs-12"><div class="custom-form-group is-wide   form-group" sn-atf-whitelist="true" sn-ng-formatter=""><table style="width: 100%;" class="" role="presentation"><style>.attached-kb-articles{
                width: 17%;
            }
            .vsplit .attached-kb-articles{
                width: 34%;
            }</style></table></div></div></div></div></span></span><span class="tabs2_section tabs2_section_4 tabs2_section4 tab_section" data-header-only="false" tab_caption="Informações de resolução" tab_caption_raw="Resolution Information" id="section_tab.992099dd0a0006413c77c9a4b7d410c0" data-section-id="992099dd0a0006413c77c9a4b7d410c0" style="display: none"><span id="section-992099dd0a0006413c77c9a4b7d410c0" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="992099dd0a0006413c77c9a4b7d410c0" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Informações de resolução</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="992099dd0a0006413c77c9a4b7d410c0" aria-label="Recolher seção: Informações de resolução" data-aria-label-toggle="Expandir seção: Informações de resolução" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Informações de resolução" onclick="hideReveal('992099dd0a0006413c77c9a4b7d410c0'); return false;" title="Ocultar / Exibir Informações de resolução" aria-expanded="true"></button></span></div></div></nav><div id="992099dd0a0006413c77c9a4b7d410c0" glide="true" class="section-content with-overflow" role="region" aria-label="Informações de resolução Seção de formulário"><div class="row"><div class="vsplit col-sm-6"><div id="element.incident.knowledge" class="form-group " style=""><div class="" data-type="label" choice="0" type="boolean" id="label.incident.knowledge" noWrap="true"><label onclick="return labelClicked(this);" for="ni.incident.knowledge" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.knowledge" aria-label="" role="note" data-dynamic-title="Indica se um rascunho de artigo de conhecimento deve ser criado após o fechamento deste registro de tarefa" mandatory="false" oclass="" class=" "></span><span title="Indica se um rascunho de artigo de conhecimento deve ser criado após o fechamento deste registro de tarefa" class="label-text" data-html="false">Base de conhecimento(knowledge)</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.knowledge" name="sys_original.incident.knowledge" value="false"></input></div><span class="input-group-checkbox"><input type="checkbox" class="checkbox" id="ni.incident.knowledge" name="ni.incident.knowledge" aria-labelledby="label.ni.incident.knowledge" value="true" data-type="boolean" aria-required="false" data-ref="incident.knowledge"></input><label for="ni.incident.knowledge" id="label.ni.incident.knowledge" dir="ltr" class=" checkbox-label" aria-hidden="true" aria-label="Base de conhecimento(knowledge)"></label></span><input type="hidden" class="" id="incident.knowledge" name="incident.knowledge" value="false" gsftlocked="false"></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.close_code" class="form-group " style=""><div class="" data-type="label" choice="1" type="choice" id="label.incident.close_code" noWrap="true"><label onclick="return labelClicked(this);" for="incident.close_code" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.close_code" aria-label="" role="note" data-dynamic-title="Para uso em relatórios" mandatory="false" oclass="" class=" "></span><span title="Para uso em relatórios" class="label-text" data-html="false">Código de fechamento</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.close_code" name="sys_original.incident.close_code" value=""></input></div><select aria-required="false" aria-labelledby="label.incident.close_code" ng-non-bindable="true" NAME="incident.close_code" ID="incident.close_code" onChange="onChange('incident.close_code', arguments.length === 2 ? arguments[1] : false);telemetryForRecordUpdate('close_code');" style="; width: 200px" class="form-control  " choice="1"><option value="" SELECTED="SELECTED">-- Nenhum --</option><option value="incorrect_opening">Abertura incorreta</option><option value="pbi_did_not_load_current_information">PBI não carregou informações atuais</option><option value="incorrect_opening_lack_of_evidence">Abertura incorreta / falta de evidências</option><option value="change_in_id_nomenclature">Alteração na nomenclatura do ID</option><option value="updated_outside_sending_time_tolerance">Atualizado fora de horário de envio (tolerância)</option><option value="Opened Incorrectly">Chamado Aberto Incorretamente</option><option value="failure_in_dweab_update">Falha na atualização do DWEAB</option><option value="failure_in_solinftec_update">Falha na atualização Solinftec</option><option value="slowness_in_wpp_disconnection">Lentidão no wpp / desconexão</option><option value="panel_adjusted">Painel ajustado</option><option value="folder_not_synchronized_with_rpa_team">Pasta não sincronizada do time de RPA</option><option value="Chamado Improdutivo">Chamado Improdutivo</option><option value="pdf_misconfigured">PDF desconfigurado</option><option value="RPA did not send the report">RPA não enviou o relatório</option><option value="rpa_not_in_group">RPA sem estar no grupo</option><option value="Chamado Cancelado pelo Cliente">Chamado Cancelado pelo Cliente</option><option value="others">Outros</option><option value="Chamado Encerrado Através de Orientação">Chamado Encerrado Através de Orientação</option><option value="duplicated">Duplicado</option><option value="Encerrado por falta de informação">Encerrado por falta de informação</option><option value="Encerrado por falta de retorno">Encerrado por falta de retorno</option><option value="AC">Encerrado Automaticamente</option><option value="AC (Problem)">Encerrado Automaticamente (Problema)</option><option value="offender_resolved">Offender resolved</option><option value="AC (Change)">Encerrado automaticamente (Mudança)</option><option value="Other">Outro</option><option value="Solved (Permanently)">Solucionado (Permanentemente)</option><option value="Solved (No IT Action)">Solucionado (Sem ação de TI)</option><option value="Offender Resolved">Ofensor resolvido</option><option value="Doubt">Dúvida</option><option value="Canceled (opened improperly)">Cancelado (Aberto indevidamente)</option><option value="Encerrado Operação Assistida">Encerrado Operação Assistida</option><option value="Not Solved (Canceled by Client)">Não Solucionado (Cancelado pelo Cliente)</option><option value="equipment_released">Equipamento liberado</option><option value="Not Solved (Not Reproducible)">Não Solucionado (Não Reproduzido)</option><option value="Solved (Needs Enhancement)">Solucionado (Necessita Melhoria)</option><option value="unsolved_offender">Ofensor não resolvido</option><option value="Solved (Work Around)">Solucionado (Contorno)</option></select><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.close_code');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.u_diagnosis" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.u_diagnosis" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.u_diagnosis" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.u_diagnosis" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Diagnóstico</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_diagnosis" name="sys_original.incident.u_diagnosis"></input></div><input type="hidden" id="incident.u_diagnosis" name="incident.u_diagnosis" data-type="" onchange="onChange('incident.u_diagnosis');telemetryForRecordUpdate('u_diagnosis');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.u_diagnosis" name="sys_display.original.incident.u_diagnosis" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.u_diagnosis" name="sys_display.incident.u_diagnosis" aria-labelledby="label.incident.u_diagnosis" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="true" data-ref="incident.u_diagnosis" data-ref-key="null" data-ref-dynamic="false" data-name="u_diagnosis" data-table="u_cmdb_ci_catalog_diagnosis" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.u_diagnosis'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.u_diagnosis'), 'incident.u_diagnosis', '', 'true'); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.u_diagnosis" name="lookup.incident.u_diagnosis" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.u_diagnosis" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.u_diagnosis" data-form="u_cmdb_ci_catalog_diagnosis.do" aria-label="Pesquisar valor de campo: Diagnóstico"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.u_diagnosis" type="button" name="viewr.incident.u_diagnosis" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="u_cmdb_ci_catalog_diagnosis.do" data-ref="incident.u_diagnosis" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Diagnóstico"></button></span></div></div><div id="element.incident.parent" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="reference" id="label.incident.parent" noWrap="true"><label onclick="return labelClicked(this);" for="sys_display.incident.parent" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.parent" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Origem(parent)</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.parent" name="sys_original.incident.parent"></input></div><input type="hidden" id="incident.parent" name="incident.parent" data-type="" onchange="onChange('incident.parent');telemetryForRecordUpdate('parent');" class="" choice="0"></input><input type="hidden" id="sys_display.original.incident.parent" name="sys_display.original.incident.parent" value=""></input><div class="input-group ref-container "><input id="sys_display.incident.parent" name="sys_display.incident.parent" aria-labelledby="label.incident.parent" type="search" autocomplete="off" autocorrect="off" value="" data-type="ac_reference_input" data-completer="AJAXReferenceCompleter" data-dependent="" data-dependent-value="" data-ref-qual="" data-ref="incident.parent" data-ref-key="null" data-ref-dynamic="false" data-name="parent" data-table="task" class="form-control element_reference_input  " style="; " spellcheck="false" onfocus="if (!this.ac) addLoadEvent(function() {var e = gel('sys_display.incident.parent'); if (!e.ac) new AJAXReferenceCompleter(gel('sys_display.incident.parent'), 'incident.parent', '', ''); e.ac.onFocus();})" aria-required="false"></input><span class="ref_dynamic_placeholder">Um novo registro com este valor será criado automaticamente</span><span class="input-group-btn"><button id="lookup.incident.parent" name="lookup.incident.parent" type="button" class="btn btn-default" title="Pesquisar usando lista" aria-haspopup="true" data-for="sys_display.incident.parent" data-type="ac_reference_input" tabindex="-1" role="button" data-now-ux-metrics-event="Look Up Record List" data-requested-by="incident.parent" data-form="task.do" aria-label="Pesquisar valor de campo: Origem(parent)"><span class="icon icon-search" aria-hidden="true"></span></button></span></div><script type="text/javascript">window.NOW = window.NOW || {};
		window.NOW.useHiddenDependent = 'true'.toLowerCase() === 'true';</script></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.parent" type="button" name="viewr.incident.parent" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="task.do" data-ref="incident.parent" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Origem(parent)"></button></span></div></div></div><div class="vsplit col-sm-6"><div id="element.incident.resolved_by" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.resolved_by" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.resolved_by" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.resolved_by" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Resolvido por</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.resolved_by" name="sys_original.incident.resolved_by"></input></div><input style=";" id="incident.resolved_by_label" name="incident.resolved_by_label" aria-labelledby="label.incident.resolved_by" value="" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.resolved_by" name="incident.resolved_by" value="" writeaccess="false"></input><input type="hidden" id="sys_display.incident.resolved_by" name="sys_display.incident.resolved_by" value=""></input><input type="hidden" id="sys_display.original.incident.resolved_by" name="sys_display.original.incident.resolved_by" value=""></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.resolved_by" type="button" name="viewr.incident.resolved_by" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user.do" data-ref="incident.resolved_by" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Resolvido por"></button></span></div></div><div id="element.incident.resolved_at" class="form-group " style=""><div class="" data-type="label" choice="0" type="date_time" id="label.incident.resolved_at" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.incident.resolved_at" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.resolved_at" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="A data em que o incidente foi resolvido" mandatory="false" oclass="read_only" class="read_only "></span><span title="A data em que o incidente foi resolvido" class="label-text" data-html="false">Resolvido</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.resolved_at" name="sys_original.incident.resolved_at" value=""></input></div><span class="element date-timeago"><span class="input-group static"><p id="incident.resolved_at.timeago" class="form-control-static date-timeago" timeago="" title=""></p><span class="input-group-btn"><button class="btn btn-default" type="button" name="incident.resolved_at.ui_policy_sensitive" id="incident.resolved_at.ui_policy_sensitive" tabindex="-1" data-type="date_time" data-ref="incident.resolved_at" data-now-ux-metrics-event="Select Date and Time" style="display:none;; border-left-width:1px; border-radius: 3px;" title="Selecionar data e hora" aria-label="Selecione data e hora de Resolvido" data-date_time_format="dd/MM/yyyy HH:mm:ss"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecione data e hora de Resolvido</span></button></span></span></span><div class="element date-calendar date-calendar-display"><input style=";;" class="form-control disabled" id="sys_readonly.incident.resolved_at" value="" readonly="readonly"></input><input type="hidden" id="incident.resolved_at" onchange="onChange('incident.resolved_at');" NAME="incident.resolved_at" value="" writeaccess="false"></input></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div></div></div><div class="row"><div class="col-xs-12"><div id="element.incident.close_notes" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="string" data-type="label" id="label.incident.close_notes"><label onclick="return labelClicked(this, 'string');" for="incident.close_notes" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.close_notes" aria-label="" role="note" data-dynamic-title="Anotações de resolução para o Incidente" mandatory="false" oclass="" class=" "></span><span title="Anotações de resolução para o Incidente" class="label-text" data-html="false">Anotações de resolução</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><div class="row" id="textarea_sizer.incident.close_notes"><div class="col-sm-12 col-md-12 col-lg-12 col-xs-12"><span class=" label_right pull-right" style=""><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.close_notes');
			}
		);</script></span></div></div><textarea id="incident.close_notes" onChange="this.isFocused=false;multiModified(this);telemetryForRecordUpdate('close_notes');" onKeyDown="multiKeyDown(this);" style=";width:100%;  resize:none; overflow:auto; ; ; " name="incident.close_notes" wrap="soft" specialtype="" data-length="4000" data-charLimit="false" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" class="form-control" aria-required="false" aria-labelledby="label.incident.close_notes" spellcheck="true">
</textarea><input type="hidden" id="sys_original.incident.close_notes" name="sys_original.incident.close_notes" value=""></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.close_notes']) {
											g_form.registerHandler('incident.close_notes', new TextAreaElement('incident.close_notes'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'string';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.close_notes';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script><div id="element.incident.u_root_cause" class="form-group " style=""><div class="" data-type="label" choice="0" type="string" id="label.incident.u_root_cause" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_root_cause" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.u_root_cause" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Causa Raiz</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_root_cause" name="sys_original.incident.u_root_cause" value=""></input></div><input type="text" data-type="string" id="incident.u_root_cause" name="incident.u_root_cause" aria-required="false" aria-labelledby="label.incident.u_root_cause" onChange="onChange('incident.u_root_cause');telemetryForRecordUpdate('u_root_cause');" maxlength="40" value="" style="; " autocomplete="off" ng-non-bindable="" class="form-control " spellcheck="false"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div></div></span></span><span class="tabs2_section tabs2_section_5 tabs2_section5 tab_section" data-header-only="false" tab_caption="Incidente grave" tab_caption_raw="Major Incident" id="section_tab.d8e9b4e553d403006725ddeeff7b1266" data-section-id="d8e9b4e553d403006725ddeeff7b1266" style="display: none"><span id="section-d8e9b4e553d403006725ddeeff7b1266" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="d8e9b4e553d403006725ddeeff7b1266" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Incidente grave</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="d8e9b4e553d403006725ddeeff7b1266" aria-label="Recolher seção: Incidente grave" data-aria-label-toggle="Expandir seção: Incidente grave" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Incidente grave" onclick="hideReveal('d8e9b4e553d403006725ddeeff7b1266'); return false;" title="Ocultar / Exibir Incidente grave" aria-expanded="true"></button></span></div></div></nav><div id="d8e9b4e553d403006725ddeeff7b1266" glide="true" class="section-content with-overflow" role="region" aria-label="Incidente grave Seção de formulário"><div class="row"><div class="col-xs-12"><div id="element.incident.major_incident_state" class="form-group " style=""><div class="" data-type="label" choice="1" type="choice" id="label.incident.major_incident_state" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.incident.major_incident_state" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.major_incident_state" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Estado do incidente principal</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.major_incident_state" name="sys_original.incident.major_incident_state" value=""></input></div><select name="sys_readonly.incident.major_incident_state" aria-readonly="true" aria-disabled="true" id="sys_readonly.incident.major_incident_state" ng-non-bindable="" class="form-control" readonly="readonly" style=";"><option value="" SELECTED="SELECTED" disabled="disabled">-- Nenhum --</option><option value="proposed" disabled="disabled">Proposto</option><option value="accepted" disabled="disabled">Aceito</option><option value="rejected" disabled="disabled">Rejeitado</option><option value="canceled" disabled="disabled">Cancelado(a)</option></select><input id="incident.major_incident_state" onchange="onChange('incident.major_incident_state');" name="incident.major_incident_state" value="" ng-non-bindable="" style="display:none;" writeaccess="false"></input><script>if (window.navigator.userAgent.indexOf("Edge") !== -1) {
    	var element = document.getElementById('incident.major_incident_state');
		var options = element.options;
		for (var optionIndex in options) {
			if ( options[optionIndex].title ) {
				options[optionIndex].label = options[optionIndex].label + " ( " + options[optionIndex].title + " )";
			}
		}
    }</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div><div class="row"><div class="vsplit col-sm-6"><div id="element.incident.proposed_by" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="reference" id="label.incident.proposed_by" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.proposed_by" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.proposed_by" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="O usuário que propôs o incidente como um candidato a incidente grave" mandatory="false" oclass="read_only" class="read_only "></span><span title="O usuário que propôs o incidente como um candidato a incidente grave" class="label-text" data-html="false">Promovido por</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.proposed_by" name="sys_original.incident.proposed_by"></input></div><input style=";" id="incident.proposed_by_label" name="incident.proposed_by_label" aria-labelledby="label.incident.proposed_by" value="" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.proposed_by" name="incident.proposed_by" value="" writeaccess="false"></input><input type="hidden" id="sys_display.incident.proposed_by" name="sys_display.incident.proposed_by" value=""></input><input type="hidden" id="sys_display.original.incident.proposed_by" name="sys_display.original.incident.proposed_by" value=""></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.proposed_by" type="button" name="viewr.incident.proposed_by" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user.do" data-ref="incident.proposed_by" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Promovido por"></button></span></div></div><div id="element.incident.promoted_by" class="form-group " style=""><div class="" data-type="label" choice="0" type="reference" id="label.incident.promoted_by" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.sys_display.incident.promoted_by" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.promoted_by" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="O usuário que promoveu o incidente a incidente grave" mandatory="false" oclass="read_only" class="read_only "></span><span title="O usuário que promoveu o incidente a incidente grave" class="label-text" data-html="false">Promovido por</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.promoted_by" name="sys_original.incident.promoted_by"></input></div><input style=";" id="incident.promoted_by_label" name="incident.promoted_by_label" aria-labelledby="label.incident.promoted_by" value="" class="form-control disabled" readonly="readonly"></input><input type="hidden" id="incident.promoted_by" name="incident.promoted_by" value="" writeaccess="false"></input><input type="hidden" id="sys_display.incident.promoted_by" name="sys_display.incident.promoted_by" value=""></input><input type="hidden" id="sys_display.original.incident.promoted_by" name="sys_display.original.incident.promoted_by" value=""></input></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"><span name=""><button id="viewr.incident.promoted_by" type="button" name="viewr.incident.promoted_by" title="Visualizar este registro" aria-haspopup="true" style="display: none;" class="btn btn-default btn-ref icon icon-info" data-type="reference_popup" data-table="incident" data-form="sys_user.do" data-ref="incident.promoted_by" data-ref-key="null" data-view="" data-new-window="false" tabindex="-1" aria-label="Visualizar registro de campo: Promovido por"></button></span></div></div></div><div class="vsplit col-sm-6"><div id="element.incident.proposed_on" class="form-group " style="display: none"><div class="" data-type="label" choice="0" type="date_time" id="label.incident.proposed_on" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.incident.proposed_on" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.proposed_on" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="Data e hora em que o incidente foi proposto como um candidato a incidente grave" mandatory="false" oclass="read_only" class="read_only "></span><span title="Data e hora em que o incidente foi proposto como um candidato a incidente grave" class="label-text" data-html="false">Promovido</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.proposed_on" name="sys_original.incident.proposed_on" value=""></input></div><span class="element date-timeago"><span class="input-group static"><p id="incident.proposed_on.timeago" class="form-control-static date-timeago" timeago="" title=""></p><span class="input-group-btn"><button class="btn btn-default" type="button" name="incident.proposed_on.ui_policy_sensitive" id="incident.proposed_on.ui_policy_sensitive" tabindex="-1" data-type="date_time" data-ref="incident.proposed_on" data-now-ux-metrics-event="Select Date and Time" style="display:none;; border-left-width:1px; border-radius: 3px;" title="Selecionar data e hora" aria-label="Selecione data e hora de Promovido" data-date_time_format="dd/MM/yyyy HH:mm:ss"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecione data e hora de Promovido</span></button></span></span></span><div class="element date-calendar date-calendar-display"><input style=";;" class="form-control disabled" id="sys_readonly.incident.proposed_on" value="" readonly="readonly"></input><input type="hidden" id="incident.proposed_on" onchange="onChange('incident.proposed_on');" NAME="incident.proposed_on" value="" writeaccess="false"></input></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div><div id="element.incident.promoted_on" class="form-group " style=""><div class="" data-type="label" choice="0" type="date_time" id="label.incident.promoted_on" noWrap="true"><label onclick="return labelClicked(this);" for="sys_readonly.incident.promoted_on" dir="ltr" class=" col-xs-12 col-md-3 col-lg-4 control-label"><span id="status.incident.promoted_on" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="Data e hora de quando este incidente foi promovido a incidente grave" mandatory="false" oclass="read_only" class="read_only "></span><span title="Data e hora de quando este incidente foi promovido a incidente grave" class="label-text" data-html="false">Promovido</span></label></div><div class="col-xs-10 col-sm-9 col-md-6 col-lg-5 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.promoted_on" name="sys_original.incident.promoted_on" value=""></input></div><span class="element date-timeago"><span class="input-group static"><p id="incident.promoted_on.timeago" class="form-control-static date-timeago" timeago="" title=""></p><span class="input-group-btn"><button class="btn btn-default" type="button" name="incident.promoted_on.ui_policy_sensitive" id="incident.promoted_on.ui_policy_sensitive" tabindex="-1" data-type="date_time" data-ref="incident.promoted_on" data-now-ux-metrics-event="Select Date and Time" style="display:none;; border-left-width:1px; border-radius: 3px;" title="Selecionar data e hora" aria-label="Selecione data e hora de Promovido" data-date_time_format="dd/MM/yyyy HH:mm:ss"><span class="icon icon-calendar" aria-hidden="true"></span><span class="sr-only">Selecione data e hora de Promovido</span></button></span></span></span><div class="element date-calendar date-calendar-display"><input style=";;" class="form-control disabled" id="sys_readonly.incident.promoted_on" value="" readonly="readonly"></input><input type="hidden" id="incident.promoted_on" onchange="onChange('incident.promoted_on');" NAME="incident.promoted_on" value="" writeaccess="false"></input></div></div><div class="col-xs-2 col-sm-3 col-lg-2 form-field-addons"></div></div></div></div><div class="row"><div class="col-xs-12"><div id="element.incident.business_impact" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="string" data-type="label" id="label.incident.business_impact"><label onclick="return labelClicked(this, 'string');" for="incident.business_impact" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.business_impact" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Impacto nos negócios</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><div class="row" id="textarea_sizer.incident.business_impact"><div class="col-sm-12 col-md-12 col-lg-12 col-xs-12"><span class=" label_right pull-right" style=""><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.business_impact');
			}
		);</script></span></div></div><textarea id="incident.business_impact" onChange="this.isFocused=false;multiModified(this);telemetryForRecordUpdate('business_impact');" onKeyDown="multiKeyDown(this);" style=";width:100%;  resize:none; overflow:auto; ; ; " name="incident.business_impact" wrap="soft" specialtype="" data-length="4000" data-charLimit="false" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" class="form-control" aria-required="false" aria-labelledby="label.incident.business_impact" spellcheck="false">
</textarea><input type="hidden" id="sys_original.incident.business_impact" name="sys_original.incident.business_impact" value=""></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.business_impact']) {
											g_form.registerHandler('incident.business_impact', new TextAreaElement('incident.business_impact'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'string';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.business_impact';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script><div id="element.incident.cause" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="string" data-type="label" id="label.incident.cause"><label onclick="return labelClicked(this, 'string');" for="incident.cause" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.cause" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" "></span><span title="" class="label-text" data-html="false">Causa provável</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><div class="row" id="textarea_sizer.incident.cause"><div class="col-sm-12 col-md-12 col-lg-12 col-xs-12"><span class=" label_right pull-right" style=""><script language="javascript">addLoadEvent(
			function() {
				if (window['textareaResize'])
					textareaResize('incident.cause');
			}
		);</script></span></div></div><textarea id="incident.cause" onChange="this.isFocused=false;multiModified(this);telemetryForRecordUpdate('cause');" onKeyDown="multiKeyDown(this);" style=";width:100%;  resize:none; overflow:auto; ; ; " name="incident.cause" wrap="soft" specialtype="" data-length="4000" data-charLimit="false" onfocus="this.isFocused=true;" onblur="this.isFocused=false;" class="form-control" aria-required="false" aria-labelledby="label.incident.cause" spellcheck="false">
</textarea><input type="hidden" id="sys_original.incident.cause" name="sys_original.incident.cause" value=""></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.cause']) {
											g_form.registerHandler('incident.cause', new TextAreaElement('incident.cause'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'string';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.cause';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script></div></div></div></span></span><span class="tabs2_section tabs2_section_6 tabs2_section6 tab_section" data-header-only="false" tab_caption="Relatório Pós-incidente" tab_caption_raw="Post Incident Report" id="section_tab.3e8e73f373b01300cab854eb7df6a748" data-section-id="3e8e73f373b01300cab854eb7df6a748" style="display: none"><span id="section-3e8e73f373b01300cab854eb7df6a748" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="3e8e73f373b01300cab854eb7df6a748" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Relatório Pós-incidente</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="3e8e73f373b01300cab854eb7df6a748" aria-label="Recolher seção: Relatório Pós-incidente" data-aria-label-toggle="Expandir seção: Relatório Pós-incidente" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Relatório Pós-incidente" onclick="hideReveal('3e8e73f373b01300cab854eb7df6a748'); return false;" title="Ocultar / Exibir Relatório Pós-incidente" aria-expanded="true"></button></span></div></div></nav><div id="3e8e73f373b01300cab854eb7df6a748" glide="true" class="section-content with-overflow" role="region" aria-label="Relatório Pós-incidente Seção de formulário"><div class="row"><div class="col-xs-12"><div id="element.incident.overview" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="html" data-type="label" id="label.incident.overview"><label onclick="return labelClicked(this, 'html');" for="sys_readonly.incident.overview" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.overview" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Descrição geral</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><script language="javascript">addLoadEvent(
							function() {
								if (window['textareaResize'])
									textareaResize('sys_readonly.incident.overview');
							}
						);</script><span id="sys_readonly.incident.overview" style="; display:block;;" gsft_fieldtype="html"></span><input type="hidden" id="incident.overview" onchange="onChange('incident.overview');telemetryForRecordUpdate('overview');" name="incident.overview" value="" writeaccess="false" style="display: none"></input><input type="hidden" id="sys_original.incident.overview" name="sys_original.incident.overview" value=""></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.overview']) {
											g_form.registerHandler('incident.overview', new TextAreaElement('incident.overview'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'html';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.overview';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><meta http-equiv="X-UA-Compatible" content="IE=edge"></meta><script type="text/javascript">var tiny_html_editor = true;</script><div id="element.incident.lessons_learned" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="html" data-type="label" id="label.incident.lessons_learned"><label onclick="return labelClicked(this, 'html');" for="sys_readonly.incident.lessons_learned" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.lessons_learned" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Descobertas</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><script language="javascript">addLoadEvent(
							function() {
								if (window['textareaResize'])
									textareaResize('sys_readonly.incident.lessons_learned');
							}
						);</script><span id="sys_readonly.incident.lessons_learned" style="; display:block;;" gsft_fieldtype="html"></span><input type="hidden" id="incident.lessons_learned" onchange="onChange('incident.lessons_learned');telemetryForRecordUpdate('lessons_learned');" name="incident.lessons_learned" value="" writeaccess="false" style="display: none"></input><input type="hidden" id="sys_original.incident.lessons_learned" name="sys_original.incident.lessons_learned" value=""></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.lessons_learned']) {
											g_form.registerHandler('incident.lessons_learned', new TextAreaElement('incident.lessons_learned'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'html';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.lessons_learned';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script><div id="element.incident.timeline" class="form-group " style="" ng-non-bindable=""><div oncontextmenu="return elementAction(this, event)" choice="0" type="html" data-type="label" id="label.incident.timeline"><label onclick="return labelClicked(this, 'html');" for="sys_readonly.incident.timeline" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.timeline" aria-label="Somente leitura - não é possível modificá-lo" role="note" data-dynamic-title="" mandatory="false" oclass="read_only" class="read_only "></span><span title="" class="label-text" data-html="false">Linha do tempo</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls" ng-non-bindable=""><script language="javascript">addLoadEvent(
							function() {
								if (window['textareaResize'])
									textareaResize('sys_readonly.incident.timeline');
							}
						);</script><span id="sys_readonly.incident.timeline" style="; display:block;;" gsft_fieldtype="html"></span><input type="hidden" id="incident.timeline" onchange="onChange('incident.timeline');telemetryForRecordUpdate('timeline');" name="incident.timeline" value="" writeaccess="false" style="display: none"></input><input type="hidden" id="sys_original.incident.timeline" name="sys_original.incident.timeline" value=""></input><script>if (window.TextAreaElement) {
								addRenderEvent(function() {
									if (typeof g_form != "undefined") {
										if(!g_form.elementHandlers['incident.timeline']) {
											g_form.registerHandler('incident.timeline', new TextAreaElement('incident.timeline'));
										}
									}
									//check if now context menu exists for this field.
									var jvar_type = 'html';
									if (jvar_type === 'html' || jvar_type === 'translated_html')
										return;
									var sysId = 'aea9612d87dee2100030cb340cbb35fd';
									var table = 'incident';
									var ref = 'incident.timeline';
									
									var fieldName = '';
									if (ref && ref.split('.').length > 1) {
										fieldName = ref.split(".")[1];
									}
									
									try {
										if(
										NOW.skillConfig &&
										NOW.skillConfig?.formfieldsMapper &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()] &&
										NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName]
									) {
										var WWNA_VARSET_CONFIG_ID = '8c9697d7a38a421075d1d78446fcda50';
										var RESOLUTION_TRIGGER_CONFIG_ID = "ad528f2ac34c1e106546baddd4013174";
										var contextMenuID = table + "_" + sysId + "_" + fieldName + "_wwna";
										var minWordCount = Number(0);
										var isWWNAActiveForField = NOW.skillConfig?.formfieldsMapper[g_form.getTableName()][fieldName];
										if (isWWNAActiveForField === true || isWWNAActiveForField === "true") {
											// render the wwna component.
											// Load the assets on focus, and if its already loaded not load it again.
											var evaluateFn = evaluateNACMConfigs(table, sysId, fieldName, minWordCount);
											var controlElement = g_form.getControl(fieldName);
											evaluateFn.createNACMElement(controlElement, contextMenuID);
											var varsets = NOW.skillConfig?.variable_sets || [];
											
											var triggerVarset = varsets.find(set => set?.config_type === RESOLUTION_TRIGGER_CONFIG_ID)
											var isUserTriggered = triggerVarset && triggerVarset?.props?.user_triggered === "true";

											evaluateFn.setUpHandlers(controlElement, isUserTriggered);
											evaluateFn.renderNowAssistContextMenu(varsets, fieldName);

											var WWNA_EVENTS = {
												INSERT_RECOMMENDATION_CLICKED: 'SN_WWNA#INSERT_RECOMMENDATION_CLICKED'
											};

											CustomEventManager.observe('sn_wwna.insert_recommendation_clicked', function(evt) {
												if (NOW.skillConfig?.formfieldsMapper[g_form.getTableName()]?.activeField != fieldName){
													return;
												}
												var component = gel(contextMenuID);
												var textAreaControl = g_form.getControl(fieldName);
												// format the wwna response to repalce br tags
												var responseValue = formatString(evt.payload.value || '');
												var start = textAreaControl.selectionStart;
												var end = textAreaControl.selectionEnd;
												var placeholderDiv = gel("placeholder_" + contextMenuID);
												if (placeholderDiv) {
											
													placeholderDiv.style.display = 'none';
												}
												textAreaControl.style.display = 'block';
												if (start != end) {
													textAreaControl.value = textAreaControl.value.substring(0, start) + responseValue + textAreaControl.value.substring(end);
													textAreaControl.selectionStart = textAreaControl.selectionEnd = start + responseValue.length;
													

												} else {
													textAreaControl.value = responseValue;
												}

												textAreaControl.focus();
												// add scrolling height
												textAreaControl.style.height = 'auto';
												textAreaControl.style.height = textAreaControl.scrollHeight + 'px';

											});
											// We should ideally dispatch our own customEvent rather than relying on seismic
											document.addEventListener(WWNA_EVENTS.INSERT_RECOMMENDATION_CLICKED, function(e) {
												CustomEventManager.fire('sn_wwna.insert_recommendation_clicked', e.detail);
											}); //end of insert listener.
										}
							
									}  // if end
								  } catch (e) {
										jslog("Exception while evaluating NACM configuration in text area: " + e);
								  }

								});
							}</script></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div><script type="text/javascript">var tiny_html_editor = true;</script></div></div></div></span></span><span class="tabs2_section tabs2_section_7 tabs2_section7 tab_section" data-header-only="false" tab_caption="Tempo Utilizado" tab_caption_raw="Tempo Utilizado" id="section_tab.cef00278dbadc4105eaf6390149619f0" data-section-id="cef00278dbadc4105eaf6390149619f0" style="display: none"><span id="section-cef00278dbadc4105eaf6390149619f0" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="cef00278dbadc4105eaf6390149619f0" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Tempo Utilizado</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="cef00278dbadc4105eaf6390149619f0" aria-label="Recolher seção: Tempo Utilizado" data-aria-label-toggle="Expandir seção: Tempo Utilizado" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Tempo Utilizado" onclick="hideReveal('cef00278dbadc4105eaf6390149619f0'); return false;" title="Ocultar / Exibir Tempo Utilizado" aria-expanded="true"></button></span></div></div></nav><div id="cef00278dbadc4105eaf6390149619f0" glide="true" class="section-content with-overflow" role="region" aria-label="Tempo Utilizado Seção de formulário"><div class="row"><div class="col-xs-12"><div id="element.incident.u_timespent" class="form-group is-required" style=""><div class="" data-type="label" choice="0" type="glide_duration" id="label.incident.u_timespent" noWrap="true"><label onclick="return labelClicked(this);" for="incident.u_timespent" dir="ltr" class=" col-xs-12 col-md-1_5 col-lg-2 control-label"><span id="status.incident.u_timespent" aria-label="" role="note" data-dynamic-title="" mandatory="false" oclass="" class=" required-marker"></span><span title="" class="label-text" data-html="false">Tempo Utilizado</span></label></div><div class="col-xs-10 col-md-9 col-lg-8 form-field input_controls"><div ng-non-bindable="" class="hidden"><input type="hidden" id="sys_original.incident.u_timespent" name="sys_original.incident.u_timespent" value=""></input></div><div class="row"><span id="incident.u_timespent_entry"><div class="col-xs-7 col-sm-12 col-md-12 col-lg-8 "><div class="input-group input-group-3"><span class="input-group-addon"><label for="ni.incident.u_timespentdur_hour">Horas</label></span><input type="text" name="ni.incident.u_timespentdur_hour" data-type="incident.u_timespent_duration_field" id="ni.incident.u_timespentdur_hour" title="Horas" maxlength="" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_timespent"></input><span class="input-group-addon sr-only"><label for="ni.incident.u_timespentdur_min">Minutos</label></span><input type="text" name="ni.incident.u_timespentdur_min" data-type="incident.u_timespent_duration_field" id="ni.incident.u_timespentdur_min" title="Minutos" maxlength="2" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_timespent"></input><span class="input-group-addon sr-only"><label for="ni.incident.u_timespentdur_sec">segundos</label></span><input type="text" name="ni.incident.u_timespentdur_sec" data-type="incident.u_timespent_duration_field" id="ni.incident.u_timespentdur_sec" title="segundos" maxlength="2" class="form-control accessibility_no_tooltip" aria-describedby="label.incident.u_timespent"></input></div></div></span></div><input id="incident.u_timespent" type="hidden" name="incident.u_timespent" data-max-level="3" data-type="duration" data-ref="incident.u_timespent" data-disabled="false" writeaccess="true" value=""></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div></div></span></span><span class="tabs2_section tabs2_section_8 tabs2_section8 tab_section" data-header-only="false" tab_caption="Endpoint Central (Desktop Central)" tab_caption_raw="Endpoint Central (Desktop Central)" id="section_tab.f6608da3db8ab600360eda11cf9619fc" data-section-id="f6608da3db8ab600360eda11cf9619fc" style="display: none"><span id="section-f6608da3db8ab600360eda11cf9619fc" data-header-only="false" class="section "><nav class="navbar navbar-default section_secondary " data-type="section_head" data-id="f6608da3db8ab600360eda11cf9619fc" role="none"><div class="container-fluid"><div class="navbar-header"><h3 class="form_header">Endpoint Central (Desktop Central)</h3></div><div class="navbar-right"><span><button tabindex="0" class="icon-chevron-right btn btn-icon" aria-controls="f6608da3db8ab600360eda11cf9619fc" aria-label="Recolher seção: Endpoint Central (Desktop Central)" data-aria-label-toggle="Expandir seção: Endpoint Central (Desktop Central)" alt="Recolher" data-now-ux-metrics-event="Toggle Form Section" data-section-title="Endpoint Central (Desktop Central)" onclick="hideReveal('f6608da3db8ab600360eda11cf9619fc'); return false;" title="Ocultar / Exibir Endpoint Central (Desktop Central)" aria-expanded="true"></button></span></div></div></nav><div id="f6608da3db8ab600360eda11cf9619fc" glide="true" class="section-content with-overflow" role="region" aria-label="Endpoint Central (Desktop Central) Seção de formulário"><div class="row"><div class="col-xs-12"><div class="custom-form-group is-wide   form-group" sn-atf-whitelist="true" sn-ng-formatter=""><table style="width: 100%;" class="" role="presentation"><div id="incident-swdeployment-div"><link href="1ca0ae93db46b600360eda11cf961927.cssdbx?" rel="stylesheet" type="text/css"></link><script type="text/javascript" src="/x_manen_medc.DCSWDeploy.jsdbx?v=05-22-2025_2350&amp;c=29_523&amp;cache=null&amp;lang=pb"></script><script type="text/javascript" src="/x_manen_medc.DCWebClientUtil.jsdbx?v=05-22-2025_2350&amp;c=29_523&amp;lang=pb"></script><style>.tooltip-text {
        visibility: hidden;
        position: absolute;
        z-index: 2;
        width: 400px;
        color: white;
        font-size: 14px;
        background-color: black;
        border-radius: 5px;
        padding: 5px 0px 5px 0px;
        
      }
      .tooltip-text::before {
        content: "";
        position: absolute;
        transform: rotate(45deg);
        background-color: black;
        padding: 6px;
        z-index: 1;
      }
      .tooltip:hover .tooltip-text {
        visibility: visible;
      }
      .tooltip {
        position: relative;
        background-color: #fff;
        font-size: 15px;
        border-radius: 5px;
        width: 100px;
        height: 30px;
        margin-top: 5px;
        
      }
      #top {
        top: -40px;
        left: -250%;
      }

      #top::before {
        top: 80%;
        left: 70%;
      }</style><div id="Authorize_sd" style="display: block; text-align: center"><img src="not_authorized.png" alt="not Authorize" style="width: 100px; height: 100px; margin-top: 20px"></img><p style="margin-top: 15px"><b>You do not have the permission to perform this action.</b></p><p style="margin-top: 15px">Authorize to utilize Endpoint Central tools like software deployment, remote troubleshooting etc.</p><div style="display: flex; justify-content: center; align-items: center"><button class="tooltip" id="authorize_sd_button" type="button" onclick="authorize(this.id);" style="color: #4f52bd; border-color: #4f52bd; width: auto;"><b style="white-space: nowrap;">Authorize now</b><span class="tooltip-text" id="top">Verify your identity to proceed further</span></button></div><div id="authorize_msg" style="color: red; padding-top: 10px; opacity: 0"></div><script language="javascript" src="x_manen_medc.DCWebClientUtil.jsdbx"></script></div><div id="credentials" style="display: none; padding:10px 30px;"><div style="     padding: 15px 20px 15px 20px;     display: block;     margin-top: 10px;     background: #f7f7f7;     border: 1px solid #e9e9e9;     "><div style="height: 50px; line-height: 1.6">Enter Endpoint Central technician credentials to complete integration.</div><div class="row"><div class="col-xs-12" style="height: 50px"><div class="form-group" style="display: flex"><div class="label_left label_spacing"><label class="control-label" style="text-align: right"><span class="label-text">Username<span style="color: red">*</span></span></label></div><div class="col-xs-10 col-md-9 col-lg-2 form-field input_controls" style="margin-left: 10px;width:20%;"><input type="text" name="ecusername" id="ecusername" style="display: table-cell; width: 100%" value="" autocomplete="off" class="form-control"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div><div class="row"><div class="col-xs-12" style="height: 50px"><div class="form-group" style="display: flex"><div class="label_left label_spacing"><label class="control-label" style="text-align: right"><span class="label-text">Password<span style="color: red">*</span></span></label></div><div class="col-xs-10 col-md-9 col-lg-2 form-field input_controls" style="margin-left: 10px;width:20%;"><input type="password" name="ecpassword" id="ecpassword" style="display: table-cell; width: 100%" value="" autocomplete="off" class="form-control"></input><br></br></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div><div class="row"><div class="col-xs-12" style="height: 50px"><div class="form-group" style="display: flex"><div class="label_left label_spacing"><label class="control-label" style="text-align: right"><span class="label-text">Domain Name<span style="color: red">*</span></span></label></div><div class="col-xs-10 col-md-9 col-lg-2 form-field input_controls" style="margin-left: 10px;width:20%;"><input type="hidden" id="ecauthtype" name="ecauthtype" value="" onchange="; setLightWeightLink('ecauthtype'); $('display_hidden.ecauthtype').value = $('sys_display.ecauthtype').value;"></input><input type="hidden" id="ecauthtypeTABLE" name="ni.ecauthtypeTABLE" value="x_manen_medc_dcdomainauth" onchange=""></input><input type="hidden" id="display_hidden.ecauthtype" name="display_hidden.ecauthtype" value="" onchange=""></input><input type="hidden" id="sys_original.ecauthtype" value=""></input><span class="input-group lightweight-reference inline-form"><input id="sys_display.ecauthtype" title="Domain Name" aria-labelledby="ecauthtype_label" name="sys_display.ecauthtype" class=" form-control" onfocus="if (!this.ac) new AJAXTableCompleter(this, 'ecauthtype', 'null', '', 'x_manen_medc_dcdomainauth');" onkeydown="return acReferenceKeyDown(this, event);" onkeyup="return acReferenceKeyUp(this, event)" onkeypress="return acReferenceKeyPress(this, event)" onpaste="return acReferenceKeyPress(this, event)" autocomplete="off" ac_columns="DomainName" ac_order_by="" sn-atf-data-type="reference" sn-atf-data-type-params="{&quot;reference&quot;:&quot;x_manen_medc_dcdomainauth&quot;,&quot;reference_qual&quot;:&quot;&quot;}" sn-atf-class="builtin:ATF.BaseMacroReference"></input><script>var display = $("sys_display.ecauthtype");
			display.value = $("display_hidden.ecauthtype").value;</script><span class="input-group-btn" sn-atf-blacklist="true"><button id="lookup.ecauthtype" class="icon-search btn btn-default sn-tooltip-basic" title="Pesquisar usando lista" type="button" onclick="mousePositionSave(event);reflistOpen( 'ecauthtype', 'not', gel('ecauthtypeTABLE').value, '', 'false', '', '', '')"><span class="sr-only">Pesquisar usando lista</span></button><button class="icon-info btn btn-default" id="ecauthtypeLINKreplace" onclick="popLightWeightReferenceDiv(event, 'ecauthtype', false);" title="Visualizar este registro" type="button" style="display: none" data-new-window="false"><span class="sr-only">Visualizar este registro</span></button></span></span><br></br></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div></div><div id="credErrorMsg" style="display: none; color: #f00; padding: 10px 10px 0px 0px"><img src="36x36_error.png" style="float: left; padding-right: 5px" width="20px" height="16px"></img><div id="credErrorMsgDesc" style="font-size: 14px"></div></div><div id="buttons" style="padding-top: 10px; display: flex;"><input type="button" value="Submit" onclick="onSubmitLocalAuth(this.id);" class="btn btn-success" id="credSubmitButton"></input><input type="button" value="Cancel" class="btn btn-outline-dark" style="margin-left: 15px" id="cancelButton" onclick="onCancelLocalAuth(this.id);"></input><img id="ecloadImg" style="display: none; margin-left: 20px;" src="load.gif" width="27" height="27"></img></div></div><div id="otpForm" style="display: none; padding: 10px 30px"><div style="     padding: 15px 20px 15px 20px;     margin-top: 10px;     background: #f7f7f7;     border: 1px solid #e9e9e9;     display: block;     "><h5><div style="height: 50px; line-height: 1.6">Please provide the OTP sent to your mail or google authenticator.</div></h5><div class="row"><div class="col-xs-12" style="height: 50px"><div class="form-group" style="display: flex"><div class="label_left label_spacing"><label class="control-label" style="text-align: right"><span class="label-text">One Time Password<span style="color: red">*</span></span></label></div><div class="col-xs-10 col-md-9 col-lg-2 form-field input_controls" style="margin-left: 10px;width:20%;"><input type="text" name="otpInput" id="otpInput" style="display: table-cell; width: 100%" value="" autocomplete="off" class="form-control"></input></div><div class="col-xs-2 col-md-1_5 col-lg-2 form-field-addons"></div></div></div></div></div><div id="otpErrorMsg" style="display: none; color: #f00; padding: 10px 10px 0px 0px"><img src="36x36_error.png" style="float: left; padding-right: 5px" width="20px" height="16px"></img><div id="otpErrorMsgDesc" style="font-size: 14px"></div></div><div id="buttons" style="padding-top: 10px"><input type="button" value="Submit" onclick="validateOTP(this.id);" class="btn btn-success" id="otpSubmitButton"></input><input type="button" value="Cancel" class="btn btn-light" style="margin-left: 15px" id="otpCancelButton" onclick="onCancelLocalAuth(this.id);"></input><img id="otpLoadImg" style="display: none; margin-left: 20px;" src="load.gif" width="27" height="27"></img></div></div></div></table></div></div></div></div></span></span><div class="form_action_button_container"><script>var messages = new GwtMessage();</script><button class="form_action_button  action_context btn btn-default" style="white-space: nowrap" type="submit" value="2e15170ddb6a2f002f121c61149619b8" onClick="var redirect_to_catalog=window.redirect_to_catalog;internalServiceIt();;return false;" data-now-ux-metrics-event="Click Form Action" id="redirect_to_catalog_bottom" data-action-name="redirect_to_catalog" gsft_id="2e15170ddb6a2f002f121c61149619b8">Catálogos de Serviço</button><script>addLoadEvent(function() {
							var internalServiceIt = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function internalServiceIt(){
	var number = g_form.getValue('number');
	var canRedirect = confirm("Você deseja relacionar o incidente " + number + 
							  " a uma nova solicitação?");
	if(canRedirect){
		if(g_form.getValue('assigned_to') == ''){
			g_form.addErrorMessage('O campo "Atribuído a" deve ser preenchido.');
			return;
		}else{
			gsftSubmit(null, g_form.getFormElement(), 'redirect_to_catalog');
		}
	}
}

if(typeof window == 'undefined')
   redirectToCatalog();

function redirectToCatalog(){
	var url = "catalogs_home.do?sysparm_view=catalogs_default";
	
	var session = gs.getSession();
	session.putClientData('alpParentRecord', current.sys_id);
	session.putClientData('alpParentRecordNumber', current.number);
	current.update();
	//action.setRedirectURL('/home.do');
	action.setRedirectURL(url);
}

 return internalServiceIt.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
							window.internalServiceIt = internalServiceIt;
							});</script><button class="form_action_button  action_context btn btn-primary" style="white-space: nowrap" type="submit" title="Salvar registro e permanecer aqui" value="sysverb_update_and_stay" onClick="return gsftSubmit(this);" id="sysverb_update_and_stay_bottom" data-action-name="sysverb_update_and_stay" data-now-ux-metrics-event="Click Form Action" gsft_id="47fd7f4dc0a8000600a552278b5232ab" name="not_important">Salvar</button></div><input type="HIDDEN" id="sysparm_encoded_record" name="sysparm_encoded_record" value=""></input><script data-comment="scratchpad, CSRF, readOnlyFields">var g_scratchpad = JSON.parse('{\"browserSupported\":true,\"incidentReason\":\"{\\\"AWAITING_CALLER\\\":\\\"1\\\",\\\"AWAITING_CHANGE\\\":\\\"5\\\",\\\"AWAITING_EVIDENCE\\\":\\\"1\\\",\\\"AWAITING_PROBLEM\\\":\\\"3\\\",\\\"AWAITING_VENDOR\\\":\\\"4\\\"}\",\"incidentState\":\"{\\\"ACTIVE\\\":\\\"2\\\",\\\"AWAITING_EVIDENCE\\\":\\\"3\\\",\\\"AWAITING_PROBLEM\\\":\\\"3\\\",\\\"AWAITING_USER_INFO\\\":\\\"3\\\",\\\"CANCELED\\\":\\\"8\\\",\\\"CLOSED\\\":\\\"7\\\",\\\"IN_PROGRESS\\\":\\\"2\\\",\\\"NEW\\\":\\\"1\\\",\\\"ON_HOLD\\\":\\\"3\\\",\\\"RESOLVED\\\":\\\"6\\\"}\",\"isNewUI\":true}');addRenderEvent(function() {
					g_form.addSecurityReadOnlyFields('incident.u_solicitante_ibm,incident.u_catalog_item,incident.u_service,incident.u_category,incident.u_subcategory,incident.u_symptom,incident.sys_created_on,incident.opened_by,incident.company,incident.resolved_by,incident.resolved_at,incident.major_incident_state,incident.proposed_by,incident.promoted_by,incident.proposed_on,incident.promoted_on,incident.overview,incident.lessons_learned,incident.timeline,');
				});

				// update CSRF token for form
				CustomEvent.observe("ck_updated", function(ck) {
					$j('input[name=sysparm_ck]').val(ck);
				});</script><SCRIPT data-comment="client script">if (!window['g_form'])
 window.g_form = new GlideForm('incident',true,true,true,true);

 g_form.setScope('global');

addTopRenderEvent( function() { 
var thisForm = gel('incident.do');
g_form.addAttribute('contextual_security');
addOnSubmitEvent(thisForm, default_on_submit);
});


 var glideUIElement = newGlideUIElement('incident', 'promoted_by', 'reference',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'parent', 'reference',false, 'task',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_data_faturamento', 'glide_date',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'watch_list', 'glide_list',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'caused_by', 'reference',false, 'change_request',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'promoted_on', 'glide_date_time',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_catalog_item', 'reference',false, 'sc_cat_item_producer',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'hold_reason', 'integer',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_type_of_symptom', 'reference',false, 'u_cmdb_ci_catalog_symptom_types',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'number', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'proposed_by', 'reference',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_status_desenvolvimento', 'integer',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'resolved_by', 'reference',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'opened_by', 'reference',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'sys_created_on', 'glide_date_time',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'lessons_learned', 'html',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'proposed_on', 'glide_date_time',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_estimativa_horas', 'glide_duration',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'actions_taken', 'journal_input',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'state', 'integer',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'knowledge', 'boolean',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_subcategory', 'reference',false, 'u_cmdb_ci_catalog_subcategory',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'cmdb_ci', 'reference',false, 'cmdb_ci',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'impact', 'integer',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'work_notes_list', 'glide_list',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'business_service', 'reference',false, 'cmdb_ci_service',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'priority', 'integer',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'business_impact', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_symptom', 'reference',false, 'u_cmdb_ci_catalog_occurrence',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'rfc', 'reference',false, 'change_request',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'caller_id', 'reference',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'resolved_at', 'glide_date_time',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_diagnosis', 'reference',false, 'u_cmdb_ci_catalog_diagnosis',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'work_notes', 'journal_input',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_solicitante_ibm', 'reference',false, 'u_suppliers',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'major_incident_state', 'string',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'short_description', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'close_code', 'string',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'assignment_group', 'reference',false, 'sys_user_group',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'description', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'cause', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_correlation_number', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'close_notes', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'parent_incident', 'reference',false, 'incident',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'contact_type', 'string',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'urgency', 'integer',false, 'null',null, 'global', true, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'problem_id', 'reference',false, 'problem',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_data_alvo', 'glide_date',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'company', 'reference',false, 'core_company',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'assigned_to', 'reference',false, 'sys_user',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'overview', 'html',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'comments', 'journal_input',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'due_date', 'glide_date_time',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_frente', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_category', 'reference',false, 'u_cmdb_ci_catalog_category',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_service', 'reference',false, 'u_cmdb_ci_catalog_service',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 glideUIElement.referenceKey = 'sys_id';
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_root_cause', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'correlation_id', 'string',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'timeline', 'html',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = false;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);
 var glideUIElement = newGlideUIElement('incident', 'u_timespent', 'glide_duration',false, 'null',null, 'global', false, false);
 glideUIElement.isInherited = true;
 glideUIElement.supportsMapping = false;
 g_form.addGlideUIElement(glideUIElement);function validate_integer(value) { 
    if(!containsOnlyChars( g_user_grouping_separator + " 0123456789-", value))
        return new GwtMessage().getMessage("Invalid integer");
    return true;
}
 g_form.addValidator('integer', validate_integer);function validate_glide_date_time(value) {
    // empty fields are still valid dates
    if(!value)
        return true;

    // We "should" have the global date format defined always defined. but there's always that edge case...
    if(typeof g_user_date_time_format !== 'undefined')
        return isDate(value, g_user_date_time_format) ? true : new GwtMessage().getMessage("Invalid Date: {0}. Must be a valid date in the format {1}", value, g_user_date_time_format);

    // if we don't have that defined, we can always try guessing
    return parseDate(value) !== null ? true : getMessage("Invalid Date");
	
} 
 g_form.addValidator('glide_date_time', validate_glide_date_time);function validate_glide_date(value) {
	//Fix for DEF0197478

    // empty fields are still valid dates
    if (!value)
        return true;
    // Default case: we have global g_user_date_format defined
	if (typeof g_user_date_format !== 'undefined') {
		//yyyy-MM-dd should be valid if the sys_property is yyyy-MM-dd HH:mm:ss
		//yyyy-MM-dd HH:mm:ss should be valid if the sys_property is yyyy-MM-dd
		var newValue = value + ' 00:00:00';
		var dateFormatOk = (g_user_date_time_format !== 'undefined') ? isDate(value, g_user_date_time_format) : false;
		return isDate(value, g_user_date_format) ||
			isDate(newValue, g_user_date_format) ||
			dateFormatOk ||
			getMessage("Invalid Date");
	}
	   // Edge case: we can always try guessing if g_user_date_format is not defined
    return parseDate(value) !== null || getMessage("Invalid Date");

}
 g_form.addValidator('glide_date', validate_glide_date);</SCRIPT><script data-comment="GlideUser initialization">
		addTopRenderEvent( function() {
			// user may have already been created
			if (!window.g_user) {
				window.g_user = new GlideUser('TR057043', 
					  'Marcelo',
					  'Marfim',
					  'sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil',
					  '34641827876d1ed410de85580cbb3506',
					  '8042535e1bdb70903b420e50f54bcbbf');
				window.g_user.setRoles('sn_request_read,sn_gd_guidance.guidance_user,sn_problem_read,template_editor,sn_incident_write,sn_publications_recipients_user,viz_creator,app_service_user,sn_change_write,cmdb_ms_user,timecard_user,workspace_user,cmdb_query_builder_read,sn_request_approver_read,sn_cmdb_user,sn_change_read,sn_incident_read,sn_comm_management.comm_plan_viewer,email_client_template_read,sn_nb_action.next_best_action_user,sn_sow.sow_user,contact_user,snc_platform_rest_api_access,snc_internal,survey_reader,sn_sttrm_condition_read,task_editor,cmdb_query_builder,sn_request_write,email_composer,certification,agent_workspace_user,canvas_user,sn_publications_recipients_list_user,template_read_global,interaction_agent,sn_problem_write,data_manager_user,sn_bm_client.benchmark_data_viewer,tracked_file_reader,view_changer,cmdb_read,dependency_views,itil', true);
			}
		    window.g_user.setClientData('80e9a76e1b1286900a4cfc4e4b4bcbc5', 'true');
		    // We want to preload all useful client preferences that will be used by the UI. At the moment
		    // we have to do this manually, but this should be replaced by a dynamic list.
		    window.g_user.setPreference('glide.ui.accessibility', 'false');
		});
	</script><SCRIPT data-comment="submit and load">
addRenderEvent( function() { var thisForm = document.getElementById('incident.do');var onSubmit25c354753b96e61015086e9985e45a73 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onSubmit25c354753b96e61015086e9985e45a73() {
	   
   var correlationId = g_form.getValue('correlation_id');
   var action = g_form.getActionName();  

	if(correlationId != "" && correlationId.length==16 && action=="ceef3983db940c505b43b11ba396194a")
		{
			var conf = confirm('Já existe um chamado criado na Stefanini. Deseja criar outro?');
			if(!conf)
				return false;
		}


}


 return onSubmit25c354753b96e61015086e9985e45a73.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
addOnSubmitEvent(thisForm, onSubmit25c354753b96e61015086e9985e45a73,'onSubmit25c354753b96e61015086e9985e45a73');
});
g_event_handlers_onSubmit['onSubmit25c354753b96e61015086e9985e45a73'] = 'RAI: Check new OTRS Issue';
g_event_handler_ids['onSubmit25c354753b96e61015086e9985e45a73'] = '63016630dba988145b43b11ba396196f';

addRenderEvent( function() { var thisForm = document.getElementById('incident.do');function onSubmit65c354753b96e61015086e9985e45a73() {
   var action = g_form.getActionName();
   if (action != 'close_incident' && action != 'resolve_incident')
      return;
   if (!g_form.hasField('close_notes') || !g_form.hasField('close_code'))
      return;
   var state = '6';
   if (action == 'close_incident') {
     state = '7';
     if (typeof global_var_choice_display_values !== 'undefined') {
       if (global_var_choice_display_values.incident_state)
         g_form.addOption('incident_state', state, global_var_choice_display_values.incident_state);
       if (global_var_choice_display_values.state)
         g_form.addOption('state', state, global_var_choice_display_values.state);
     }
   }
   g_form.setValue('incident_state', state);
   g_form.setValue('state', state);
   g_form.setDisplay('close_notes', true);
   g_form.setMandatory('close_notes', true);
   g_form.setDisplay('close_code', true);
   g_form.setMandatory('close_code', true);
   if (g_form.getValue('close_notes') == '' || g_form.getValue('close_code') == '')
      return false;
}

addOnSubmitEvent(thisForm, onSubmit65c354753b96e61015086e9985e45a73,'onSubmit65c354753b96e61015086e9985e45a73');
});
g_event_handlers_onSubmit['onSubmit65c354753b96e61015086e9985e45a73'] = '(BP) Close Mandatory on Close or Resolve';
g_event_handler_ids['onSubmit65c354753b96e61015086e9985e45a73'] = '5f254623c0a8016600c9b86f18b348f0';

g_event_handlers_onLoad['onLoad_29c354753b96e61015086e9985e45a73'] = 'ShowConfirmUpdateDialog';
g_event_handler_ids['onLoad_29c354753b96e61015086e9985e45a73'] = 'e82b810a439502106cd5da04aab8f26a';
function onLoad_29c354753b96e61015086e9985e45a73() {}
function showDialogForRiskyFiles() {
    var dialogClass = window.GlideModal ? GlideModal : GlideDialogWindow;
    var dlg = new dialogClass('risky_file_update_confirm');
    dlg.setTitle(new GwtMessage().getMessage('File Customizations'));
    dlg.setWidth(575);
    dlg.render();
}

addRenderEventLogged(onLoad_29c354753b96e61015086e9985e45a73, 'onLoad ShowConfirmUpdateDialog','onLoad_29c354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_69c354753b96e61015086e9985e45a73'] = 'Hide related lists';
g_event_handler_ids['onLoad_69c354753b96e61015086e9985e45a73'] = '3c4e328fc31102004e44dccdf3d3aee9';
function onLoad_69c354753b96e61015086e9985e45a73() {
	if (g_scratchpad.browserSupported && g_scratchpad.isNewUI)
		g_form.hideRelatedList("REL:8f576281c3100200e280dccdf3d3aed8");
}

addRenderEventLogged(onLoad_69c354753b96e61015086e9985e45a73, 'onLoad Hide related lists','onLoad_69c354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_a9c354753b96e61015086e9985e45a73'] = 'ALP: Remove reason Key-Owner / Change';
g_event_handler_ids['onLoad_a9c354753b96e61015086e9985e45a73'] = '96cc0816db1500905b43b11ba3961991';
addRenderEventLogged(function() {
var onLoad_a9c354753b96e61015086e9985e45a73 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_a9c354753b96e61015086e9985e45a73() {
   
	if(g_form.getValue("hold_reason") != 5){
		g_form.removeOption("hold_reason", 5);
	}
	else if(g_form.getValue("hold_reason") != 6){
		g_form.removeOption("hold_reason", 6);
	}
	else if(g_form.getValue("hold_reason") != 7){
		g_form.removeOption("hold_reason", 7);
	}
   
}

 return onLoad_a9c354753b96e61015086e9985e45a73.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
onLoad_a9c354753b96e61015086e9985e45a73();
},'ALP: Remove reason Key-Owner / Change','onLoad_a9c354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_e9c354753b96e61015086e9985e45a73'] = '(BP) Hide Close Notes and Code';
g_event_handler_ids['onLoad_e9c354753b96e61015086e9985e45a73'] = '5f322592c0a801660058515b2c2074e2';
function onLoad_e9c354753b96e61015086e9985e45a73() {
	var incidentState = JSON.parse(g_scratchpad.incidentState);
	var mandatory = false;
	if (g_form.hasField('incident_state')) {
		var incident_state = g_form.getValue('incident_state');
		mandatory = incident_state == incidentState.RESOLVED || incident_state == incidentState.CLOSED;
	}
	if (g_form.hasField('state')) {
		var state = g_form.getValue('state');
		mandatory = state == incidentState.RESOLVED || state == incidentState.CLOSED;
	}
	g_form.setMandatory('close_notes', mandatory);
	g_form.setMandatory('close_code', mandatory);
}

addRenderEventLogged(onLoad_e9c354753b96e61015086e9985e45a73, 'onLoad (BP) Hide Close Notes and Code','onLoad_e9c354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_2dc354753b96e61015086e9985e45a73'] = '(BP) Hide Attachment Link when Closed';
g_event_handler_ids['onLoad_2dc354753b96e61015086e9985e45a73'] = '5601ea5f0a0a0b4b0055644e71c28968';
function onLoad_2dc354753b96e61015086e9985e45a73() {
   if (g_form.getValue('incident_state') == '7' || g_form.getValue('state') == '7')
      g_form.disableAttachments();
}

addRenderEventLogged(onLoad_2dc354753b96e61015086e9985e45a73, 'onLoad (BP) Hide Attachment Link when Closed','onLoad_2dc354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_6dc354753b96e61015086e9985e45a73'] = '(BP) Hide Choice - Closed';
g_event_handler_ids['onLoad_6dc354753b96e61015086e9985e45a73'] = '38c58af84657628200aeb11d8295f42c';
function onLoad_6dc354753b96e61015086e9985e45a73() {
var item = g_form.getReference('u_catalog_item', hideStates);
function hideStates(item) {
        var stateValue = g_form.getValue('state');
if (item.sc_catalogs == 'b1f2296bdbf89c105eaf6390149619e0') {
        } else {
            if (g_user.hasRole('itil_admin'))
                return;
            if (g_form.getValue('incident_state') != '7')
                g_form.removeOption('incident_state', 7);
            if (g_form.getValue('state') != '7')
                g_form.removeOption('state', 7);
        }
    }
}

addRenderEventLogged(onLoad_6dc354753b96e61015086e9985e45a73, 'onLoad (BP) Hide Choice - Closed','onLoad_6dc354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_adc354753b96e61015086e9985e45a73'] = 'CreateChildIncident';
g_event_handler_ids['onLoad_adc354753b96e61015086e9985e45a73'] = '10d1fe0a531332000600e26b88dc34ee';
function onLoad_adc354753b96e61015086e9985e45a73() {
	NOW._createChildIncident = function(srcSysId){
		var ga = new GlideAjax('IncidentUtils2');
		ga.addParam('sysparm_name', 'getIncidentQueryParams');
		ga.addParam('sysparm_src_sysid', srcSysId);
		ga.addParam('sysparm_ui_action', "create_child_incident");
		ga.setWantSessionMessages(true);
		ga.getXMLAnswer(function(queryParam){
			if (queryParam) {
				var ck;
				if (typeof g_ck != 'undefined' && g_ck != "")
					ck = g_ck;
				var gotoUrl = [];
				gotoUrl.push('srcSysID=' + srcSysId);
				gotoUrl.push('newSysID=$sys_id');
				gotoUrl.push('sysparm_returned_action=$action');
				if (ck)
					gotoUrl.push('sysparm_ck=' + ck);
				gotoUrl = 'CopyIncidentRelatedLists.do?' + gotoUrl.join('&');
				var form = cel('form', document.body);
				hide(form);
				form.method = "POST";
				form.action = "incident.do";
				if (ck)
					_addParam(form, 'sysparm_ck', g_ck);
				_addParam(form, 'sys_id', '-1');
				_addParam(form, 'sysparm_query', queryParam);
				_addParam(form, 'sysparm_goto_url', gotoUrl);
				form.submit();
				}else{
					g_form.addErrorMessage("Failed to create child incident");
				}
		});
	};
	function _addParam(form, name, val) {
		var inp = cel('textarea', form);
		inp.name = name;
		inp.value = val;
	}
}

addRenderEventLogged(onLoad_adc354753b96e61015086e9985e45a73, 'onLoad CreateChildIncident','onLoad_adc354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_edc354753b96e61015086e9985e45a73'] = 'ShowOrHideIncidentMacro';
g_event_handler_ids['onLoad_edc354753b96e61015086e9985e45a73'] = '07ec1a13db46b600360eda11cf961922';
addRenderEventLogged(function() {
var onLoad_edc354753b96e61015086e9985e45a73 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_edc354753b96e61015086e9985e45a73() {
	var ga = new GlideAjax('DCIntegrationUtil');
	ga.addParam('sysparm_name','isUserMappedWithDC');
	ga.getXML(showOrHideDC);
	
	function showOrHideDC(response) {
		var answer = response.responseXML.documentElement.getAttribute('answer');
		if(answer == 'true'){
			g_form.setSectionDisplay('desktop_central', true);
		}
		else{
			g_form.setSectionDisplay('desktop_central',false);
		}
	}
}

 return onLoad_edc354753b96e61015086e9985e45a73.bind(null)})(ScopedGlideAjaxGenerator("x_manen_medc"),ScopedGFormGenerator("x_manen_medc"),ScopedGlideDialogWindowGenerator("x_manen_medc"),null,null,null,null,null,null,null,null,null);
onLoad_edc354753b96e61015086e9985e45a73();
},'ShowOrHideIncidentMacro','onLoad_edc354753b96e61015086e9985e45a73');



g_event_handlers_onLoad['onLoad_21c354753b96e61015086e9985e45a74'] = 'ALP: Remove Closed / Cancel State';
g_event_handler_ids['onLoad_21c354753b96e61015086e9985e45a74'] = 'e42536d0db4480905b43b11ba3961927';
addRenderEventLogged(function() {
var onLoad_21c354753b96e61015086e9985e45a74 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_21c354753b96e61015086e9985e45a74() {
var item = g_form.getReference('u_catalog_item', hideStates);
function hideStates(item) {
        var stateValue = g_form.getValue('state');
if (item.sc_catalogs == 'b1f2296bdbf89c105eaf6390149619e0') {
        } else {
            if (g_form.getValue("state") != 7 && g_form.getValue("state") != 8) {
                g_form.removeOption("state", 7);
                g_form.removeOption("state", 8);
            }
        }
    }
}

 return onLoad_21c354753b96e61015086e9985e45a74.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
onLoad_21c354753b96e61015086e9985e45a74();
},'ALP: Remove Closed / Cancel State','onLoad_21c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_61c354753b96e61015086e9985e45a74'] = 'ALP: Attachment Limit for SOC';
g_event_handler_ids['onLoad_61c354753b96e61015086e9985e45a74'] = 'c7f807ea1b4028d09a3c86afe54bcb3e';
addRenderEventLogged(function() {
var onLoad_61c354753b96e61015086e9985e45a74 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_61c354753b96e61015086e9985e45a74() {
	var ga = new GlideAjax('RemedyAjaxHelper');
	ga.addParam('sysparm_name', 'getPropertyId');
	ga.getXML(getProperty);
	function getProperty(response) {
		var answer =  response.responseXML.documentElement.getAttribute('answer');
		answer = JSON.parse(answer); 
if(g_form.getValue('u_catalog_item') == answer.producerId) {
			g_form.addInfoMessage('Por favor enviar anexos de até 15mb');
		}
	}
}

 return onLoad_61c354753b96e61015086e9985e45a74.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
onLoad_61c354753b96e61015086e9985e45a74();
},'ALP: Attachment Limit for SOC','onLoad_61c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_a1c354753b96e61015086e9985e45a74'] = 'Motivo para estar em espera CIA/GovOp';
g_event_handler_ids['onLoad_a1c354753b96e61015086e9985e45a74'] = 'c0580da11b061c509a3c86afe54bcb6b';
addRenderEventLogged(function() {
var onLoad_a1c354753b96e61015086e9985e45a74 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_a1c354753b96e61015086e9985e45a74() {
    var item = g_form.getReference("u_catalog_item", callbackFunction);
    function callbackFunction(item) {
        var optionsToRemove = [];
        if (item.sys_id != 'aad5a209db011c50d0fecf24149619bd') {
            optionsToRemove.push(8, 9, 10, 11, 12, 13);
			
        }if (item.sys_id != '134e3181db0dd850d0fecf2414961980') {
            optionsToRemove.push(8, 9, 14, 15, 16, 17);
        }
        for (var i = 0; i < optionsToRemove.length; i++) {
            g_form.removeOption("hold_reason", optionsToRemove[i]);
        }
    }
}

 return onLoad_a1c354753b96e61015086e9985e45a74.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
onLoad_a1c354753b96e61015086e9985e45a74();
},'Motivo para estar em espera CIA/GovOp','onLoad_a1c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_e1c354753b96e61015086e9985e45a74'] = 'Close Code CIA/GovOp';
g_event_handler_ids['onLoad_e1c354753b96e61015086e9985e45a74'] = 'aa14b48f1b31581056cf0d8fe54bcb79';
function onLoad_e1c354753b96e61015086e9985e45a74() {
var item = g_form.getReference('u_catalog_item', closeCode);
	
function closeCode(item) {
        var ga = new GlideAjax('IncidentUtilsAjax');
        ga.addParam('sysparm_name', 'hideCloseCode');
        ga.addParam('sysparm_catalog', item.sc_catalogs);
		
        if (item.sys_id == 'aad5a209db011c50d0fecf24149619bd' && g_form.getValue('category') == 'indicators') { 
            ga.addParam('sysparm_close_code', 'incorrect_opening,updated_outside_sending_time_tolerance,folder_not_synchronized_with_rpa_team,slowness_in_wpp_disconnection,change_in_id_nomenclature,rpa_not_in_group,pbi_did_not_load_current_information,failure_in_solinftec_update,failure_in_dweab_update,others');
} else if (item.sc_catalogs == 'b1f2296bdbf89c105eaf6390149619e0' && item.sys_id != 'aad5a209db011c50d0fecf24149619bd'){
            ga.addParam('sysparm_close_code', 'incorrect_opening_lack_of_evidence,pdf_misconfigured,pbi_did_not_load_current_information,panel_adjusted,others');
		} else
            ga.addParam('sysparm_close_code', 'incorrect_opening,updated_outside_sending_time_tolerance,folder_not_synchronized_with_rpa_team,slowness_in_wpp_disconnection,change_in_id_nomenclature,rpa_not_in_group,pbi_did_not_load_current_information,failure_in_solinftec_update,failure_in_dweab_update,others,incorrect_opening_lack_of_evidence,pdf_misconfigured,pbi_did_not_load_current_information,panel_adjusted');
        ga.getXMLAnswer(returnCloseCode);
    }
}
function returnCloseCode(answer) {
    var arrAnswer = [];
    arrAnswer = answer.split(',');
    for (var i = 0; i < arrAnswer.length; i++)
        g_form.removeOption('close_code', arrAnswer[i]);
}

addRenderEventLogged(onLoad_e1c354753b96e61015086e9985e45a74, 'onLoad Close Code CIA/GovOp','onLoad_e1c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_25c354753b96e61015086e9985e45a74'] = 'Variable Editor Readonly';
g_event_handler_ids['onLoad_25c354753b96e61015086e9985e45a74'] = '6e63304f1b31581056cf0d8fe54bcbd6';
function onLoad_25c354753b96e61015086e9985e45a74() {
var item = g_form.getReference('u_catalog_item', variableReadOnly);
function variableReadOnly(item) {
        if (item.sc_catalogs == 'b1f2296bdbf89c105eaf6390149619e0') { 
            g_form.setVariablesReadOnly(true);
        }
        if (item.sys_id == 'fd681f3f1bf4e4109a3c86afe54bcb7d') {
            var fields = [
                'quantidade_de_cargas_total',
                'quantidade_de_cargas_questionadas',
                'quantidade_de_cargas_com_desvio_confirmadas_operacional',
                'quantidade_de_cargas_com_desvio_confirmadas_tecnologico',
                'quantidade_de_cargas_inviaveis_de_analise'
            ];
            fields.forEach(function(field) {
                g_form.setReadOnly(field, false);
            });
        }
    }
}

addRenderEventLogged(onLoad_25c354753b96e61015086e9985e45a74, 'onLoad Variable Editor Readonly','onLoad_25c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_65c354753b96e61015086e9985e45a74'] = 'STF: Show Message Upload Files';
g_event_handler_ids['onLoad_65c354753b96e61015086e9985e45a74'] = 'f79936471b8f0550f61c0dcbe54bcb81';
addRenderEventLogged(function() {
var onLoad_65c354753b96e61015086e9985e45a74 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onLoad_65c354753b96e61015086e9985e45a74() {
	g_form.addInfoMessage(getMessage('Attention: rename the attachment by adding the text _ITIL for exclusive viewing by service analysts.'));
}

 return onLoad_65c354753b96e61015086e9985e45a74.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
onLoad_65c354753b96e61015086e9985e45a74();
},'STF: Show Message Upload Files','onLoad_65c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_a5c354753b96e61015086e9985e45a74'] = 'calcReturn';
g_event_handler_ids['onLoad_a5c354753b96e61015086e9985e45a74'] = '2bf56855a9fe156100d09e8a53b63ea9';
function onLoad_a5c354753b96e61015086e9985e45a74() {
}

function calcReturn0(response, args) {
   var answer = response.responseXML.documentElement.getAttribute("answer");
   var array = new Array();
   array.push(args);
   calcReturn(answer, response, array);
}

function calcReturn(answer, response, args) {
   var controlName = args[0];
   var myControl = g_form.getControl(controlName);
   var label = "nolabel";
   var value = answer
   if (answer && answer.indexOf("|") > -1) {
      var parts = answer.split("|");
      value = parts[0];
      label = parts[1];
   }
   g_form.setValue(controlName, value, label);
}

addRenderEventLogged(onLoad_a5c354753b96e61015086e9985e45a74, 'onLoad calcReturn','onLoad_a5c354753b96e61015086e9985e45a74');



g_event_handlers_onLoad['onLoad_e5c354753b96e61015086e9985e45a74'] = 'Modify Comments Label';
g_event_handler_ids['onLoad_e5c354753b96e61015086e9985e45a74'] = '8e3c775a0a0a3c74010bedda85570a82';
function onLoad_e5c354753b96e61015086e9985e45a74() {
	if (!g_user.hasRole("itil"))
		return;
	if (!g_form.hasField('comments'))
		return;
	var labelText = g_form.getLabelOf('comments');
	if (labelText.substring(labelText.length-1) == ':')
		labelText = labelText.substring(0, labelText.length -1);
	labelText += new GwtMessage().getMessage(' (Customer visible)');
	g_form.setLabelOf('comments', labelText);
}

addRenderEventLogged(onLoad_e5c354753b96e61015086e9985e45a74, 'onLoad Modify Comments Label','onLoad_e5c354753b96e61015086e9985e45a74');


var messages = new GwtMessage();messages.set('Customer visible', 'Visível ao cliente');
</SCRIPT><SCRIPT data-comment="onChange">
addRenderEvent( function() { var onChange_incident_assignment_group_0 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_assignment_group_0(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '' || g_form.isNewRecord())
		return;
	else if (oldValue == '')
		g_form.setMandatory("work_notes", false);
	else if (newValue == oldValue)
		g_form.setMandatory("work_notes", false);
	else
		g_form.setMandatory("work_notes", true);
}

 return onChange_incident_assignment_group_0.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.assignment_group');var thisHandler = new GlideEventHandler('onChange_incident_assignment_group_0',onChange_incident_assignment_group_0, 'incident.assignment_group');g_event_handlers_onChange['onChange_incident_assignment_group_0'] = 'Worknotes mandatory onChange of Group';g_event_handler_ids['onChange_incident_assignment_group_0'] = '1e6908a3dbd1c0105eaf63901496194f';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_subcategory_1 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_subcategory_1(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	g_form.clearValue("u_symptom");
	
	var ga = new GlideAjax("CatalogServiceUtilsAjax");
	ga.addParam("sysparm_name", "filterOccurrenceBySubCategory");
	ga.addParam("sysparm_subcategory", newValue);	
	ga.addParam("sysparm_service", g_form.getValue("u_service"));
	ga.addParam("sysparm_task_type", "u_incident");
	ga.getXML(function(response)
	{
		var answer = response.responseXML.documentElement.getAttribute("answer");
		if(answer.split("sys_idIN")[1]){
			g_form.setMandatory("u_symptom", true);
			g_form.setVisible("u_symptom", true);
		}else{
			g_form.setMandatory("u_symptom", false);
			g_form.setVisible("u_symptom", false);
		}
	});
}

 return onChange_incident_u_subcategory_1.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_subcategory');var thisHandler = new GlideEventHandler('onChange_incident_u_subcategory_1',onChange_incident_u_subcategory_1, 'incident.u_subcategory');g_event_handlers_onChange['onChange_incident_u_subcategory_1'] = 'ALP: On Subcategory Change';g_event_handler_ids['onChange_incident_u_subcategory_1'] = 'dc80e2d51bb78990edbd87bfe54bcbc5';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_subcategory_2 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_subcategory_2(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	g_form.clearValue("u_symptom");
}

 return onChange_incident_u_subcategory_2.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_subcategory');var thisHandler = new GlideEventHandler('onChange_incident_u_subcategory_2',onChange_incident_u_subcategory_2, 'incident.u_subcategory');g_event_handlers_onChange['onChange_incident_u_subcategory_2'] = 'ALP: On SubCategory Change';g_event_handler_ids['onChange_incident_u_subcategory_2'] = 'a6bf2af4dba108105eaf6390149619d6';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_service_3 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_service_3(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	g_form.clearValue("u_category");
	g_form.clearValue("u_subcategory");			
	g_form.clearValue("u_symptom");
}

 return onChange_incident_u_service_3.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_service');var thisHandler = new GlideEventHandler('onChange_incident_u_service_3',onChange_incident_u_service_3, 'incident.u_service');g_event_handlers_onChange['onChange_incident_u_service_3'] = 'ALP: On Service Change';g_event_handler_ids['onChange_incident_u_service_3'] = '0d403278dba108105eaf6390149619d1';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_diagnosis_4 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_diagnosis_4(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || g_form.isNewRecord())
		return;
	else if (newValue == oldValue)
		g_form.setMandatory("work_notes", false);
	else
		g_form.setMandatory("work_notes", true);
}

 return onChange_incident_u_diagnosis_4.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_diagnosis');var thisHandler = new GlideEventHandler('onChange_incident_u_diagnosis_4',onChange_incident_u_diagnosis_4, 'incident.u_diagnosis');g_event_handlers_onChange['onChange_incident_u_diagnosis_4'] = 'Worknotes mandatory onChange of Diagnosi';g_event_handler_ids['onChange_incident_u_diagnosis_4'] = '4e669427db15c0105eaf639014961985';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_category_5 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_category_5(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	g_form.clearValue("u_subcategory");			
	g_form.clearValue("u_symptom");
	
	var ga = new GlideAjax("CatalogServiceUtilsAjax");
	ga.addParam("sysparm_name", "filterSubCategoriesByCatalogCategory");
	ga.addParam("sysparm_category", newValue);	
	ga.addParam("sysparm_service", g_form.getValue("u_service"));
	ga.addParam("sysparm_task_type", "u_incident");
	ga.getXML(function(response)
	{
		var answer = response.responseXML.documentElement.getAttribute("answer");
		if(answer.split("sys_idIN")[1]){
			g_form.setMandatory("u_subcategory", true);
			g_form.setVisible("u_subcategory", true);
		}else{
			g_form.setMandatory("u_subcategory", false);
			g_form.setVisible("u_subcategory", false);
		}
	});
}

 return onChange_incident_u_category_5.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_category');var thisHandler = new GlideEventHandler('onChange_incident_u_category_5',onChange_incident_u_category_5, 'incident.u_category');g_event_handlers_onChange['onChange_incident_u_category_5'] = 'ALP: On Category Change';g_event_handler_ids['onChange_incident_u_category_5'] = 'e76f6af4dba108105eaf6390149619a4';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_catalog_item_6 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_catalog_item_6(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	g_form.clearValue("u_service");
	g_form.clearValue("u_category");
	g_form.clearValue("u_subcategory");			
	g_form.clearValue("u_symptom");
}

 return onChange_incident_u_catalog_item_6.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_catalog_item');var thisHandler = new GlideEventHandler('onChange_incident_u_catalog_item_6',onChange_incident_u_catalog_item_6, 'incident.u_catalog_item');g_event_handlers_onChange['onChange_incident_u_catalog_item_6'] = 'ALP: On Item Change';g_event_handler_ids['onChange_incident_u_catalog_item_6'] = '870cb90ddb6d08105eaf639014961965';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_state_7 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_state_7(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || newValue === '') {
        return;
    }
    if (newValue == 1) {
        return;
    } else {
        if (g_form.getViewName() !== 'cia_govops' && g_form.getViewName() !== 'Shell_Box') {
            var symptom = g_form.getValue('u_symptom');
            if (!symptom) {
                g_form.setValue('state', 1);
                var errorMessage = getMessage("Categorization is required to change state");
                g_form.showErrorBox('state', errorMessage);
            }
        }
    }
}

 return onChange_incident_state_7.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.state');var thisHandler = new GlideEventHandler('onChange_incident_state_7',onChange_incident_state_7, 'incident.state');g_event_handlers_onChange['onChange_incident_state_7'] = 'ALP: On State Change';g_event_handler_ids['onChange_incident_state_7'] = 'f1510e5bdbe9c0105eaf639014961938';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { function onChange_incident_priority_8(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '' || g_form.isNewRecord())
		return;
	else if (newValue == oldValue)
		g_form.setMandatory("work_notes", false);
	else
		g_form.setMandatory("work_notes", true);
}

var thisWidget = document.getElementById('incident.priority');var thisHandler = new GlideEventHandler('onChange_incident_priority_8',onChange_incident_priority_8, 'incident.priority');g_event_handlers_onChange['onChange_incident_priority_8'] = 'Worknotes mandatory onChange of priority';g_event_handler_ids['onChange_incident_priority_8'] = 'ed5392f3c3122200b6dcdfdc64d3ae96';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_parent_incident_9 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_parent_incident_9(control, oldValue, newValue, isLoading, isTemplate) {
    var view = g_form.getViewName();
    if (isLoading || (view != "sow_incident_resolve_modal" && view != "sow_incident_summary_modal")) {
        return;
    }
    var autoGeneratedCloseNotes = g_scratchpad.autoGeneratedCloseNotes;
    if (g_form.getValue('parent_incident') &&
        g_form.getValue('close_code') == 'Duplicate' &&
        (g_form.getValue('close_notes') == '' || g_form.getValue('close_notes') == autoGeneratedCloseNotes)) {
        var parentIncidentDisplayValue = (g_form.getDisplayBox) ? g_form.getDisplayBox('parent_incident').value : g_form.getDisplayValue('parent_incident');
        autoGeneratedCloseNotes = getMessage('{0} is marked as a duplicate of {1}', [g_form.getValue('number'), parentIncidentDisplayValue]);
        if (autoGeneratedCloseNotes.withValues) {
            autoGeneratedCloseNotes = autoGeneratedCloseNotes.withValues([g_form.getValue('number'), parentIncidentDisplayValue]);
        }
        g_form.setValue('close_notes', autoGeneratedCloseNotes);
        g_scratchpad.autoGeneratedCloseNotes = autoGeneratedCloseNotes;
    }
}

 return onChange_incident_parent_incident_9.bind(null)})(ScopedGlideAjaxGenerator("sn_sow_inc"),ScopedGFormGenerator("sn_sow_inc"),ScopedGlideDialogWindowGenerator("sn_sow_inc"),null,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.parent_incident');var thisHandler = new GlideEventHandler('onChange_incident_parent_incident_9',onChange_incident_parent_incident_9, 'incident.parent_incident');g_event_handlers_onChange['onChange_incident_parent_incident_9'] = 'Set Resolution notes for Parent Incident';g_event_handler_ids['onChange_incident_parent_incident_9'] = '65c23396534531102f10ddeeff7b123d';g_event_handlers.push(thisHandler);});
var messages = new GwtMessage();messages.set('{0} is marked as a duplicate of {1}', '{0} foi marcado como uma duplicata de {1}');addRenderEvent( function() { var onChange_incident_u_symptom_10 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_symptom_10(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	
		if(g_form.getViewName() !== 'Shell_Box'){
			if(newValue === '' && g_form.getValue('state') != 1){
				g_form.setValue("state",1);
				var errorMessage = getMessage("State moved to new to maintain categorization integrity");
					g_form.showErrorBox('state', errorMessage);
			}
		}
}

 return onChange_incident_u_symptom_10.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_symptom');var thisHandler = new GlideEventHandler('onChange_incident_u_symptom_10',onChange_incident_u_symptom_10, 'incident.u_symptom');g_event_handlers_onChange['onChange_incident_u_symptom_10'] = 'ALP: On Symptom Change';g_event_handler_ids['onChange_incident_u_symptom_10'] = '172b061fdb2dc0105eaf63901496199a';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_close_code_11 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_close_code_11(control, oldValue, newValue, isLoading, isTemplate) {
    var view = g_form.getViewName();
    if (isLoading || (view != "sow_incident_resolve_modal" && view != "sow_incident_summary_modal")) {
        return;
    }
    var autoGeneratedCloseNotes = g_scratchpad.autoGeneratedCloseNotes;
    if (g_form.getValue('close_code') != 'Duplicate' &&
        g_form.getValue('close_notes') == autoGeneratedCloseNotes) {
        autoGeneratedCloseNotes = '';
        g_form.setValue('close_notes', autoGeneratedCloseNotes);
        g_scratchpad.autoGeneratedCloseNotes = autoGeneratedCloseNotes;
    } else if (g_form.getValue('close_code') == 'Duplicate' &&
        g_form.getValue('parent_incident') &&
        g_form.getValue('close_notes') == '') {
        var parentIncidentDisplayValue = (g_form.getDisplayBox) ? g_form.getDisplayBox('parent_incident').value : g_form.getDisplayValue('parent_incident');
        autoGeneratedCloseNotes = getMessage('{0} is marked as a duplicate of {1}', [g_form.getValue('number'), parentIncidentDisplayValue]);
        if (autoGeneratedCloseNotes.withValues) {
            autoGeneratedCloseNotes = autoGeneratedCloseNotes.withValues([g_form.getValue('number'), parentIncidentDisplayValue]);
        }
        g_form.setValue('close_notes', autoGeneratedCloseNotes);
        g_scratchpad.autoGeneratedCloseNotes = autoGeneratedCloseNotes;
    }
}

 return onChange_incident_close_code_11.bind(null)})(ScopedGlideAjaxGenerator("sn_sow_inc"),ScopedGFormGenerator("sn_sow_inc"),ScopedGlideDialogWindowGenerator("sn_sow_inc"),null,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.close_code');var thisHandler = new GlideEventHandler('onChange_incident_close_code_11',onChange_incident_close_code_11, 'incident.close_code');g_event_handlers_onChange['onChange_incident_close_code_11'] = 'Set Resolution notes for Resolution Code';g_event_handler_ids['onChange_incident_close_code_11'] = '724db7da534531102f10ddeeff7b12d1';g_event_handlers.push(thisHandler);});
var messages = new GwtMessage();messages.set('{0} is marked as a duplicate of {1}', '{0} foi marcado como uma duplicata de {1}');addRenderEvent( function() { function onChange_incident_caller_id_12(control, oldValue, newValue, isLoading) {
	var callerLabel = $('label.incident.caller_id');
	var callerField = $('sys_display.incident.caller_id');
	if (!callerLabel || !callerField)
		return;
	
	if (!newValue) {
		callerLabel.setStyle({backgroundImage: ""});
		callerField.setStyle({color: ""});
		return;
	}
	g_form.getReference('caller_id', vipCallerCallback);
}
function vipCallerCallback(caller) {
	var callerLabel = $('label.incident.caller_id').down('label');
	var callerField = $('sys_display.incident.caller_id');
	if (!callerLabel || !callerField)
		return;
	
	if (caller.vip == 'true') {
		var bgPosition = "95% 55%";
		if (document.documentElement.getAttribute('data-doctype') == 'true')
			bgPosition = "5% 45%";
			
callerLabel.setStyle({backgroundImage: "url(images/icons/vip.gif)", backgroundRepeat: "no-repeat", backgroundPosition: bgPosition, paddingLeft: '30px' });
		callerField.setStyle({color: "red"});
	} else {
		callerLabel.setStyle({backgroundImage: ""});
		callerField.setStyle({color: ""});
	}
}

var thisWidget = document.getElementById('incident.caller_id');var thisHandler = new GlideEventHandler('onChange_incident_caller_id_12',onChange_incident_caller_id_12, 'incident.caller_id');g_event_handlers_onChange['onChange_incident_caller_id_12'] = 'Highlight VIP Caller';g_event_handler_ids['onChange_incident_caller_id_12'] = '8f0b3ee00a0a0b5700e75f4aaabe4953';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { function onChange_incident_assignment_group_13(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading)
		return;
	if (oldValue != newValue)
		g_scratchpad.formValue = newValue;
	if (newValue === '' || newValue == null || oldValue != newValue || newValue != g_scratchpad.formValue) {
		if(newValue && g_form.getValue("assigned_to")){
			var groupLookupGr = new GlideRecord('sys_user_grmember');
			groupLookupGr.addQuery('group.sys_id', newValue);
			groupLookupGr.addQuery('user', g_form.getValue("assigned_to"));
			groupLookupGr.setLimit(1);
			groupLookupGr.query(groupLookupCallback);
		} else {
			g_form.setValue("assigned_to", "");
		}
	}
}
function groupLookupCallback(groupLookupGr){
	if (!groupLookupGr.hasNext())
		g_form.setValue("assigned_to", "");
}

var thisWidget = document.getElementById('incident.assignment_group');var thisHandler = new GlideEventHandler('onChange_incident_assignment_group_13',onChange_incident_assignment_group_13, 'incident.assignment_group');g_event_handlers_onChange['onChange_incident_assignment_group_13'] = 'Empty assigned_to on group change';g_event_handler_ids['onChange_incident_assignment_group_13'] = '273386d1c3a32200b6dcdfdc64d3ae85';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { function onChange_incident_caller_id_14(control, oldValue, newValue, isLoading) {
   if ((isLoading && !g_form.isNewRecord()) || (g_form.isLiveUpdating && g_form.isLiveUpdating()))
      return;
   if (newValue == '' || newValue == null) {
      g_form.setValue('location', '');
      return;
   }
   if (!g_form.hasField('location'))
      return;
   var caller = g_form.getReference('caller_id', setLocation);
}
function setLocation(caller) {
   if (caller && g_form.getValue("opened_by") != "eceb81061b8ff494c91963923b4bcb0d") 
       g_form.setValue('location', caller.location);
}

var thisWidget = document.getElementById('incident.caller_id');var thisHandler = new GlideEventHandler('onChange_incident_caller_id_14',onChange_incident_caller_id_14, 'incident.caller_id');g_event_handlers_onChange['onChange_incident_caller_id_14'] = '(BP) Set Location to User';g_event_handler_ids['onChange_incident_caller_id_14'] = '5e524025c0a80166004d1761e85e2058';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_business_service_15 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_business_service_15(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading) {
		return;
	}
	g_form.clearValue("cmdb_ci");
}

 return onChange_incident_business_service_15.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.business_service');var thisHandler = new GlideEventHandler('onChange_incident_business_service_15',onChange_incident_business_service_15, 'incident.business_service');g_event_handlers_onChange['onChange_incident_business_service_15'] = 'ALP: Clear CI when BS changes [INC]';g_event_handler_ids['onChange_incident_business_service_15'] = '756aee1a1b7c60d09a3c86afe54bcb06';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_business_service_16 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_business_service_16(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading)
        return;
    if (oldValue && g_scratchpad.formValue === undefined) {
        g_scratchpad.formValue = oldValue;
    }
    if (!g_scratchpad.formValue && g_form.getValue("service_offering")) {
        var soGr = new GlideRecord('service_offering');
        soGr.addQuery('parent.sys_id', newValue);
        soGr.addQuery('sys_id', g_form.getValue("service_offering"));
        soGr.setLimit(1);
        soGr.query(offeringLookupCallback);
    } else
        g_form.clearValue('service_offering');
    if (g_scratchpad.formValue != newValue)
        g_scratchpad.formValue = newValue;
}
function offeringLookupCallback(soGr) {
    if (!soGr.hasNext())
        g_form.clearValue('service_offering');
}

 return onChange_incident_business_service_16.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.business_service');var thisHandler = new GlideEventHandler('onChange_incident_business_service_16',onChange_incident_business_service_16, 'incident.business_service');g_event_handlers_onChange['onChange_incident_business_service_16'] = 'Clear Offering on changing Service';g_event_handler_ids['onChange_incident_business_service_16'] = 'af269fbf878010100e3dd61e36cb0b39';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_subcategory_17 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_subcategory_17(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading | newValue == null || newValue == "") {
		return;
	}
	if(g_form.getValue("state") == 1){
		var ga = new GlideAjax("CIUtilsAjax");
		ga.addParam("sysparm_name", "getBusinessServicesByCategory");
		ga.addParam("sysparm_category", newValue);
		ga.getXML(function(response){
			var answer = response.responseXML.documentElement.getAttribute("answer");
			if(answer){
				g_form.setValue("business_service", answer);
			}
		});
	}
	
}

 return onChange_incident_u_subcategory_17.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_subcategory');var thisHandler = new GlideEventHandler('onChange_incident_u_subcategory_17',onChange_incident_u_subcategory_17, 'incident.u_subcategory');g_event_handlers_onChange['onChange_incident_u_subcategory_17'] = 'ALP: On SubCategory Change Fill BS';g_event_handler_ids['onChange_incident_u_subcategory_17'] = '617843a81b856c109a3c86afe54bcb34';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_business_service_18 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_business_service_18(control, oldValue, newValue, isLoading, isTemplate) {
	
	if (isLoading){
		return; 
	}
	
	if (g_form.getValue('u_catalog_item') == 'f9c57e2a1bcb2890edbd87bfe54bcbc2')
		return;
	
	if (newValue === '') {
		if(g_form.getValue("cmdb_ci") != "" && g_form.getValue("cmdb_ci") != undefined && g_form.getValue("business_service") == "" && g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
			g_form.getReference("cmdb_ci", changeImpactCI);
		}
	}
	if(g_form.getValue("business_service") != "" && g_form.getValue("business_service") != undefined) {
		g_form.getReference("business_service", changeImpactBS);
	}
	function changeImpactBS(configurationItem) {
		var state = "";
		if(configurationItem.u_impact == "" || configurationItem.u_impact == undefined)
		{
			g_form.setValue("impact", 3);
		}
		else{
			if(configurationItem.u_impact.indexOf("1") > -1 && g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
				g_form.setValue("impact", 1);
			} else if (configurationItem.u_impact.indexOf("2") > -1 && g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
				g_form.setValue("impact", 2);
			} else if (configurationItem.u_impact.indexOf("3") > -1 && g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
				g_form.setValue("impact", 3);
			} else if (configurationItem.u_impact.indexOf("4") > -1 && g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
				g_form.setValue("impact", 4);
			} else if(g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
				g_form.addErrorMessage("Impacto não mapeado no serviço de negócio.");
			}
		}
	}
	function changeImpactCI(configurationItem){
		if(configurationItem.u_impact == "" || configurationItem.u_impact == undefined)
		{
			g_form.setValue("impact", 3);
		}
		else{
			g_form.setValue("impact", configurationItem.u_impact);
		}
	}
}

 return onChange_incident_business_service_18.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.business_service');var thisHandler = new GlideEventHandler('onChange_incident_business_service_18',onChange_incident_business_service_18, 'incident.business_service');g_event_handlers_onChange['onChange_incident_business_service_18'] = 'ALP: Return CI Impact Value (BS)';g_event_handler_ids['onChange_incident_business_service_18'] = 'd0252e751b5dcc50f7da76295b4bcbcf';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_u_category_19 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_u_category_19(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading | newValue == null || newValue == "") {
		return;
	}
	if(g_form.getValue("state") == 1){
		var ga = new GlideAjax("CIUtilsAjax");
		ga.addParam("sysparm_name", "getBusinessServicesByCategory");
		ga.addParam("sysparm_category", newValue);
		ga.getXML(function(response){
			var answer = response.responseXML.documentElement.getAttribute("answer");
			if(answer){
				g_form.setValue("business_service", answer);
			}
		});
	}
	
}

 return onChange_incident_u_category_19.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.u_category');var thisHandler = new GlideEventHandler('onChange_incident_u_category_19',onChange_incident_u_category_19, 'incident.u_category');g_event_handlers_onChange['onChange_incident_u_category_19'] = 'ALP: On Category Change Fill BS';g_event_handler_ids['onChange_incident_u_category_19'] = '7c3183a41b456c109a3c86afe54bcbe4';g_event_handlers.push(thisHandler);});
addRenderEvent( function() { var onChange_incident_cmdb_ci_20 = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onChange_incident_cmdb_ci_20(control, oldValue, newValue, isLoading, isTemplate) {
	if (isLoading || newValue === '') {
		return;
	}
	if (g_form.getValue('u_catalog_item') == 'f9c57e2a1bcb2890edbd87bfe54bcbc2')
		return;
	
	if(g_form.getValue("cmdb_ci") != "" && g_form.getValue("cmdb_ci") != undefined && g_form.getValue('u_catalog_item') != '0c48963b1b83dc1056cf0d8fe54bcbaa' && g_form.getValue('sys_created_by') != 'APP_IBM_REMEDY') {
		g_form.getReference("cmdb_ci", changeIncidentImpact);
	}
	function changeIncidentImpact(configurationItem){
		if(configurationItem.u_impact == "" || configurationItem.u_impact == undefined)
		{
			g_form.setValue("impact", 3);
		}
		else{
			g_form.setValue("impact", configurationItem.u_impact);
		}
	}
}

 return onChange_incident_cmdb_ci_20.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
var thisWidget = document.getElementById('incident.cmdb_ci');var thisHandler = new GlideEventHandler('onChange_incident_cmdb_ci_20',onChange_incident_cmdb_ci_20, 'incident.cmdb_ci');g_event_handlers_onChange['onChange_incident_cmdb_ci_20'] = 'ALP: Return CI Impact Value';g_event_handler_ids['onChange_incident_cmdb_ci_20'] = 'be5ade90dbc080905b43b11ba3961964';g_event_handlers.push(thisHandler);});
</SCRIPT><span data-comment="section context" style="display: none"><script>var gcm = new GwtContextMenu('context_1', true);
			var gcmSection = gcm;
			gcm.clear();
			gcm.setTableName('incident');</script><script>var messages = new GwtMessage();</script><script>gcm.addHref("Adicionar ao Visual Task Board", 'openAddToBoardDialogForm()', null, "", null, "");
							function openAddToBoardDialogForm() {
	var taskSysID = gel('sys_uniqueValue').value,
		tableName = g_form.getTableName();
	
	var o = new GlideOverlay({
		title : getMessage("Select a Visual Task board"),
		iframe : "$vtb_add_to_board.do?sysparm_record_id="+taskSysID+"&sysparm_table_name="+tableName + "&sysparm_nostack=true",
		allowOverflowX : true,
		height : 1000,
		width : 2000,
		messages : "",
		onAfterLoad: function() {
			document.getElementsByClassName('gb_close')[0].focus();
		}
	});
	o.setOnBeforeClose(displayMessageStashFormContext);
	o.render();
	
}

function displayMessageStashFormContext() {
	if(!this.getData("messages"))
		return;
	
	g_form.clearMessages();
	
	var m = this.getData("messages");
    if (m.messages.info)
		for(var i = 0; i < m.messages.info.length; i++) {
			var msg = m.messages.info[i];
			if(msg)
				g_form.addInfoMessage(msg);
		}
	if (m.messages.error)
		for(var i = 0; i < m.messages.error.length; i++) {
			var msg = m.messages.error[i];
			if(msg)
				g_form.addErrorMessage(msg);
		}
}</script><script>var messages = new GwtMessage();</script><script>gcm.addHref("Criar incidente secundário", 'onCreateChildIncident()', null, "", null, "");
							function onCreateChildIncident(){
	NOW._createChildIncident(g_form.getUniqueValue());
}

/* Antiga Condição
current.active && IncidentUtils.isCreateChildIncidentEnabled()
*/</script><input type="hidden" name="chg_create_normal_change" id="chg_create_normal_change" gsft_id="30c9566dc61122740030e173564c1c74"></input><script>gcm.addHref("Criar mudança normal", "gsftSubmit(gel('chg_create_normal_change'))", null, "", null, "");</script><input type="hidden" name="chg_create_standard_change" id="chg_create_standard_change" gsft_id="da23721567220300fa50775617415a0d"></input><script>gcm.addHref("Criar Mudança padrão", "gsftSubmit(gel('chg_create_standard_change'))", null, "", null, "");</script><input type="hidden" name="chg_create_emergency_change" id="chg_create_emergency_change" gsft_id="d5378d81c38202003d2ae219cdba8fc5"></input><script>gcm.addHref("Criar mudança de emergência", "gsftSubmit(gel('chg_create_emergency_change'))", null, "", null, "");</script><script>var messages = new GwtMessage();</script><script>gcm.addHref("Promover a incidente principal", 'promptForPromoteMIC()', null, "Propor o atual candidato a incidente principal como incidente principal", null, "");
							addLoadEvent(function() {
							var promptForPromoteMIC = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function promptForPromoteMIC() {
	if (!g_form.getControl('work_notes')) {
		getMessage('Cannot promote major incident candidate as "Worknotes" is not visible', function(msg) {
			g_form.addErrorMessage(msg);
		});
		return false;
	}

	var dialog = new GlideModal('sn_major_inc_mgmt_mim_workbench_promote', false, 848, 350);
	getMessage('Promote to Major Incident', function(msg) {
		dialog.setTitle(msg);
	});
	ScriptLoader.getScripts('/scripts/incident/glide_modal_accessibility.js', function() {
		dialog.template = glideModalTemplate;
		dialog.on('bodyrendered', function(event) {
			glideModalKeyDownHandler(event, dialog.getID());
		});
		dialog.setPreference('WORK_NOTES', g_form.getValue('work_notes'));
		dialog.setPreference('BUSINESS_IMPACT', g_form.getValue('business_impact'));
		dialog.setPreference("focusTrap", true);
		dialog.render();
	});
}

if (typeof window == 'undefined')
	promoteMIC();

function promoteMIC() {
	var mim = new sn_major_inc_mgmt.MajorIncidentTriggerRules(current);
	mim.approveMIC();
	action.setRedirectURL(current);
}
/*
Condição Antiga:
new sn_major_inc_mgmt.MajorIncidentTriggerRules(current).canPromoteMIC()
*/
 return promptForPromoteMIC.bind(null)})(ScopedGlideAjaxGenerator("sn_major_inc_mgmt"),ScopedGFormGenerator("sn_major_inc_mgmt"),ScopedGlideDialogWindowGenerator("sn_major_inc_mgmt"),null,null,null,null,null,null,null,null,null);
							window.promptForPromoteMIC = promptForPromoteMIC;
							});</script><script>var messages = new GwtMessage();</script><script>gcm.addHref("Propor incidente principal", 'promptForProposalReason()', null, "Propor o incidente atual como um candidato a incidente grave", null, "");
							addLoadEvent(function() {
							var promptForProposalReason = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function promptForProposalReason() {
    if (g_form.mandatoryCheck()) {
        //checking for work_notes visibility
        if (!g_form.getControl('work_notes')) {
            getMessage('Cannot propose major incident as "Worknotes" is not visible', function(msg) {
                g_form.addErrorMessage(msg);
            });
            return false;
        }
        var dialog = new GlideModal('sn_major_inc_mgmt_mim_propose', false, 651, 250);
        getMessage('Propose Major Incident', function(msg) {
            dialog.setTitle(msg);
        });
        ScriptLoader.getScripts('/scripts/incident/glide_modal_accessibility.js', function() {
            dialog.template = glideModalTemplate;
            dialog.on('bodyrendered', function(event) {
                glideModalKeyDownHandler(event, dialog.getID());
            });
            dialog.setPreference('WORK_NOTES', g_form.getValue('work_notes'));
            dialog.setPreference('BUSINESS_IMPACT', g_form.getValue('business_impact'));
            dialog.setPreference("focusTrap", true);
            dialog.render();
        });
        //This dialog will be destroyed in UI Page 'sn_major_inc_mgmt_mim_propose'
    }
}


if(typeof window == 'undefined')
	proposeMICOnConfirmation();

//Server-side code
function proposeMICOnConfirmation() {
	current.major_incident_state = new sn_major_inc_mgmt.MajorIncidentTriggerRules().MAJOR_INCIDENT_STATE.PROPOSED;
	current.update();
	gs.addInfoMessage(gs.getMessage('{0} has been proposed as a major incident candidate', current.getDisplayValue()));
	action.setRedirectURL(current);
}
 return promptForProposalReason.bind(null)})(ScopedGlideAjaxGenerator("sn_major_inc_mgmt"),ScopedGFormGenerator("sn_major_inc_mgmt"),ScopedGlideDialogWindowGenerator("sn_major_inc_mgmt"),null,null,null,null,null,null,null,null,null);
							window.promptForProposalReason = promptForProposalReason;
							});</script><input type="hidden" name="refresh_impacted_services" id="refresh_impacted_services" gsft_id="807e83d1878010100e3dd61e36cb0b89"></input><script>gcm.addHref("Atualizar Serviços Afetados", "gsftSubmit(gel('refresh_impacted_services'))", null, "Atualizar lista de serviços de negócio afetados pelo IC associado", null, "");</script><script>var messages = new GwtMessage();</script><script>gcm.addHref("Linha do tempo de Métricas", 'showMetricTimeline()', null, "", null, "");
							function showMetricTimeline() {
	var sysId = gel('sys_uniqueValue').value;
	var box = new GlideBox({
		iframe : 'show_schedule_page.do?sysparm_nameofstack=MetricsTimeLineBox&sysparm_page_schedule_type=metrics_timeline&sysparm_timeline_id=' + sysId + "&sysparm_timeline_table=" + g_form.getTableName(),
		width : '95%',
		height : 500,
                title : "Metrics Timeline",
		noTitle : true
	});
	box.render();

        var g_timelineResizer;
        Event.observe(window, 'resize', function() {
            g_timelineResizer = setTimeout(function() {
            box.autoPosition();
            box.autoDimension();
          }, 50);
        });

	//box.getBoxElement().select('.gb_table .gb_toolbar')[0].remove();

/* Test code to load in new window instead of glide box
var url = new GlideURL('show_schedule_page.do');
	url.addParam('sysparm_page_schedule_type', 'metrics_timeline');
	url.addParam('sysparm_timeline_table', 'incident');
	url.addParam('sysparm_timeline_id', sysId);

	var w = getTopWindow();
	var newWindow = w.open(url.getURL(), "_blank");
	newWindow.focus();
	return false;
*/

}</script><input type="hidden" name="ddbf640437412000dada8cdabebe5d21" id="ddbf640437412000dada8cdabebe5d21" gsft_id="ddbf640437412000dada8cdabebe5d21"></input><script>gcm.addHref("Acompanhar no Feed de atividades", "gsftSubmit(gel('ddbf640437412000dada8cdabebe5d21'))", null, "", null, "");</script><input type="hidden" name="sysverb_update_and_stay" id="sysverb_update_and_stay" gsft_id="47fd7f4dc0a8000600a552278b5232ab"></input><script>gcm.addLine();gcm.addHref("Salvar", "gsftSubmit(gel('sysverb_update_and_stay'))", null, "Salvar registro e permanecer aqui", null, "");</script><script>var mModify = new GwtContextMenu('context_modifysubf6608da3db8ab600360eda11cf9619fc');
        mModify.setTableName('incident');
        mModify.clear();</script><script>var mExport = new GwtContextMenu('context_pdfsubf6608da3db8ab600360eda11cf9619fc');
        mExport.setTableName('incident');
        mExport.clear();mExport.addFunc("PDF (Retrato)", function() { exportToPDF('incident','aea9612d87dee2100030cb340cbb35fd',false,'', ''); });
			mExport.addFunc("PDF (Paisagem)", function() { exportToPDF('incident','aea9612d87dee2100030cb340cbb35fd',true,'', ''); });gcm.addMenu("Exportar", mExport, "context_exportmenu");var cmViews = new GwtContextMenu('context_header_view_',false);
	    cmViews.clear();
	    cmViews.setTableName('incident');
            var views_sa = new GwtContextMenu('context_labelMenu',false);
            views_sa.clear();

            
               
               
                  
	       cmViews.addHref("CIA GovOps", "switchView('section','incident','cia_govops')", "images/s.gifx");
	       views_sa.addHref("CIA GovOps", "switchView('section','incident','cia_govops')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Espaço de operações de serviços", "switchView('section','incident','sow')", "images/s.gifx");
	       views_sa.addHref("Espaço de operações de serviços", "switchView('section','incident','sow')", "images/s.gifx");
            
               
                  
               
	       cmViews.addHref("Exibição padrão", "switchView('section','incident','')", "images/checked.pngx");
	       views_sa.addHref("Exibição padrão", "switchView('section','incident','')", "images/checked.pngx");
            
               
               
                  
	       cmViews.addHref("Formulário de Workbench de incidente grave", "switchView('section','incident','mim_form')", "images/s.gifx");
	       views_sa.addHref("Formulário de Workbench de incidente grave", "switchView('section','incident','mim_form')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Incidentes graves", "switchView('section','incident','major_incidents')", "images/s.gifx");
	       views_sa.addHref("Incidentes graves", "switchView('section','incident','major_incidents')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Modal de atribuição do SOW", "switchView('section','incident','sow_incident_assign_modal')", "images/s.gifx");
	       views_sa.addHref("Modal de atribuição do SOW", "switchView('section','incident','sow_incident_assign_modal')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Modal de resolução de incidente do SOW", "switchView('section','incident','sow_incident_resolve_modal')", "images/s.gifx");
	       views_sa.addHref("Modal de resolução de incidente do SOW", "switchView('section','incident','sow_incident_resolve_modal')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Modal de resumo de SOW", "switchView('section','incident','sow_incident_summary_modal')", "images/s.gifx");
	       views_sa.addHref("Modal de resumo de SOW", "switchView('section','incident','sow_incident_summary_modal')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Modal do SOW", "switchView('section','incident','sow_modal')", "images/s.gifx");
	       views_sa.addHref("Modal do SOW", "switchView('section','incident','sow_modal')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Móvel", "switchView('section','incident','Mobile')", "images/s.gifx");
	       views_sa.addHref("Móvel", "switchView('section','incident','Mobile')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Novo registro do Espaço de operações de serviços", "switchView('section','incident','sow_new_record')", "images/s.gifx");
	       views_sa.addHref("Novo registro do Espaço de operações de serviços", "switchView('section','incident','sow_new_record')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("OPRH", "switchView('section','incident','oprh')", "images/s.gifx");
	       views_sa.addHref("OPRH", "switchView('section','incident','oprh')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Outlook", "switchView('section','incident','Outlook')", "images/s.gifx");
	       views_sa.addHref("Outlook", "switchView('section','incident','Outlook')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("playbook_card", "switchView('section','incident','playbook_card')", "images/s.gifx");
	       views_sa.addHref("playbook_card", "switchView('section','incident','playbook_card')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Principais Registros relacionados ao Workbench", "switchView('section','incident','mim_related_records')", "images/s.gifx");
	       views_sa.addHref("Principais Registros relacionados ao Workbench", "switchView('section','incident','mim_related_records')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Secundário de um incidente grave", "switchView('section','incident','mim_child_incident')", "images/s.gifx");
	       views_sa.addHref("Secundário de um incidente grave", "switchView('section','incident','mim_child_incident')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("Shell Box", "switchView('section','incident','Shell_Box')", "images/s.gifx");
	       views_sa.addHref("Shell Box", "switchView('section','incident','Shell_Box')", "images/s.gifx");
            
               
               
                  
	       cmViews.addHref("SOW-Incident-Overview", "switchView('section','incident','sow_incident_overview')", "images/s.gifx");
	       views_sa.addHref("SOW-Incident-Overview", "switchView('section','incident','sow_incident_overview')", "images/s.gifx");
            
	    gcm.addMenu('Exibição', cmViews);gcm.addLine();</script><script>gcm.addFunc("Criar favorito", function() {
				if (typeof MagellanCreateFavorites !== 'undefined' && MagellanCreateFavorites.addFavorite) {
					MagellanCreateFavorites.addFavorite({
						title : 'Incidente - INC2732616',
						icon : 'form'
					});
				}
			}, "context_createfavorite");</script><script>
		
			
			
			
				gcm.addHref("Copiar URL", "copyToClipboard('https://raizen.service-now.com/nav_to.do?uri=incident.do?sys_id=aea9612d87dee2100030cb340cbb35fd');");
			

		</script><script>var mHistory = new GwtContextMenu('context_historysubf6608da3db8ab600360eda11cf9619fc');
         mHistory.clear();
         mHistory.addURL("Calendário", "history.do?sysparm_table=incident&sysparm_sys_id=aea9612d87dee2100030cb340cbb35fd&sysparm_nostack=true");
         gcm.addMenu("Histórico", mHistory);

         
         
         </script><input type="hidden" name="show_history" id="show_history"></input><script>function showHistoryList(){
               if(g_form)
                  g_form.checkMandatory = false;
               if (window.g_sc_form)
                  window.g_sc_form.checkMandatory = false;
               gsftSubmit(gel('show_history'));
            }
            mHistory.addHref("Lista", "showHistoryList()");</script><script>gcm.addHref("Recarregar formulário", "reloadWindow(window);");</script></span><div role="region" aria-label="Links relacionados" class="related-links-wrapper"><h2 class="related_links h4">Links relacionados</h2><ul class="related_links_container list-unstyled"><li><script>var messages = new GwtMessage();</script><script>function redirectToSlaTimeline() {
	location.href = '/$sla_timeline.do?sysparm_task_sys_id=' + g_form.getUniqueValue();
}
</script><a class="navigation_link action_context default-focus-outline" id="effeb6810b032200ff6707a7b6673a47" gsft_id="effeb6810b032200ff6707a7b6673a47" gsft_action_name="show_sla_timeline" tabindex="0" data-now-ux-metrics-event="Click Related Link" data-now-ux-metrics-link-name="Mostrar linha do tempo do ANS" onclick="redirectToSlaTimeline();return false" role="button">Mostrar linha do tempo do ANS</a></li></ul></div></form><script data-comment="related list timing">g_related_list_timing = 'deferred';</script><input type="HIDDEN" id="sysparm_embedded" name="sysparm_embedded"></input><div class="tabs2_strip tabs2_strip_deferred" id="tabs2_list" style="display:none;"></div><div id="tabs2_spacer"><div id="related_lists_wrapper" data-lists="task_sla.task,incident_task.universal_request,REL:70e80f390a0a0b1b0035a51d8bbfd32c,task_ci.task,incident.parent_incident,m2m_kb_task.task,task_cmdb_ci_service.task,sc_request.parent,task_outage.task,new_call.transferred_to,time_card.task,REL:412b7b420a258102002a5fdbfab70593,rm_defect.parent,u_event.u_task,incident_task.parent,incident_task.incident,sc_req_item.parent,incident.parent,change_request.parent,sn_lf_project.parent,sn_lf_task.parent,task_location.task"></div><span class="related-list-loading" style="display: none;"><div class="loading-container"><h1 class="loading-message">Carregamento de listas relacionadas</h1><div class="loading-indicator icon-loading icon-lg"></div></div></span></div><div id="formSettingsContainer" class="form-settings-container"><div class="heading-wrapper clearfix"><h2>Personalizar formulário</h2><button type="button" class="btn btn-destructive-subdued personalize_form_preference_reset pull-right" style="visibility: hidden;" tabindex="-1">Redefinir</button></div><div class="popover-body"><form><fieldset class="form-settings-fieldset"><legend id="personalize_form_list_desc">Campos de formulário</legend><ul class="personalize_form_fields" role="menu" tabindex="-1" aria-labelledby="personalize_form_list_desc"></ul></fieldset></form></div><script id="personalize_item" type="application/xml"><li class="row" role="presentation" tabindex="-1"><span class="input-group-checkbox"><input class="checkbox" type="checkbox" id="#{name}" name="#{name}" value="selected" tabindex="-1" data-now-ux-metrics-event="Personalize Form Field" role="menuitemcheckbox" aria-label="#{HTML:label}" aria-checked="false"></input><label for="#{name}" class="checkbox-label pull-left">#{HTML:label}</label></span></li></script></div><div id="page_timing_div" class="timingDiv" role="complementary"></div></div><script data-description="MessagesTag">(function() {
 var messages = new GwtMessage();
messages.set('All Templates','Todos os modelos');
messages.set('Edit Template','Editar Modelo');
messages.set('Create New Template','Criar novo modelo');
messages.set('Templates','Modelos');
messages.set('No templates are available','Nenhum modelo disponível');
messages.set('Create a new one?','Criar um novo?');
messages.set('Save','Salvar');
messages.set('Edit','Editar');
messages.set('#{HTML:name} Template not Applied','#{HTML:name} Modelo não Aplicado');
messages.set('#{HTML:name} Template Applied','Modelo #{HTML:name} Aplicado');
messages.set('#{HTML:name} Template Applied with #{errorCount} #{errorText}','#{HTML:name} Modelo Aplicado com #{errorCount} #{errorText}');
messages.set('See Details','Ver detalhes');
messages.set('Set <b>#{HTML:name}</b> to <b>#{HTML:value}</b>','Defina <b>#{HTML:name}</b> como <b>#{HTML:value}</b>');
messages.set('Undo Changes','Desfazer Mudanças');
messages.set('Unable to update field','Não é possível atualizar o campo');
messages.set('#{item} not present on this form','#{item} não está presente neste formulário');
messages.set('Close','Fechar');
messages.set('Help','Ajuda');
messages.set('Templates let you update several fields on a form with a single click','Os modelos permitem atualizar vários campos em um formulário com um único clique');
messages.set('Clear','Limpar');
messages.set('Cancel','Cancelar');
messages.set('Added Template bar landmark to bottom of form.','Marco de barra de Modelo adicionado à parte inferior do formulário.');
messages.set('Removed Template bar landmark from bottom of form.','Marco de barra de Modelo removido da parte inferior do formulário.');
})()</script><span role="region" id="template-bar-aria-live" aria-live="polite" class="sr-only"></span><div id="template-bar-aria-container" class="navbar navbar-default navbar-fixed-bottom template-overflow" data-type="template_footer" data-ref="incident" role="region" aria-label="Barra de Modelos"><div class="container-fluid"><div class="navbar-text navbar-left" id="templates-list-container"><b role="heading" aria-level="2">Modelos:&nbsp;</b><ul id="templates-list-items"><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="a402526d87d97554c14ba8e20cbb356d" data-application="global">Abertura Padrão de Major Incident Queda de Energia Elétrica</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="25a3ff758779b1587eebc9160cbb3518" data-application="global">Abertura Padrão De Major Incident SEFAZ</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="5053c7411be97114a3a8426fe54bcbea" data-application="global">Abertura Padrão Major IFROTA</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="933ff9601b908690a3a8426fe54bcbe2" data-application="global">Abertura Padrão Major Lentidão SAP Combustíveis (P72)</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="a4b4b55c1b108e500a4cfc4e4b4bcb79" data-application="global">Abertura Padrão Major SISCONAGR</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="80768fc91b2d7114a3a8426fe54bcb66" data-application="global">Abertura Padrão Major UserSystem</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="3dc63dab1b5d6990ed0b8660f54bcbe2" data-application="ab0265b2dbd53200d36cdc50cf961980">Create Inc - Azure Command Center</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="cf14b8341be521943b420e50f54bcb27" data-application="ab0265b2dbd53200d36cdc50cf961980">Create INC - Custos Azure Cloud Admin</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="fa4420b61b77e9540a4cfc4e4b4bcb35" data-application="ab0265b2dbd53200d36cdc50cf961980">Create Incident - Azure Backup N</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="06fc6214874471507eebc9160cbb3502" data-application="ab0265b2dbd53200d36cdc50cf961980">Create Incident - Azure Backup N2</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="d79cfb7b87848650c14ba8e20cbb359d" data-application="global">Major Padrão SAPTASXSAP</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="85ccc8a71bd44210a3a8426fe54bcb04" data-application="global">Major Parada Programada Padrão</a></li><li class="templates-list-item"><a href="#" role="button" class="template-item" data-type="apply-template" data-ref="e0b94219db510b00d8f0788dbf96191a" data-application="ab0265b2dbd53200d36cdc50cf961980">TemplateTest</a></li></ul></div><button data-type="template-list-overflow-button" data-target="#templateOverflowContainer" data-ref="incident" title="Todos os modelos" aria-label="Todos os modelos" aria-haspopup="true" aria-expanded="false" class="navbar-btn btn btn-default icon-ellipsis"></button><button data-type="create-new-template" tabindex="0" aria-label="Criar novo modelo" data-ref="incident" class="btn btn-default icon-add navbar-btn" title="Criar novo modelo"></button><button data-type="disable-template-bar" class="btn btn-default icon-cross navbar-btn" aria-label="Desabilitar a Barra de Modelos" title="Desabilitar a Barra de Modelos"></button></div></div><div id="templateOverflowContainer" class="template-overflow-container" canWrite="true"><div class="popover-body"><div class="input-group-transparent"><span class="input-group-addon-transparent icon-filter"></span><input id="overflowTemplateSearch" class="form-control form-control-search" type="search" name="search1" placeholder="Filtrar Modelos" aria-label="Filtrar Modelos"></input><span class="icon-cross-circle template_filter_clear" title="" data-type="clearTemplateFilter" data-original-title="Limpar" aria-label="Limpar pesquisa" role="button"></span></div><span id="no_search_results">Nenhum resultado</span><ul class="template_overflow_items"><li class="row"><a href="#" data-type="apply-template" data-ref="a402526d87d97554c14ba8e20cbb356d" data-application="global">Abertura Padrão de Major Incident Queda de Energia Elétrica</a><a class="template-edit" href="#" aria-label="Editar Modelo: Abertura Padrão de Major Incident Queda de Energia Elétrica" data-type="edit-template" data-ref="a402526d87d97554c14ba8e20cbb356d">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="25a3ff758779b1587eebc9160cbb3518" data-application="global">Abertura Padrão De Major Incident SEFAZ</a><a class="template-edit" href="#" aria-label="Editar Modelo: Abertura Padrão De Major Incident SEFAZ" data-type="edit-template" data-ref="25a3ff758779b1587eebc9160cbb3518">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="5053c7411be97114a3a8426fe54bcbea" data-application="global">Abertura Padrão Major IFROTA</a><a class="template-edit" href="#" aria-label="Editar Modelo: Abertura Padrão Major IFROTA" data-type="edit-template" data-ref="5053c7411be97114a3a8426fe54bcbea">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="933ff9601b908690a3a8426fe54bcbe2" data-application="global">Abertura Padrão Major Lentidão SAP Combustíveis (P72)</a><a class="template-edit" href="#" aria-label="Editar Modelo: Abertura Padrão Major Lentidão SAP Combustíveis (P72)" data-type="edit-template" data-ref="933ff9601b908690a3a8426fe54bcbe2">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="a4b4b55c1b108e500a4cfc4e4b4bcb79" data-application="global">Abertura Padrão Major SISCONAGR</a><a class="template-edit" href="#" aria-label="Editar Modelo: Abertura Padrão Major SISCONAGR" data-type="edit-template" data-ref="a4b4b55c1b108e500a4cfc4e4b4bcb79">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="80768fc91b2d7114a3a8426fe54bcb66" data-application="global">Abertura Padrão Major UserSystem</a><a class="template-edit" href="#" aria-label="Editar Modelo: Abertura Padrão Major UserSystem" data-type="edit-template" data-ref="80768fc91b2d7114a3a8426fe54bcb66">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="3dc63dab1b5d6990ed0b8660f54bcbe2" data-application="ab0265b2dbd53200d36cdc50cf961980">Create Inc - Azure Command Center</a><a class="template-edit" href="#" aria-label="Editar Modelo: Create Inc - Azure Command Center" data-type="edit-template" data-ref="3dc63dab1b5d6990ed0b8660f54bcbe2">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="cf14b8341be521943b420e50f54bcb27" data-application="ab0265b2dbd53200d36cdc50cf961980">Create INC - Custos Azure Cloud Admin</a><a class="template-edit" href="#" aria-label="Editar Modelo: Create INC - Custos Azure Cloud Admin" data-type="edit-template" data-ref="cf14b8341be521943b420e50f54bcb27">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="fa4420b61b77e9540a4cfc4e4b4bcb35" data-application="ab0265b2dbd53200d36cdc50cf961980">Create Incident - Azure Backup N</a><a class="template-edit" href="#" aria-label="Editar Modelo: Create Incident - Azure Backup N" data-type="edit-template" data-ref="fa4420b61b77e9540a4cfc4e4b4bcb35">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="06fc6214874471507eebc9160cbb3502" data-application="ab0265b2dbd53200d36cdc50cf961980">Create Incident - Azure Backup N2</a><a class="template-edit" href="#" aria-label="Editar Modelo: Create Incident - Azure Backup N2" data-type="edit-template" data-ref="06fc6214874471507eebc9160cbb3502">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="d79cfb7b87848650c14ba8e20cbb359d" data-application="global">Major Padrão SAPTASXSAP</a><a class="template-edit" href="#" aria-label="Editar Modelo: Major Padrão SAPTASXSAP" data-type="edit-template" data-ref="d79cfb7b87848650c14ba8e20cbb359d">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="85ccc8a71bd44210a3a8426fe54bcb04" data-application="global">Major Parada Programada Padrão</a><a class="template-edit" href="#" aria-label="Editar Modelo: Major Parada Programada Padrão" data-type="edit-template" data-ref="85ccc8a71bd44210a3a8426fe54bcb04">Editar</a></li><li class="row"><a href="#" data-type="apply-template" data-ref="e0b94219db510b00d8f0788dbf96191a" data-application="ab0265b2dbd53200d36cdc50cf961980">TemplateTest</a><a class="template-edit" href="#" aria-label="Editar Modelo: TemplateTest" data-type="edit-template" data-ref="e0b94219db510b00d8f0788dbf96191a">Editar</a></li></ul></div></div><script type="text/javascript" data-comment="dirty form support">window.g_form_dirty_support = true;
			
			
			window.g_form_dirty_message = 'As mudanças foram feitas, se continuar, elas serão descartadas.';
			$j(window).bind('beforeunload', onWindowClose);

			window.g_form_dirty_autosave = false</script><script data-description="MessagesTag">(function() {
 var messages = new GwtMessage();
messages.set('Save Changes','Salvar mudanças');
})()</script><script type="xml/template" id="dirty_form_modal" data-comment="Dirty form modal"><div role="alertdialog" aria-labelledby="dirty_form_modal_confirmation_description" aria-describedby="dirty_form_modal_confirmation_description"><p id="dirty_form_modal_confirmation_description">Deseja salvar mudanças em #{HTML:displayValue} antes de sair desta página?</p><div class="modal-footer flex"><button class="btn btn-destructive-subdued" role="button" data-action="discard" type="button">Descartar</button><button class="btn btn-primary" role="button" data-action="save" type="button">Salvar</button></div></div></script><script>addRenderEvent(function() {
			var onCondition_d33eebe0877492d086e341170cbb356b_true = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onCondition_d33eebe0877492d086e341170cbb356b_true() {
	if(g_form.getViewName() == 'cia_govops'){
		g_form.setReadOnly('quantidade_de_cargas_total', false);
		g_form.setReadOnly('quantidade_de_cargas_questionadas', false);
		g_form.setReadOnly('quantidade_de_cargas_com_desvio_confirmadas_operacional', false);
		g_form.setReadOnly('quantidade_de_cargas_com_desvio_confirmadas_tecnologico', false);
		g_form.setReadOnly('quantidade_de_cargas_inviaveis_de_analise', false);
	}
}
 return onCondition_d33eebe0877492d086e341170cbb356b_true.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
window.onCondition_d33eebe0877492d086e341170cbb356b_true = onCondition_d33eebe0877492d086e341170cbb356b_true
var onCondition_d33eebe0877492d086e341170cbb356b_false = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onCondition_d33eebe0877492d086e341170cbb356b_false() {

}
 return onCondition_d33eebe0877492d086e341170cbb356b_false.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
window.onCondition_d33eebe0877492d086e341170cbb356b_false = onCondition_d33eebe0877492d086e341170cbb356b_false
function onCondition_06a0f3910b2003005775aabcb4673a4a_true() {
	g_form.setSectionDisplay("major_incident", false);
}
window.onCondition_06a0f3910b2003005775aabcb4673a4a_true = onCondition_06a0f3910b2003005775aabcb4673a4a_true
function onCondition_06a0f3910b2003005775aabcb4673a4a_false() {
	g_form.setSectionDisplay("major_incident", true);
}
window.onCondition_06a0f3910b2003005775aabcb4673a4a_false = onCondition_06a0f3910b2003005775aabcb4673a4a_false
function onCondition_76021c8473811300cab854eb7df6a783_true() {
	g_form.setSectionDisplay("post_incidentreport", true);
}
window.onCondition_76021c8473811300cab854eb7df6a783_true = onCondition_76021c8473811300cab854eb7df6a783_true
function onCondition_76021c8473811300cab854eb7df6a783_false() {
	g_form.setSectionDisplay("post_incidentreport", false);
}
window.onCondition_76021c8473811300cab854eb7df6a783_false = onCondition_76021c8473811300cab854eb7df6a783_false
var onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_true = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_true() {
    //Use g_form.setMandatory('field_name', true) para tornar um campo obrigatório
    g_form.setMandatory('u_diagnosis', true);
}

 return onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_true.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
window.onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_true = onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_true
var onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_false = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_false() {

}
 return onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_false.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
window.onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_false = onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_false
var onCondition_68a52053dbbc1c105eaf639014961971_true = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onCondition_68a52053dbbc1c105eaf639014961971_true() {
	if(g_form.getViewName() == 'cia_govops'){
		g_form.setReadOnly('u_requested_for', true);
		g_form.setReadOnly('u_catalog_item', true);
		g_form.setMandatory('description', true);
		g_form.setMandatory('state', true);
		g_form.setReadOnly('priority', false);
	}
}
 return onCondition_68a52053dbbc1c105eaf639014961971_true.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
window.onCondition_68a52053dbbc1c105eaf639014961971_true = onCondition_68a52053dbbc1c105eaf639014961971_true
var onCondition_68a52053dbbc1c105eaf639014961971_false = (function(GlideAjax,g_form,GlideDialogWindow,GlideRecord,window,document,$,jQuery,$$,$j,$F,gel,undefined){
 "use strict"; 
function onCondition_68a52053dbbc1c105eaf639014961971_false() {

}
 return onCondition_68a52053dbbc1c105eaf639014961971_false.bind(null)})(GlideAjax,ScopedGFormGenerator("global"),ScopedGlideDialogWindowGenerator("global"),GlideRecord,null,null,null,null,null,null,null,null);
window.onCondition_68a52053dbbc1c105eaf639014961971_false = onCondition_68a52053dbbc1c105eaf639014961971_false
		});ui_policy_add([{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"caller_id","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"true","name":"contact_type","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"true","name":"assignment_group","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"true","name":"short_description","visible":"ignore"}],"condition_fields":["state"],"conditions":[{"field":"state","newquery":false,"oper":"=","or":false,"term":"state=1","type":"integer","value":"1"},{"field":"state","newquery":false,"oper":"=","or":true,"term":"state=2","type":"integer","value":"2"},{"field":"state","newquery":false,"oper":"=","or":true,"term":"state=3","type":"integer","value":"3"},{"field":"state","newquery":false,"oper":"=","or":true,"term":"state=6","type":"integer","value":"6"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Fields set to mandatory for all states","source_table":"sys_ui_policy","sys_id":"0c090e93d7b30200f2d224837e61030a","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"due_date","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"opened_by","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"number","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_catalog_item","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_subcategory","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_symptom","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"sys_created_on","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_category","visible":"ignore"}],"condition_fields":[],"conditions":[],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: Fields set to Read Only for all states","source_table":"sys_ui_policy","sys_id":"5c9e3b84db0e330017a25c4bf396191a","table":"sys_ui_policy"},{"actions":[],"condition_fields":[],"conditions":[],"debug":false,"list_actions":[],"onload":true,"reverse":false,"script_false":"onCondition_d33eebe0877492d086e341170cbb356b_false","script_true":"onCondition_d33eebe0877492d086e341170cbb356b_true","short_description":"RAI:  Remove obrigatoriedade","source_table":"sys_ui_policy","sys_id":"d33eebe0877492d086e341170cbb356b","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"actions_taken","visible":"false"}],"condition_fields":["major_incident_state"],"conditions":[{"field":"major_incident_state","newquery":false,"oper":"=","or":false,"term":"major_incident_state=","type":"string","value":""}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"onCondition_06a0f3910b2003005775aabcb4673a4a_false","script_true":"onCondition_06a0f3910b2003005775aabcb4673a4a_true","short_description":"Hide Major Incident and Actions Taken when major incident state is empty","source_table":"sys_ui_policy","sys_id":"06a0f3910b2003005775aabcb4673a4a","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"u_frente","visible":"true"}],"condition_fields":["u_catalog_item"],"conditions":[{"field":"u_catalog_item","newquery":false,"oper":"=","or":false,"term":"u_catalog_item=0eb3fa7fdb78d050d0fecf241496196f","type":"reference","value":"0eb3fa7fdb78d050d0fecf241496196f"},{"field":"u_catalog_item","newquery":false,"oper":"=","or":true,"term":"u_catalog_item=5a5f80e1db099c50d0fecf2414961911","type":"reference","value":"5a5f80e1db099c50d0fecf2414961911"},{"field":"u_catalog_item","newquery":false,"oper":"=","or":true,"term":"u_catalog_item=fc4ad471db0d1c505eaf639014961968","type":"reference","value":"fc4ad471db0d1c505eaf639014961968"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Exibir campo Frente","source_table":"sys_ui_policy","sys_id":"89590f661b3dd4109a3c86afe54bcbe7","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_fire_sys_inc","visible":"ignore"}],"condition_fields":["u_catalog_item..."],"conditions":[{"field":"u_catalog_item...","newquery":false,"oper":"=","or":false,"term":"u_catalog_item...=062223b91bf6cd10fb2cb8481b4bcb90","type":"__preevaluated__","value":false}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"FIRE/SYS INC","source_table":"sys_ui_policy","sys_id":"b128e1b61b261550f61c0dcbe54bcb6e","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_status_desenvolvimento","visible":"true"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_estimativa_horas","visible":"true"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_data_alvo","visible":"true"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_data_faturamento","visible":"true"}],"condition_fields":["assignment_group"],"conditions":[{"field":"assignment_group","newquery":false,"oper":"=","or":false,"term":"assignment_group=c15d36e31b3d9050cb452170f54bcb21","type":"reference","value":"c15d36e31b3d9050cb452170f54bcb21"},{"field":"assignment_group","newquery":false,"oper":"=","or":true,"term":"assignment_group=0e161636db4504d05b43b11ba39619a2","type":"reference","value":"0e161636db4504d05b43b11ba39619a2"},{"field":"assignment_group","newquery":false,"oper":"=","or":true,"term":"assignment_group=c6c213cddb32c810fbe2ad241496195e","type":"reference","value":"c6c213cddb32c810fbe2ad241496195e"},{"field":"assignment_group","newquery":false,"oper":"=","or":true,"term":"assignment_group=7c2febbcdb2051505febb11ba396192f","type":"reference","value":"7c2febbcdb2051505febb11ba396192f"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Aoop: Campos de faturamento","source_table":"sys_ui_policy","sys_id":"b80dd7061bbfd4509a3c86afe54bcb3b","table":"sys_ui_policy"},{"actions":[{"cleared":"true","disabled":"ignore","mandatory":"ignore","name":"hold_reason","visible":"ignore"}],"condition_fields":["state"],"conditions":[{"field":"state","newquery":false,"oper":"!=","or":false,"term":"state!=3","type":"integer","value":"3"}],"debug":false,"list_actions":[],"onload":true,"reverse":false,"script_false":"","script_true":"","short_description":"ALP:clear 'on hold reason' value","source_table":"sys_ui_policy","sys_id":"c7b46c86dbcc80105b43b11ba396190a","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"universal_request","visible":"false"}],"condition_fields":["universal_request"],"conditions":[{"field":"universal_request","newquery":false,"oper":"ISEMPTY","or":false,"term":"universal_requestISEMPTY","type":"__preevaluated__","value":true}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Hide Universal Request if empty","source_table":"sys_ui_policy","sys_id":"ca7f98c7879f00105c29af1e36cb0b97","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"hold_reason","visible":"true"}],"condition_fields":["state"],"conditions":[{"field":"state","newquery":false,"oper":"=","or":false,"term":"state=3","type":"integer","value":"3"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"When state is On Hold the On hold reason field is visible and mandatory","source_table":"sys_ui_policy","sys_id":"d8e02184c3b30200b6dcdfdc64d3ae30","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"parent_incident","visible":"ignore"}],"condition_fields":["major_incident_state"],"conditions":[{"field":"major_incident_state","newquery":false,"oper":"=","or":false,"term":"major_incident_state=accepted","type":"string","value":"accepted"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Make Parent Incident field Read Only for Major Incidents","source_table":"sys_ui_policy","sys_id":"e9349b0e3b10030050bec9bb34efc44a","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"proposed_by","visible":"true"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"promoted_by","visible":"false"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"proposed_on","visible":"true"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"promoted_on","visible":"false"}],"condition_fields":["major_incident_state"],"conditions":[{"field":"major_incident_state","newquery":false,"oper":"=","or":false,"term":"major_incident_state=proposed","type":"string","value":"proposed"},{"field":"major_incident_state","newquery":false,"oper":"=","or":true,"term":"major_incident_state=rejected","type":"string","value":"rejected"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Show proposed_by and proposed_on fields when major incident state is proposed/rejected","source_table":"sys_ui_policy","sys_id":"eaaebe5387a413000e3dd61e36cb0b9f","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"assigned_to","visible":"ignore"}],"condition_fields":["state","hold_reason"],"conditions":[{"field":"state","newquery":false,"oper":">=","or":false,"term":"state>=2","type":"integer","value":"2"},{"field":"hold_reason","newquery":false,"oper":"!=","or":false,"term":"hold_reason!=1","type":"integer","value":"1"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: Assigned to Mandatory when In Progress or bigger","source_table":"sys_ui_policy","sys_id":"ef28c89cdb0e330017a25c4bf396198e","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"u_correlation_number","visible":"true"}],"condition_fields":["u_correlation_number"],"conditions":[{"field":"u_correlation_number","newquery":false,"oper":"ISNOTEMPTY","or":false,"term":"u_correlation_numberISNOTEMPTY","type":"string","value":""}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"RAI: Show Correlation Number","source_table":"sys_ui_policy","sys_id":"86563a0c1b800e90f61c0dcbe54bcbd2","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_symptom","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"true","name":"u_catalog_item","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"true","name":"u_category","visible":"ignore"},{"cleared":"false","disabled":"ignore","mandatory":"true","name":"u_service","visible":"ignore"}],"condition_fields":["state"],"conditions":[{"field":"state","newquery":false,"oper":"=","or":false,"term":"state=1","type":"integer","value":"1"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: Make Categorization Mandatory","source_table":"sys_ui_policy","sys_id":"7d05c707db21c0105eaf639014961940","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"route_reason","visible":"true"}],"condition_fields":["route_reason","universal_request"],"conditions":[{"field":"universal_request","newquery":false,"oper":"ISNOTEMPTY","or":false,"term":"universal_requestISNOTEMPTY","type":"__preevaluated__","value":false},{"field":"route_reason","newquery":false,"oper":"ISNOTEMPTY","or":false,"term":"route_reasonISNOTEMPTY","type":"__preevaluated__","value":false}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Show Route Reason when incident is routed to universal request","source_table":"sys_ui_policy","sys_id":"3498a7dc73330010cbb654eb7df6a70e","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"u_solicitante_ibm","visible":"true"}],"condition_fields":["u_category","contact_type","opened_by","u_catalog_item"],"conditions":[{"field":"opened_by","newquery":false,"oper":"=","or":false,"term":"opened_by=2417419cdb477b0017a25c4bf39619ef","type":"reference","value":"2417419cdb477b0017a25c4bf39619ef"},{"field":"u_category","newquery":false,"oper":"=","or":false,"term":"u_category=e47db7b4db07fb0017a25c4bf396194b","type":"reference","value":"e47db7b4db07fb0017a25c4bf396194b"},{"field":"opened_by","newquery":true,"oper":"=","or":false,"term":"opened_by=8ac195ad1b92c550fb2cb8481b4bcb87","type":"reference","value":"8ac195ad1b92c550fb2cb8481b4bcb87"},{"field":"contact_type","newquery":false,"oper":"=","or":false,"term":"contact_type=integration","type":"string","value":"integration"},{"field":"u_catalog_item","newquery":true,"oper":"=","or":false,"term":"u_catalog_item=dd11552cdb03bb0017a25c4bf3961995","type":"reference","value":"dd11552cdb03bb0017a25c4bf3961995"},{"field":"u_category","newquery":false,"oper":"=","or":false,"term":"u_category=e47db7b4db07fb0017a25c4bf396194b","type":"reference","value":"e47db7b4db07fb0017a25c4bf396194b"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"[AOOP] Campo Solicitante","source_table":"sys_ui_policy","sys_id":"3d064eef1b40e990f61c0dcbe54bcb71","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"parent","visible":"true"}],"condition_fields":["parent","close_code"],"conditions":[{"field":"close_code","newquery":false,"oper":"=","or":false,"term":"close_code=duplicated","type":"string","value":"duplicated"},{"field":"parent","newquery":true,"oper":"ISNOTEMPTY","or":false,"term":"parentISNOTEMPTY","type":"reference","value":""}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: Mandatory parent duplicated","source_table":"sys_ui_policy","sys_id":"3f8af0d2db7dff005b43b11ba396191e","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"origin_table","visible":"false"},{"cleared":"false","disabled":"ignore","mandatory":"ignore","name":"origin_id","visible":"false"}],"condition_fields":[],"conditions":[],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Hide origin table and record on Incident form","source_table":"sys_ui_policy","sys_id":"459c7cb4ff0a3110b745ffffffffff1a","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"u_diagnosis","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"state","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"opened_at","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"opened_by","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"closed_at","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"closed_by","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"company","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"caller_id","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"impact","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"urgency","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"location","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"number","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"cmdb_ci","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"category","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"escalation","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"assignment_group","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"assigned_to","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"short_description","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"contact_type","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"close_notes","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"close_code","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"comments","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"knowledge","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"work_notes","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"description","visible":"ignore"},{"cleared":"false","disabled":"true","mandatory":"ignore","name":"correlation_id","visible":"ignore"}],"condition_fields":["incident_state"],"conditions":[{"field":"incident_state","newquery":false,"oper":"=","or":false,"term":"incident_state=7","type":"__preevaluated__","value":false},{"field":"incident_state","newquery":false,"oper":"=","or":true,"term":"incident_state=8","type":"__preevaluated__","value":false}],"debug":false,"list_actions":[],"onload":true,"reverse":false,"script_false":"","script_true":"","short_description":"Make fields read-only on close","source_table":"sys_ui_policy","sys_id":"66f94c730a0a0b0900aaaf5b88527230","table":"sys_ui_policy"},{"actions":[],"condition_fields":["state","major_incident_state"],"conditions":[{"field":"state","newquery":false,"oper":"=","or":false,"term":"state=6","type":"integer","value":"6"},{"field":"state","newquery":false,"oper":"=","or":true,"term":"state=7","type":"integer","value":"7"},{"field":"major_incident_state","newquery":false,"oper":"=","or":false,"term":"major_incident_state=accepted","type":"string","value":"accepted"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"onCondition_76021c8473811300cab854eb7df6a783_false","script_true":"onCondition_76021c8473811300cab854eb7df6a783_true","short_description":"Show Post Incident Report Section when state is resolved or closed and major incident state is accepted","source_table":"sys_ui_policy","sys_id":"76021c8473811300cab854eb7df6a783","table":"sys_ui_policy"},{"actions":[],"condition_fields":["u_catalog_item"],"conditions":[{"field":"u_catalog_item","newquery":false,"oper":"=","or":false,"term":"u_catalog_item=0b70d1e8db03bb0017a25c4bf396197b","type":"reference","value":"0b70d1e8db03bb0017a25c4bf396197b"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_false","script_true":"onCondition_fb3f4f091b3af5d0f61c0dcbe54bcb42_true","short_description":"Diagnóstico obrigatório tecnologia operacional","source_table":"sys_ui_policy","sys_id":"fb3f4f091b3af5d0f61c0dcbe54bcb42","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"impact","visible":"ignore"}],"condition_fields":["cmdb_ci","business_service","u_catalog_item","sys_created_by"],"conditions":[{"field":"cmdb_ci","newquery":false,"oper":"ISNOTEMPTY","or":false,"term":"cmdb_ciISNOTEMPTY","type":"reference","value":""},{"field":"business_service","newquery":false,"oper":"ISNOTEMPTY","or":true,"term":"business_serviceISNOTEMPTY","type":"reference","value":""},{"field":"u_catalog_item","newquery":false,"oper":"!=","or":false,"term":"u_catalog_item!=0c48963b1b83dc1056cf0d8fe54bcbaa","type":"reference","value":"0c48963b1b83dc1056cf0d8fe54bcbaa"},{"field":"sys_created_by","newquery":false,"oper":"!=","or":false,"term":"sys_created_by!=APP_IBM_REMEDY","type":"__preevaluated__","value":true},{"field":"u_catalog_item","newquery":false,"oper":"!=","or":false,"term":"u_catalog_item!=f9c57e2a1bcb2890edbd87bfe54bcbc2","type":"reference","value":"f9c57e2a1bcb2890edbd87bfe54bcbc2"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: Impact read only when CI is not null","source_table":"sys_ui_policy","sys_id":"4c3f6ad4db0480905b43b11ba39619ee","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"comments","visible":"ignore"}],"condition_fields":["state","hold_reason"],"conditions":[{"field":"hold_reason","newquery":false,"oper":"=","or":false,"term":"hold_reason=1","type":"integer","value":"1"},{"field":"state","newquery":false,"oper":"=","or":false,"term":"state=3","type":"integer","value":"3"}],"debug":false,"list_actions":[],"onload":false,"reverse":true,"script_false":"","script_true":"","short_description":"Make the field 'Additional Comments' mandatory when the On Hold Reason is 'Awaiting Caller'","source_table":"sys_ui_policy","sys_id":"31aa2d560b001300ed45478d83673a41","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"true","mandatory":"ignore","name":"priority","visible":"ignore"}],"condition_fields":[],"conditions":[],"debug":false,"list_actions":[],"onload":true,"reverse":false,"script_false":"","script_true":"","short_description":"Priority is managed by Data Lookup - set as read-only","source_table":"sys_ui_policy","sys_id":"3f004001a7102000dada192bd9acf4bf","table":"sys_ui_policy"},{"actions":[],"condition_fields":[],"conditions":[],"debug":false,"list_actions":[],"onload":true,"reverse":false,"script_false":"onCondition_68a52053dbbc1c105eaf639014961971_false","script_true":"onCondition_68a52053dbbc1c105eaf639014961971_true","short_description":"Aoop: Fields CIA GovOps Read only and Mandatory","source_table":"sys_ui_policy","sys_id":"68a52053dbbc1c105eaf639014961971","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"u_timespent","visible":"ignore"}],"condition_fields":["agile_story","assignment_group.type","assignment_group.manager.manager","u_timespent","sys_class_name"],"conditions":[{"field":"u_timespent","newquery":false,"oper":"ISEMPTY","or":false,"term":"u_timespentISEMPTY","type":"glide_duration","value":""},{"field":"agile_story","newquery":false,"oper":"ISEMPTY","or":false,"term":"agile_storyISEMPTY","type":"__preevaluated__","value":true},{"field":"sys_class_name","newquery":false,"oper":"=","or":false,"term":"sys_class_name=incident","type":"__preevaluated__","value":true},{"field":"sys_class_name","newquery":false,"oper":"=","or":true,"term":"sys_class_name=sc_req_item","type":"__preevaluated__","value":false},{"field":"sys_class_name","newquery":false,"oper":"=","or":true,"term":"sys_class_name=sc_task","type":"__preevaluated__","value":false},{"field":"sys_class_name","newquery":false,"oper":"=","or":true,"term":"sys_class_name=task","type":"__preevaluated__","value":false},{"field":"sys_class_name","newquery":false,"oper":"!=","or":false,"term":"sys_class_name!=vtb_task","type":"__preevaluated__","value":true},{"field":"assignment_group.type","newquery":false,"oper":"NOT LIKE","or":false,"term":"assignment_group.typeNOT LIKE910bed7887cc2a5086e341170cbb3546","type":"__preevaluated__","value":true},{"field":"u_timespent","newquery":true,"oper":"ISEMPTY","or":false,"term":"u_timespentISEMPTY","type":"glide_duration","value":""},{"field":"sys_class_name","newquery":false,"oper":"=","or":false,"term":"sys_class_name=x_raesa_hr_human_resources","type":"__preevaluated__","value":false},{"field":"assignment_group.manager.manager","newquery":false,"oper":"=","or":false,"term":"assignment_group.manager.manager=7c08b65adb6d3b005b43b11ba3961940","type":"__preevaluated__","value":false}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: TimeSpent Mandatory","source_table":"sys_ui_policy","sys_id":"33359db0dbe9c4105eaf6390149619e0","table":"sys_ui_policy"},{"actions":[{"cleared":"false","disabled":"ignore","mandatory":"true","name":"cmdb_ci","visible":"ignore"}],"condition_fields":["sys_class_name"],"conditions":[{"field":"sys_class_name","newquery":false,"oper":"=","or":false,"term":"sys_class_name=incident","type":"__preevaluated__","value":true},{"field":"sys_class_name","newquery":false,"oper":"=","or":true,"term":"sys_class_name=problem","type":"__preevaluated__","value":false},{"field":"sys_class_name","newquery":false,"oper":"=","or":true,"term":"sys_class_name=change_request","type":"__preevaluated__","value":false}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"ALP: Make CI mandatory","source_table":"sys_ui_policy","sys_id":"a06733f11bd90090f7da76295b4bcb1d","table":"sys_ui_policy"},{"actions":[{"cleared":"undefined","disabled":"ignore","mandatory":"true","name":"close_code","visible":"ignore"},{"cleared":"undefined","disabled":"ignore","mandatory":"true","name":"close_notes","visible":"ignore"}],"condition_fields":["state","u_catalog_item"],"conditions":[{"field":"state","newquery":false,"oper":"IN","or":false,"term":"stateIN6,7,8","type":"integer","value":"6,7,8"},{"field":"u_catalog_item","newquery":false,"oper":"!=","or":false,"term":"u_catalog_item!=dd11552cdb03bb0017a25c4bf3961995","type":"reference","value":"dd11552cdb03bb0017a25c4bf3961995"},{"field":"u_catalog_item","newquery":false,"oper":"!=","or":true,"term":"u_catalog_item!=6901ac56db6748105eaf63901496193f","type":"reference","value":"6901ac56db6748105eaf63901496193f"}],"debug":false,"list_actions":[],"onload":true,"reverse":true,"script_false":"","script_true":"","short_description":"Make close info mandatory when resolved or closed","source_table":"sys_data_policy2","sys_id":"d3efcfbf3bf2320050bec9bb34efc4c2","table":"sys_data_policy2"}]);
	        addRenderEvent(ui_policy_onLoad);
			jslog("added render event for ui_policy_onLoad");</script><script>/*! RESOURCE: /scripts/DataLookup.jsx */
(function (w) {
	w.DataLookup = {
		fields: {},
		addDataLookupDefinition: function(field, id) {
			if (!window.DataLookup.fields[field])
				window.DataLookup.fields[field] = [id];
			else
				window.DataLookup.fields[field].push(id);
		},
		bindEventHandlers: function() {
			for (var field in window.DataLookup.fields) {
				window.g_event_handlers.push({
					fieldName: field,
					handler: function (control, oldValue, newValue, isLoading) {
						window.setTimeout(function(){
							window.DataLookup.process(control, oldValue, newValue, isLoading);
						});
					}
				});
			}
		},
		process: function(control, oldValue, newValue, isLoading) {
			if (isLoading || !g_form)
				return;
			var serializedForm = g_form.serialize();
			if (!serializedForm || (
				w.DataLookup.lastLookup === serializedForm && w.DataLookup.lastLookupField === control.name))
				return;
			if (w.g_skip_dataLookup)
				return;
			for (var i = 0; i < this.fields[control.name].length; i++) {
				w.DataLookup.lastLookupField = control.name;
				w.DataLookup.lastLookup = serializedForm;
				this.processAjaxRequest(this.fields[control.name][i], control);
			}
		},
		processAjaxRequest: function(lookupId, control) {
			var ajax = new GlideAjax('AJAXDataLookup');
			ajax.addParam('sysparm_silent_request', 'true');
			ajax.addParam('sys_lookup_id', lookupId);
			ajax.addParam('sys_target', g_form.getTableName());
			ajax.addParam('sys_uniqueValue', g_form.getUniqueValue());
			ajax.addEncodedString(w.DataLookup.lastLookup);
			ajax.getXML(function(response) {
				CustomEvent.fire('glide_optics_inspect_put_context', 'data_lookup', 'onchange of ' + control.name);
				$A(response.responseXML.getElementsByTagName('item')).each(function(item) {
					var name = item.getAttribute('name');
					var val = item.getAttribute('value');
					var label = item.getAttribute('label');
					w.g_skip_datalookup = true;
					if (val != null && label != null)
						g_form.setValue(name, val, label);
					else
						g_form.setValue(name, val);
					w.g_skip_datalookup = false;
				});
				CustomEvent.fire('glide_optics_inspect_pop_context');
			})
		}
	};
})(window);
;</script><script type="text/javascript">addRenderEvent(function() {
		// if DataLookup.js didn't load, don't throw errors
		if (!window.DataLookup)
			return;window.DataLookup.addDataLookupDefinition('incident.urgency', '302849102b031000de0aba36a3fd5631');window.DataLookup.addDataLookupDefinition('incident.impact', '302849102b031000de0aba36a3fd5631');window.DataLookup.addDataLookupDefinition('incident.cmdb_ci', '95bd23372b321000de0aba36a3fd5644');window.DataLookup.addDataLookupDefinition('incident.location', '95bd23372b321000de0aba36a3fd5644');window.DataLookup.addDataLookupDefinition('incident.subcategory', '95bd23372b321000de0aba36a3fd5644');window.DataLookup.addDataLookupDefinition('incident.category', '95bd23372b321000de0aba36a3fd5644');window.DataLookup.bindEventHandlers();
      });</script><script data-comment="form rendered from form.xml">(function() {
			"use strict";
			gFormSW.jslog("form rendered");
			addTopRenderEvent(tabs2Init);SN.formAnnotations.preference = true;
			SN.formAnnotations.infoPreference = true;

			addRenderEvent(function() {
				SN.formAnnotations.init();
				var g_section_contents = null;
				CustomEvent.fire("form.loaded");
			});addLateLoadEvent(function() {
					CustomEvent.fire('frame.resized');
					CustomEvent.fire('refresh.event');
				});})();// Focus to the first writable element on the form
				//
				// (jayb) Do this as inline script instead of an onload event so that it
				// runs at form render time, not after other onload events that can delay
				// the focus setting and cause it to occur after the user has clicked on
				// a field.
				//
				// If the user has pressed the mouse button, then don't focus since we will
				// be stealing the focus from the use at that point.
				addLoadEvent(function() {
					if (!g_formDirtyFocus) {
						var f = document.forms['incident.do'];
						if (!f) return;
						if (top.NOW.magellan && top.NOW.magellan.setNavigatingState)
							top.NOW.magellan.setNavigatingState(true);
						if (top.NOW.magellan && top.NOW.magellan.invokeWhenShouldFocus){
							top.NOW.magellan.invokeWhenShouldFocus(window, function() {
								focusFirstElement(f);
							});
						}
					}
				});createRowSysId();
		function createRowSysId() {
		var x = gel('sys_uniqueValue');
		if (x)
			rowSysId = x.value;
		}

		// PRB668587 - Fixes Windows 7 IE11 touch scroll issue
		(function() {
			if ((!isMSIE11) || ("ontouchstart" in document.documentElement) || ("ongesturestart" in document.documentElement) || typeof $j === 'undefined')
				return;
			$j('body').removeClass('touch_scroll');
		})();

		var x = NOW.xperf;
		x.formEnd = NOW.xperf.now();
		$j(function() {
			var x = NOW.xperf;
			var ms = Math.round(x.formEnd - x.formBegin);
			CustomEvent.fire('page_timing', { name: 'SECT', ms: ms, win: window });
		})</script><script>try {
				NOW.recordMembers = JSON.parse("{\"f617aff2db5b05505febb11ba39619a9\":{\"name\":\"oxxo-apemota\",\"initials\":\"O\",\"last_name\":\"\",\"sys_id\":\"f617aff2db5b05505febb11ba39619a9\",\"record_is_visible\":true},\"3fa483991bda71503b420e50f54bcba9\":{\"name\":\"Andreia Alexandre Silva Pinheiro\",\"initials\":\"AP\",\"last_name\":\"\",\"sys_id\":\"3fa483991bda71503b420e50f54bcba9\",\"record_is_visible\":true}}");
			} catch(e) {
				jslog("Error parsing record members: " + e);
			}</script><script type="text/javascript" data-description="Angular initialize">function initAngularForm() {
			var baseModules = [];baseModules = baseModules.concat(['sn.common.video', 'sn.common.stream', 'heisenberg', 'sn.form_presence']);return window.ANGULAR_BOOTSTRAPPER.bootstrap(baseModules);}</script>
	
	<div class="modal" id="createFavoritesModal" aria-labelledby="favorite_modal_title" name="create_favorites_modal" role="dialog">
		<div class="modal-dialog modal-md">
			<div class="modal-content">
				<header class="modal-header clearfix">
					<button data-dismiss="modal" class="btn btn-icon close icon-cross">
						<span class="sr-only">Fechar</span></button>
					<h2 id="favorite_modal_title" class="modal-title pull-left h4">Criar favorito</h2></header>
				<form class="create-favorite" name="create_favorite_form">
					<div class="modal-body clearfix">
					<div id="output_messages_favorite" class="outputmsg_container outputmsg_hide compact">
						<button aria-label="Fechar Mensagens" class="btn btn-icon close icon-cross"></button>
						<div class="outputmsg_div" aria-live="polite" role="region" data-server-messages="false"></div></div>
						<div id="favorite_preview"><span></span></div>
						<label class="sr-only" for="create_favorite_title" aria-labelledby="create_favorite_title">Marcar título</label>
						<input type="text" id="create_favorite_title" name="title" class="form-control" value="" aria-label="Marcar título" aria-required="true" aria-invalid="false" placeholder="Marcar título"></input>
						<input type="hidden" name="url" value=""></input>
						<input type="hidden" name="window_name" value=""></input>
						<input type="hidden" name="id" value=""></input>
						<input type="hidden" name="color" value=""></input>
						<div class="color-picker">
							<fieldset id="icon_colors">
								<legend class="sr-only">Cor</legend></fieldset></div>
						<input type="hidden" name="icon" value=""></input>
						<div class="icon-picker">
							<fieldset id="icon_picker" class="nav-edit-favorites-icon-grid">
								<legend class="sr-only">Ícone</legend></fieldset></div></div>
					<div class="modal-footer">
						<button data-dismiss="modal" type="button" class="btn btn-default">Cancelar</button>
						<button type="submit" class="btn btn-primary">Concluído</button></div></form>
				<script type="text/javascript">
					
						window.MagellanCreateFavorites = {
							navColors : ["purple","blue","cyan","aquamarine","green","yellow","orange","burnt-orange","red","pink","fuschia","white"],
							navIcons : ["article-document","user","user-group","lightbulb","home","mobile","comment","mail","locked","database","book","drawer","folder","catalog","tab","cards","tree-right","tree","book-open","paperclip","edit","trash","image","search","power","cog","star","star-empty","new-ticket","dashboard","cart-full","view","label","filter","calendar","script","add","delete","help","check-circle","alert","sort-ascending","console","list","form","livefeed","key","hr"],
							paramBlackList : ["sysparm_no_stack","sysparm_userpref_module","sysparm_record_target","sysparm_record_row","sysparm_record_rows","sysparm_record_list"]
						};
					</script>
				<script type="text/javascript" src="/scripts/thirdparty/radio/radioButton.jsx?v=05-22-2025_2350&amp;lang=pb"></script>
				<script type="text/javascript" src="/scripts/thirdparty/radio/radioGroup.jsx?v=05-22-2025_2350&amp;lang=pb"></script>
				<script type="text/javascript" src="/scripts/magellan.CreateFavoriteModal.jsx?v=05-22-2025_2350&amp;lang=pb"></script></div></div></div><script>CustomEvent.fireTop('magellanNavigator.historyAdded', {history : JSON.parse("{\"table\":\"incident\",\"id\":\"a7ca62f53bd26e1015086e9985e45a41\",\"timestamp\":1750695428000,\"description\":\"Relatar um problema\",\"timestampOffset\":1750694528000,\"url\":\"incident.do?sys_id=aea9612d87dee2100030cb340cbb35fd\",\"targetSysId\":\"aea9612d87dee2100030cb340cbb35fd\",\"title\":\"Incidente\",\"createdString\":\"23/06/2025 13:17:08\",\"prettyTitle\":\"Incidente\"}")});</script><script>window.NOW.UXMetrics = window.NOW.UXMetrics || {};
			window.NOW.UXMetrics.viewInfo = {
				'viewId': 'Default view',
				'viewName': 'Exibição padrão'
			}</script><script type="module">import("/uxasset/externals/@devsnc/library-intent-channel/index.jsdbx")
						.then(function (libraryIntentChannel) {
							var registerTranslator = libraryIntentChannel.registerTranslator;
							var setActiveTranslator = libraryIntentChannel.setActiveTranslator;
							var updateContext = libraryIntentChannel.updateContext;

							try {
								var sysId = 'aea9612d87dee2100030cb340cbb35fd';
								var table = 'incident';

								var translatorKey = "form/" + table + "/" + sysId;

								var context = {
									table,
									sysId,
									experienceName: 'Core UI'
								};

								registerTranslator(translatorKey, function () {}, context);
								setActiveTranslator(translatorKey);

								updateContext(translatorKey, context);

							} catch(e) {
								jslog("Error in registering Now Assist context: " + e);
							}
					
						}).catch(function (e) {
							jslog("Error in registering Now Assist context: " + e);
						});</script><div style="border:none; visibility:hidden"><form name="sys_personalize" method="GET" action="slushbucket.do"><input type="hidden" name="sysparm_referring_url" value="incident.do?sys_id=aea9612d87dee2100030cb340cbb35fd"></input><input type="hidden" name="sysparm_view" value=""></input></form></div><script type="text/javascript" src="/scripts/ui_page_footer.jsx?v=05-22-2025_2350&amp;lang=pb"></script><span style="display:none" data-comments="js_includes_last_doctype"></span><script type="text/javascript" src="/scripts/thirdparty/dom_purify/purify.jsx?v=05-22-2025_2350&amp;sysparm_substitute=false&amp;lang=pb"></script><script>NOW.xperf.lastDoctypeBegin = NOW.xperf.now();</script><script type="text/javascript" src="/scripts/doctype/js_includes_last_doctype.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/heisenberg/heisenberg_all.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/js_includes_list_edit_doctype.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/transaction_scope_includes.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script>if ('') 
			GlideTransactionScope.setTransactionScope('');
		if ('') 
			GlideTransactionScope.setRecordScope('');
		if ('') 
			GlideTransactionScope.setTransactionUpdateSet('');
		if (typeof g_form != 'undefined')
			$(g_form.getFormElement()).fire('glidescope:initialized', {gts : GlideTransactionScope});</script><span style="display:none" data-comments="requires"></span><script type="text/javascript" src="/scripts/lib/newtag-it.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/form_tags.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/cs.collab/collabButton.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/plugins/CharCounter.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/textAreaCharCount.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/doctype/element_journal_input.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/js_includes_sorting_new.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script>/*! RESOURCE: /scripts/elements/element_attributes.jsx */
addAfterPageLoadedEvent(function () {
document.body.on('click', 'a[data-type="spell_check"]', function(evt, element) {
	spellCheck(element.getAttribute('data-ref'));
});
document.body.on('click', 'a[data-type="mode_toggler"]', function(evt, element) {
	toggleMode(element.getAttribute('data-ref')); 
});
document.body.on('click', 'a[data-type="debug_toggler"]', function(evt, element) {
	toggleDebug(element.getAttribute('data-ref')); 
});
document.body.on('click', 'a[data-type="html_view"]', function(evt, element) {
	htmlView(element.getAttribute('data-ref'), element.getAttribute('data-sys_id')); 
});
function toggleMode(id) {
	var widget = $("ni_mode_" + id);
	if (!widget)
		return;
	var currentMode = widget.value;
	if (currentMode == 'freeform')
		currentMode = 'select';
	else
		currentMode = 'freeform';
	widget.value = currentMode;
	setMyVisibility(id);
	setPreference('mode_' + id, currentMode);
}
});
;</script><script>/*! RESOURCE: /scripts/elements/element_pick_list.jsx */
(function () {
document.on('keyup', 'input[data-type="pick_list"]', function (evt, element) {
	var ref = element.getAttribute('data-ref');
	var d = element.getAttribute('data-dependent');
	acKeyUp(evt, ref, 'PickList', d);
});
document.on('keydown', 'input[data-type="pick_list"]', function (evt, element) {
	var ref = element.getAttribute('data-ref');
	var d = element.getAttribute('data-dependent');
	acKeyDown(evt, ref, 'PickList', d);
});
document.on('keypress', 'input[data-type="pick_list"]', function (evt, element) {
	var ref = element.getAttribute('data-ref');
	checkEnter(evt, ref);
});
document.on('click', 'a[data-type="pick_list"]', function (evt, element) {
	mousePositionSave(evt);
	openPickList(element);
});
document.on('keydown', 'a[data-type="pick_list"]', function (evt, element) {
	if (evt.keyCode === 32) {
		evt.preventDefault();
		openPickList(element);
	}
});
function openPickList(element) {
	var ref = element.getAttribute('data-ref');
	var url = "pick_list.do";
	url += "?sysparm_name=" + element.getAttribute("data-table");
	url += "&sysparm_target=" + element.getAttribute("data-ref");
	url += "&sysparm_element=" + element.getAttribute("data-element");
	url += "&sysparm_view=sys_pick_list";
	picklistOpen(url, 530, 0, 0, element.getAttribute("data-ref"), element.getAttribute("data-dependent"));
}
document.on('click', 'a[data-type="response_pick_list"]', function (evt, element) {
	mousePositionSave(evt);
	var ref = element.getAttribute('data-ref');
	var url = "response_list.do";
	url += "?sysparm_name=" + element.getAttribute("data-table");
	url += "&sysparm_target=" + element.getAttribute("data-ref");
	url += "&sysparm_element=" + element.getAttribute("data-element");
	url += "&sysparm_view=sys_pick_list";
	url += "&sysparm_sys_id=" + element.getAttribute("data-sys_id");
	picklistOpen(url, 530, 0, 0, element.getAttribute("data-ref"));
});
})();
;</script><script>/*! RESOURCE: /scripts/elements/element_attribute_knowledge.jsx */
(function () {
	document.on('click', 'a[data-type="attribute_knowledge"]', function(evt, element) {
	var kb_url_prefix = (document.getElementById("kb_url_prefix") ? document.getElementById("kb_url_prefix").value : 'kb');
    mousePositionSave(evt);
    var customPopup = element.getAttribute('data-custom');
    var table = element.getAttribute('data-table');
    var operator = element.getAttribute('data-op');
    g_kb_search_result_order = element.getAttribute('data-order');
    var usev2search = element.getAttribute('data-legacy-renderer');
    var ref = element.getAttribute('data-for');
	var isSocialQAPluginEnabled = element.getAttribute('data-sqa-installed');
    element = $(ref);
    if (!element)
        return;
    
    window.fillField = ref;
    var searchText = element.value;
    if (customPopup)
        window[customPopup](searchText, element);
    else {
    	var url;
    	if(usev2search == 'true'){
	        url = 'kb_find.do?sysparm_search=' + encodeURIComponent(searchText);
	        url += "&sysparm_nameofstack=kbpop";
	        url += "&sysparm_kb_search_table=" + table;
	        url += "&sysparm_operator=" + operator;
	        url += "&sysparm_order=" + g_kb_search_result_order;
	        popupOpenStandard(url, "kb2task");
    	}else{
	        url = kb_url_prefix+'?id=kb_search&spa=1&query='+ encodeURIComponent(searchText);
	        url += '&sysparm_kb_search_table=' + table;
			if(isSocialQAPluginEnabled == 'true')
			{
				url+='&resources=Knowledge';
			}
	        var width = 1000;
	        var height = 480;
	        var features = "width="+ width +",height="+ height +",toolbar=no,status=no,directories=no,menubar=no,resizable=yes,scrollbars=1";
	        popupOpen(url, "kb2task", width, height, features, true );
		}
    }
});
})();
function setKbSortOrder(value) {
	var fieldName = window.fillField;
	var e = document.getElementById(fieldName);
	e = e.parentNode.parentNode;
	e = $(e);
	var f = e.getElementsBySelector('a[data-for=' + fieldName + ']');
	if (f.length > 0) {
		var g = f[0];
		g.setAttribute('data-order', value);
	}
}
;</script><script>/*! RESOURCE: /scripts/elements/doctype/element_date.jsx */
document.body.on('click', 'a[data-type="element_date"]', function(evt, element) {
	evt.preventDefault();
	var ref = element.getAttribute('data-ref');
	var format = element.getAttribute('data-date_time_format');
ScriptLoader.getScripts('scripts/classes/GwtDateTimePicker.js', function() {
		new GwtDateTimePicker(ref, format, false); 
	});
});
var GlideElementDate = Class.create({
	initialize: function(name){
		this.name = name;
	},
	setValue: function(value, displayValue) {
		gel(this.name).value = displayValue || value;
		onChange(this.name);
		telemetryForRecordUpdateElement(this.name);
	},
	type : "GlideElementDate",
	z : null
});
(function(){
	CachedEvent.after('glideform.initialized', function() {
		var elems = $$('input[data-type="glide_element_date"]');
		elems.each(function(elem, index) {
			var ref = elem.getAttribute('data-ref');
			if (ref) {
				var gdHandler = new GlideElementDate(ref);
				g_form.registerHandler(ref, gdHandler);
			}
			elem.observe('change', function(evt){
				onChange(ref);
				telemetryForRecordUpdateElement(ref);
			});
		})
	});
})();
;</script><script>/*! RESOURCE: /scripts/doctype/element_glide_duration.jsx */
var GlideDurationElement = Class.create({
	initialize: function(name, values, maxLevel, disabled){
		this.name = name;
		this.val = values;
		this.disabled = (disabled === "true") ? true : false;
		this.MAX_UNIT_DAYS = 4;
		this.MAX_UNIT_HOURS = 3;
		this.MAX_UNIT_MINUTES = 2;
		this.MAX_UNIT_SECONDS =  1;
		this.maxLevel = maxLevel;
		if (!this.disabled)
			this.setDurationValues();
	},
	getValue: function(){
		var value = new String(this.val);
		if (value && value.length === 8)
			value = "0 " + value;
		return value;
	},
	getDay: function(){
		return gel("ni." + this.name + "dur_day");
	},
	getHour: function(){
		return gel("ni." + this.name + "dur_hour");
	},
	getMinute: function(){
		return gel("ni." + this.name + "dur_min");
	},
	getSecond: function(){
		return gel("ni." + this.name + "dur_sec");
	},
	setValue: function(value){
		this.val = value;
		this.setDurationValues();
		this.onChange(this.name);
	},
	clearValue : function(noOnChange) {
		this.val = "";
		this.setDurationValues();
		if (!noOnChange)
			this.onChange(this.name);
	},
	isDisabled: function(){
		return this.disabled;
	},
	setReadOnly: function(disabled){
		if (typeof disabled === 'boolean')
			this.disabled = disabled;
		else if (typeof disabled === 'string')
			this.disabled = disabled === 'true';
		else
			this.disabled = !!disabled;
		if (this.maxLevel == this.MAX_UNIT_DAYS && this.getDay()) {
			this.getDay().disabled = disabled;
		}
		if (this.maxLevel >= this.MAX_UNIT_HOURS && this.getHour()) {
			this.getHour().disabled = disabled;
		}
		if (this.maxLevel >= this.MAX_UNIT_MINUTES && this.getMinute()) {
			this.getMinute().disabled = disabled;
		}
		if (this.getSecond())
			this.getSecond().disabled = disabled;
		if (gel(this.name))
			gel(this.name).disabled = disabled;
	},
	updateRealDuration: function() {
		var iDay = 0;
		if (this.maxLevel == this.MAX_UNIT_DAYS) {
			var day = document.getElementById('ni.'+ this.name +'dur_day');
			if (day)
				iDay = this._parseDuration(day.value);
		}
		var iHour = 0;
		if (this.maxLevel >= this.MAX_UNIT_HOURS) {
			var hour = document.getElementById('ni.'+ this.name +'dur_hour');
			if (hour)
				iHour = this._parseDuration(hour.value);
		}
		var iMin = 0;
		if (this.maxLevel >= this.MAX_UNIT_MINUTES) {
			var min = document.getElementById('ni.' + this.name +'dur_min');
			if (min)
				iMin = this._parseDuration(min.value);
		}
		var sec = document.getElementById('ni.' + this.name +'dur_sec');
		var iSec = 0;
		if (sec)
			iSec = this._parseDuration(sec.value);
		if (iSec >= 60) {
iMin += Math.floor(iSec / 60);
			iSec = iSec % 60;
		}
		if (iMin >= 60) {
iHour += Math.floor(iMin / 60);
			iMin = iMin % 60;
		}
		if (iHour >= 24) {
iDay += Math.floor(iHour / 24);
			iHour = iHour % 24;
		}
		iSec = this._padDuration(iSec);
		iMin = this._padDuration(iMin);
		iHour = this._padDuration(iHour);
		this.val = (iDay != 0 ? iDay + " " : "") + iHour + ":" + iMin + ":" + iSec;
this.updateDurationDbValue( true);
	},
	_parseDuration: function (intString) {
		var num = parseInt(intString || 0, 10);
		return num;
	},
	_padDuration: function (num) {
		if (isNaN(num))
			return "00";
		if (num >= 10)
			return num;
		return "0" + num;
	},
	_durationIsZero: function () {
return ( this.val == "" || /^0+ 00:00:00$/.test(this.val) || /^00+ 00:00:00$/.test(this.val) || /^0+:0+:00$/.test(this.val) || /^0+:00$/.test(this.val) || /^0+$/.test(this.val) );
	},
	_checkEpoch: function(days){
if(/[0-9]{4}-[0-9]{2}-[0-9]{2}/.test(days)){
			days = new Date(days).getTime();
days = Math.floor(days / (24*60*60*1000));
		}
		return days;
	},
	updateDurationDbValue: function (fireOnchange) {
		if (this._durationIsZero()){
this.val = "";
		}
		var sdata = document.getElementById(this.name);
		if (sdata && (this.val != sdata.value))
			sdata.value = this.val;
		if (fireOnchange)
			this.onChange(this.name);
	},
	setDurationValues: function () {
		var left = this.val;
		if(left == "" || left == null){
			left = "00 00:00:00"
		}
		var days = 0;
		var daysEnd = left.indexOf(' ');
		if (daysEnd > -1) {
			days = left.substring(0, daysEnd);
			days = this._checkEpoch(days);
			left = left.substring(daysEnd + 1);
		}
		var x = left.indexOf(':');
		var hours = left.substring(0, x);
		var day;
		var hour;
		var min;
		if (this.maxLevel < this.MAX_UNIT_DAYS)
			hours = parseInt(hours,10) + (days * 24);
		else {
			day = document.getElementById('ni.'+ this.name +'dur_day');
			if (day)
				day.value = days;
		}
		left = left.substring(x + 1);
		x = left.indexOf(':');
		var mins = left.substring(0, x);
		if (this.maxLevel < this.MAX_UNIT_HOURS)
			mins = parseInt(mins,10) + (hours * 60);
		else {
			hour = document.getElementById('ni.'+ this.name +'dur_hour');
			if (hour)
				hour.value = hours;
		}
		left = left.substring(x + 1);
		var secs = left;
		if (this.maxLevel < this.MAX_UNIT_MINUTES)
			secs = parseInt(secs,10) + (mins * 60);
		else {
			min = document.getElementById('ni.' + this.name +'dur_min');
			if (min)
				min.value = mins;
		}
		var sec = document.getElementById('ni.' + this.name +'dur_sec');
		if (sec)
			sec.value = secs;
		this.updateDurationDbValue();
	},
	
	onChange: function(elementName) {
		if(elementName.startsWith("IO:") || elementName.startsWith("ni.VE") || elementName.startsWith("ni.QS")) {
	    	if (typeof(variableOnChange) == 'function') 
	    		variableOnChange(elementName)
	    }
		else
			onChange(elementName)
	},
	type: "GlideDuration",
	z:null
});
(function() {
	CachedEvent.after('glideform.initialized', function() {
		var elems = $$('input[data-type="duration"]');
		elems.each(function(elem, index) {
			var ref = elem.getAttribute('data-ref');
			var maxLevel = elem.getAttribute('data-max-level');
			var disabled = elem.getAttribute('data-disabled');
			if (ref && elem) {
				var gdHandler = new GlideDurationElement(ref, elem.value || "00 00:00:00", maxLevel, disabled);
				if(window["g_form"])
					g_form.registerHandler(ref, gdHandler);
				if (disabled == 'false'){
					elem.observe('change', function(evt){
						gdHandler.onChange(ref);
					});
					var durFields = $$('input[data-type="' + ref + '_duration_field"]');
					durFields.each(function(durElem, index){
						durElem.observe('blur', function(evt){
							gdHandler.updateRealDuration();
						});
						durElem.observe('change', function(){
							telemetryForRecordUpdateElement(ref);
						});
					});
				}
			}
		});
	});
})();
;</script><script>/*! RESOURCE: /scripts/doctype/element_choice.jsx */
var KEYCODES = [32, 38, 40];
CachedEvent.after('glideform.initialized', function(e) {
	var formElement = e.getFormElement && e.getFormElement();
	$j('select', formElement).on('mousedown keydown', function (ev) {
		if (ev.target && ev.target.getAttribute('readonly')) {
			if (ev.type === 'keydown' && KEYCODES.indexOf(ev.keyCode) < 0) {
				return;
			}
			ev.target.focus && ev.target.focus();
			return ev.preventDefault();
		}
	});
});
;</script><script>/*! RESOURCE: /scripts/elements/textarea_sizer.jsx */
function textareaSizer_initialize(id, collapsed, rows) {
	var e = gel(id);
	if (e) {
	    if (collapsed) {
		   e.is_collapsed = true;
		   e.expand_to_rows = rows;
           Event.observe(e, "change", textareaSizer_Expand, false);
		   Event.observe(e, "focus", textareaSizer_Expand, false);
		}
		textareaSizer_Related(e);
	}		
}
function textareaSizer_Resize(id, change) {
	var e = gel(id);
    if (e) {
       e.is_collapsed = false;
	   textareaResizer(id, change);
	   textareaSizer_Related(e);
       CustomEvent.fire('textarea.resize', id, change);
    }
}
		    
function textareaSizer_Expand(ev) {
    var e = Event.element(ev);
    if (e) {
       if (e.is_collapsed) {
           e.is_collapsed = false;
           textareaSizer(e.id, e.expand_to_rows);
	   	   textareaSizer_Related(e);
       }
    }
 }
 function textareaSizer_Related(e) {
	setTimeout("textareaSizer_Related0('" + e.id + "')", 0);
}
function textareaSizer_Related0(id) {
    var taElement = gel(id);
    if (taElement) {
        var relatedBuddy = taElement.getAttribute("relatedBuddy");
        if (relatedBuddy) {
            var h = getHeight(taElement);
            var div = gel(relatedBuddy);
        	div.style.height = h;
        }
    }
}
;</script><script>/*! RESOURCE: /scripts/elements/textarea_autosizer.jsx */
var textareaResize = (function($) {
	var defaults = {
			className: 'autosizejs',
			id: 'autosizejs',
			append: '\n',
			callback: false,
			resizeDelay: 10,
			placeholder: true
		},
copy = '<textarea tabindex="-1" aria-label="{{textarea}}" aria-hidden="true" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',
		typographyStyles = [
			'fontFamily',
			'fontSize',
			'fontWeight',
			'fontStyle',
			'letterSpacing',
			'textTransform',
			'wordSpacing',
			'textIndent',
			'lineHeight'
		],
		mirrored,
		mirror = $(copy).data('autosize', true)[0];
	return function(id, options) {
		if (!id)
			return;
		var ta = document.getElementById(id);
		if (!ta)
			return;
		var $ta = $(ta);
		if ($ta.data('autosize'))
			return;
		if (!options)
			options = {};
		if (!mirror.parentNode || mirror.parentNode !== document.body)
			$(document.body).append(mirror);
		var maxHeight,
			minHeight,
			boxOffset = 0,
			codeMirrorBoxOffset = 0,
			callback = $.isFunction(options.callback),
			originalStyles = {
				height: ta.style.height,
				overflow: ta.style.overflow,
				overflowY: ta.style.overflowY,
				wordWrap: ta.style.wordWrap,
				resize: ta.style.resize
			},
			timeout,
			width = $ta.width(),
			codeMirror = ($(ta.nextSibling).hasClass('CodeMirror')) ? ta.nextSibling : undefined;
		var codeMirrorContent = codeMirror ? codeMirror.lastChild.firstChild : undefined;
		$ta.data('autosize', true);
		if ($ta.css('box-sizing') === 'border-box' || $ta.css('-moz-box-sizing') === 'border-box' || $ta.css('-webkit-box-sizing') === 'border-box')
			boxOffset = $ta.outerHeight() - $ta.height();
		if(codeMirror) {
			if ($(codeMirror).css('box-sizing') === 'border-box' || $(codeMirror).css('-moz-box-sizing') === 'border-box' || $(codeMirror).css('-webkit-box-sizing') === 'border-box')
				codeMirrorBoxOffset = $(codeMirror).outerHeight() - $(codeMirror).height();
			if (codeMirror.CodeMirror && codeMirror.CodeMirror.options.mode === "javascript")
				codeMirrorBoxOffset += 25;
		}
		minHeight = Math.max(parseInt($ta.css('minHeight'), 10) - boxOffset || 0, $ta.height());
		if (ta.tagName && ta.tagName.toLowerCase() === 'span') {
			$ta.css({
				overflow: $ta[0].style.overflow || 'hidden',
				overflowY: $ta[0].style.overflowY || 'hidden',
				wordWrap: 'break-word',
				resize: $ta[0].style.resize || 'none'
			});
		} else {
			$ta.css({
				overflow: 'hidden',
				overflowY: 'hidden',
				wordWrap:'break-word',
				resize: 'none'
			});
		}
		var style, bordersAndPadding;
		function setWidth() {
			style = style || window.getComputedStyle(ta, null) || ta.style;
			var width = ta.getBoundingClientRect().width;
			if (width === 0 || typeof width !== 'number')
				width = parseInt(style.width, 10);
			if (!bordersAndPadding) {
				bordersAndPadding = ['paddingLeft', 'paddingRight', 'borderLeftWidth', 'borderRightWidth'].reduce(function(acc, val) {
					return acc + parseInt(style[val], 10);
				}, 0);
			}
			mirror.style.width = (width - bordersAndPadding) + 'px';
		}
		function initMirror() {
			mirrored = ta;
			mirror.className = options.className;
			mirror.id = options.id;
			maxHeight = parseInt($ta.css('maxHeight'), 10);
			var styles = typographyStyles.reduce(function(acc, val) {
				acc[val] = codeMirror ? $(codeMirror).css(val) : $ta.css(val);
				return acc;
			}, {});
			$(mirror).css(styles).attr('wrap', $ta.attr('wrap'));
			setWidth();
		}
		function adjust(e) {
			var height, original, codeMirrorHeight, doc, docValue;
			if (ta.tagName && ta.tagName.toLowerCase() === 'span') {
				return;
			}
			if (mirrored !== ta)
				initMirror();
			else
				setWidth();
			if (!ta.value && options.placeholder) {
				mirror.value = ($ta.attr("placeholder") || '') + options.append;
			} else {
				doc = codeMirror && codeMirror.codeMirror && codeMirror.CodeMirror.getDoc();
				docValue = doc && doc.getValue();
				mirror.value = (docValue ? docValue : ta.value) + options.append;
			}
			mirror.style.overflowY = ta.style.overflowY;
			original = parseInt(ta.style.height,10);
			height = mirror.scrollHeight;
			if (maxHeight && height > maxHeight) {
				ta.style.overflowY = 'scroll';
				height = maxHeight;
				if (codeMirror)
					codeMirror.lastChild.style.overflowY = 'scroll';
			} else {
				ta.style.overflowY = 'hidden';
				if (height < minHeight)
					height = minHeight;
				if (codeMirror)
					codeMirror.lastChild.style.overflowY = 'hidden';
			}
			if (codeMirror) {
				codeMirrorHeight = height + codeMirrorBoxOffset;
				if (parseInt(codeMirrorContent.style.height, 10))
					codeMirrorHeight = Math.max(parseInt(codeMirrorContent.style.height, 10), codeMirrorHeight);
				if (maxHeight)
					codeMirrorHeight = Math.min(maxHeight, codeMirrorHeight);
			}
			height += boxOffset;
			if (original !== height) {
				ta.style.height = height + 'px';
				if (codeMirror && codeMirror.CodeMirror)
					if (codeMirror.CodeMirror.setHeight)
						codeMirror.CodeMirror.setHeight(codeMirrorHeight + 'px');
					else if (codeMirror.CodeMirror.setSize)
						codeMirror.CodeMirror.setSize(null, codeMirrorHeight + 'px');
				if (callback)
					options.callback.call(ta,ta);
			}
			if ($ta.closest('.tabs2_section').hasClass('tab_section') && !$ta.closest('.tabs2_section').is(':visible')){
				CustomEvent.observe("tab.activated", function(tab){
					if ($ta.closest('.tabs2_section').hasClass(tab))
						adjust();
				});
				return false;
			}
			if (window._frameChanged)
				_frameChanged();
		}
		function resize () {
			clearTimeout(timeout);
			timeout = setTimeout(function(){
				var newWidth = $ta.width();
				if (newWidth !== width && $ta.val() !== '') {
					width = newWidth;
					adjust();
				}
			}, parseInt(options.resizeDelay, 10));
		}
		$ta.on('input.autosize change.autosize', adjust);
		if(codeMirror)
			$(codeMirror).on('paste.autosize keydown.autosize', adjust);
		if (options.resizeDelay !== false)
			$(window).on('resize.autosize', resize);
		$ta.on('autosize.resize', adjust);
		$ta.on('autosize.resizeIncludeStyle', function() {
			mirrored = null;
			adjust();
		});
		$ta.on('autosize.destroy', function(){
			mirrored = null;
			clearTimeout(timeout);
			$(window).off('resize', resize);
			$ta
				.off('autosize')
				.off('.autosize')
				.css(originalStyles)
				.removeData('autosize');
			if(codeMirror)
				$(codeMirror).off('.autosize');
		});
		if (ta.value)
			adjust();
	}
})(window.jQuery);
;</script><script>/*! RESOURCE: /scripts/elements/element_boolean.jsx */
addLateLoadEvent(function () {
	document.body.on('click', 'input[data-type="boolean"]', function(evt, element) {
		if (element.hasClassName('disabled'))
			return;
		setCheckBox(element);
		var ref = element.getAttribute('data-ref');
		onChange(ref);
		telemetryForRecordUpdateElement(ref);
	});
});
;</script><script>/*! RESOURCE: /scripts/classes/GlideTemplateBar.jsx */
var GlideTemplateBar = Class.create({
	initialize : function(table) {
		var self = this;
		setTimeout(function () {
			self.init.apply(self, [table]);
		}, 200);
	},
	
	init: function(table) {
		this.$toggleButton 	= $j('button[data-type="template-list-overflow-button"]');
		this.table = table;
		this.ref = this.$toggleButton.data('ref');
		if (this.$toggleButton.length < 1) 
			return;
		this.$ellipsisButton = $j('button[data-type="template-list-overflow-button"]');
		this.$container = $j(this.$toggleButton.data('target'));
		this.$templateListContainer = $j('#templates-list-container');
		this.$templateList = this.$templateListContainer.find('a:not([data-type="create-new-template"])');
		this.$templateOverflowContainer = $j('.template_overflow_items');
		this.$clearSearchFilterInput = $j('span[data-type="clearTemplateFilter"]');
		this.popoverTabbablesSelector = '#templateOverflowContainer :tabbable, #no_search_results';
		this.isOpen = false;
		this.isLoaded = false;
		this.isUpdating = false;
		this.popupInitialized = false;
		this.templateName = null;
		this.originalQuery = [];
		this.returnedTemplateList = [];
		this.templateArray = [];
		this.lastTemplateElm = null;
		this.bindResize();
		this.update();
		this.loaded();		
	},
	
	update: function(){
		this.updateTemplateListContainer();
		this.hideTemplates();
		this.updateTemplateList();
		this.toggleEllipsis();
	},
	loaded: function(){
		this.isLoaded = true;
		$j('[data-type="template_footer"]').addClass('loaded');
	},
	handleClickEvent: function(){
		if (this.isOpen){
			this.hideEllipsisPopover();
		} else {
			if (!this.popupInitialized) {
				this.initializeEllipsisPopover();
			} else {
				this.showEllipsisPopover();
			}
		}
	},
	handleHtmlClick: function(e){
		if ( this.isOpen && !this.$toggleButton.is(e.target) && this.$container.parents('.popover').has($j(e.target)).length == 0 ) {
			this.hideEllipsisPopover();
		}
	},
	bindResize:function(){
		$j(window).on('resize', function(e) {
			if (this.isOpen){
				this.hideEllipsisPopover();
			}
			this.update();
		}.bind(this));
	},
	initializeEllipsisPopover: function(){
		var self = this;
		this.$toggleButton.popover({
			html: true,
			trigger: 'manual',
			title: getMessage('All Templates'),
			content: function(){
				self.$container.show();
				return self.$container;
			},
			viewport: { selector: 'body', padding: 35 }
		});
		this.$toggleButton.data('bs.popover').options.placement = 'top';
		this.popupInitialized = true;
		
		var popover = $j('#templateOverflowContainer').parent().parent();
		popover.attr('role', 'dialog');
		popover.attr('aria-label', getMessage('All Templates'));
		$j('#no_search_results').attr('tabindex','0');
		this.showEllipsisPopover();
	},
	showEllipsisPopover: function(){
		this.$toggleButton.popover('show');
		$j('#overflowTemplateSearch').focus();
		this.isOpen = true;
		this.$ellipsisButton.attr('aria-expanded', 'true');
		this.closePopoverOnBlur();
	},
	closePopoverOnBlur: function(){
		var gtb = this;
		var popoverContainer = $j('#templateOverflowContainer').parent().parent();
		popoverContainer.css({'outline':'none'});
		popoverContainer.attr('tabindex', '-1');
		var tabbables = $j(this.popoverTabbablesSelector);
		tabbables.bind('blur', function (blurEvent) {
			setTimeout(function () {
				var isOut = true;
				var target = blurEvent.relatedTarget || document.activeElement;
				if (target === popoverContainer[0] || popoverContainer.has(target).length)
					isOut = false;
				if (isOut)
		    			gtb.hideEllipsisPopover(true);
	    		}, 10);
		});
	},
	hideEllipsisPopover: function(dontAutoFocus){
		this.resetFiltering();
		this.$toggleButton.popover('hide');
		if (this.isOpen && !dontAutoFocus) {
			this.$ellipsisButton.focus();
		}
		this.isOpen = false;
		this.$ellipsisButton.attr('aria-expanded', 'false');
		$j(this.popoverTabbablesSelector).unbind("blur");
	},
	openEditTemplateRecordModal: function(sysId){
		var self = this;
		var ctm = new GlideModalForm(getMessage('Edit Template'), 'sys_template');
		self.modal = ctm;
		ctm.setPreference('sys_table', self.table);
		ctm.setPreference('sysparm_view', 'template_modal');
		ctm.setSysID(sysId);
		ctm.setPreference('sysparm_form_only', 'true');
		ctm.setPreference('focusTrap', true);
		ctm.setOnloadCallback(self.onModalLoadCallback.bind(self));
		ctm.on('closeconfirm', self.onCompletionCallback.bind(self));
		ctm.render();
	},
	openTemplateRecordModal: function(){
		var fields = g_form.getEditableFields();
		var self = this;
		var query = 'table=' + this.table;
		var templateQuery = this.getTemplateData();
templateQuery = templateQuery.replace(/\$/g, "$/");
		var ctm = new GlideModalForm(getMessage('Create New Template'), 'sys_template');
		ctm.setPreference('sys_table', self.table);
		ctm.setPreference('sysparm_view', 'template_modal');
		ctm.setSysID(-1);
		ctm.setPreference('sysparm_form_only', 'true');
		ctm.setPreference('sysparm_query', query);
		ctm.setPreference('sysparm_orig_query', this.originalQuery);
		ctm.setPreference('sysparm_template_query', templateQuery);
		ctm.setPreference('sysparm_template_editable', fields.join());
		ctm.setPreference('focusTrap', true);
		ctm.setOnloadCallback(self.onModalLoadCallback.bind(self));
		ctm.on('closeconfirm', self.onCompletionCallback.bind(self));
		ctm.render();
	},
	onCompletionCallback: function(){
		this.getTemplatesList();
		this.modal = null;
	},
	getTemplatesList: function(){
		this.isUpdating = true;
		var ga = new GlideAjax('GetTemplatesList');
		ga.addParam('sysparm_table_name', this.table);
		ga.addParam('sysparm_template_bar_only', 'true');
		ga.addParam('sysparm_name', 'returnList');
		ga.getXML(parseUpdateList.bind(this));
		function parseUpdateList(response) {
			var xml = response.responseXML;
			this.returnedTemplateList = [];
			var templates = xml.getElementsByTagName('template');
			for (var i = 0; i< templates.length; i++){
				var item = templates[i];
				var show = item.getAttribute('show_on_template_bar');
				if (show == true || show === ""){
					this.returnedTemplateList.push({
						label : item.getAttribute('name'),
						value : item.getAttribute('sys_id'),
						application: item.getAttribute("application")
					});
				}
			}
			this.update();
			this.updateTemplatePopover();
		}
	},
	updateTemplateListContainer: function(){
		if (!this.isUpdating){
			return;
		}
		if (this.returnedTemplateList.length > 0){
			this._renderTemplateList();
		} else {
			this._renderEmptyList();
		}
	},
	_renderTemplateList: function(){
var html = ['<b>' + getMessage('Templates') + ':&nbsp;</b>'];
		var i = 0;
		var templateListLength = this.returnedTemplateList.length;
		html.push('<ul id="templates-list-items">');
		
		while (templateListLength > i){
			html.push(this.TEMPLATE_ITEM_TEMPLATE.evaluate(this.returnedTemplateList[i]));
			i++;
		}
		
html.push('</ul>');
		this.$templateListContainer.html(html.join(''));
		this.isUpdating = false;
	},
	_renderEmptyList: function(){
		var html = [getMessage("No templates are available"),
		'<ul id="templates-list-items">',
		'<li class="templates-list-item">',
		'<a data-type="create-new-template" href="javascript:void(0);" role="button" ',
		'data-ref="' + this.ref + '"',
'title="' + getMessage("Create New Template") + '">' + getMessage("Create a new one?") + '</a>',
'</li>',
'</ul>']
		this.$templateListContainer.html(html.join(' '));
		this.isUpdating = false;
	},
	onModalLoadCallback: function(){
		this.iframeForm = this.getIframeForm();
		$j(this.iframeForm).parents('html').removeClass('templates');
	},
	getTemplateData: function(){
		this.originalQuery = [];
		var formElems = g_form.getEditableFields();
		var query = formElems.filter(function(elem){
			var value = g_form.getValue(elem);
			return !!(value !== '' && value !== null);
		});
		for(var i=0 ; i < query.length; i++ ) {
			var originalVal = g_form.getValue('sys_original.' + this.table + '.' + query[i]);
			if (originalVal == g_form.getValue(query[i])){
				this.originalQuery.push(query[i] + '=' + g_form.getValue(query[i]));
			}
		}
		query = query.map(function(elem){
			var elementValue = g_form.getValue(elem);
elementValue = elementValue.replace(/\^/g, '^^');
			return elem + '=' + elementValue + '^';
		});
		query = query.sort().join('');
		return query.substring(0, query.length - 1);
	},
	applyTemplate: function(val, name){
		g_form.removeAllDecorations();
		this.templateName = name;
		var ga = new GlideAjax('AjaxClientHelper');
		ga.addParam('sysparm_name','getValues');
		ga.addParam('sysparm_sys_id', val);
		ga.addParam('sysparm_current_table_name', g_form.getTableName());
		ga.getXML(this._applyTemplateResponse.bind(this));
	},
	_applyTemplateResponse: function(response){
		if (!response || !response.responseXML)
			return;
		this.templateResponse = response.responseXML;
		this.applyRecord();
	},
	applyRecord: function() {
		this.templateModifiedFields = {};
		this.alert_html = [];
		this.templateErrors = 0;
		this.omittedFormElements = [];
		this.allErrors = false;
		this.pluralizedErrorMessage = ' conflicts';
		this._getTemplateResponseItems();
		this.generateAlerts();
		this.showAlert();
		this.focusAlert();
		this.setModifiedFields();
	},
	_getTemplateResponseItems: function() {
		var items = this.templateResponse.getElementsByTagName('item');
		var reduceItems = Array.prototype.reduce.bind(items);
		var itemLibrary = reduceItems(function(library, item) {
			item.getAttribute('dependent') ? library[1].push(item) : library[0].push(item);
			return library;
		}, [[], []]);
		this.templateResponseItems = itemLibrary[0].concat(itemLibrary[1]);
		this.templateDependentReponseItems = itemLibrary[1];
	},
	generateAlerts: function() {
		for (var i = 0; i < this.templateDependentReponseItems.length; i++) {
			var item = this.templateDependentReponseItems[i];
			var name = item.getAttribute('name');
			g_form.setTemplateValue(name, "");
		}
		for (var i = 0; i < this.templateResponseItems.length; i++) {
			var item = this.templateResponseItems[i];
			var name = item.getAttribute('name');
			var displayValue = null;
			if (!this._checkIfReadOnly(name)) {
				var status = this.applyItem(name, item.getAttribute('value'), item.getAttribute('rawDisplayVal'));
				if (status && status.success === false)
					this.errorAlert(item);
				else {
					this.pushToModifiedFieldsObject(name);
					displayValue = this.getDisplayValue(name, item);
					this.standardAlert(displayValue, item);
				}
			} else
				this.errorAlert(item);
		}
		if (this.templateErrors == i)
			this.allErrors = true;
		if (this.templateErrors == 1)
			this.pluralizedErrorMessage = ' conflict';
 		if (this.omittedFormElements.length > 0)
			this._addOmittedFormElementsToAlert();
	},
	_checkIfReadOnly: function(name){
		var control = g_form.getControl(name);
		var ed = g_form.getGlideUIElement(name);
		var labelControl = g_form.getControl(name + '_label');
		if (g_form.isReadOnly('', control))
			return true;
		if (labelControl && ed.type === "reference" && g_form.isReadOnly('', labelControl))
			return true;
		if (gel('sys_readonly.' + this.table + '.' + name) )
			return true;
		return false;
	},
	standardAlert: function(displayValue, item) {
		if (displayValue)
displayValue = displayValue.replace(/<(?:.|\n)*?>/gm, '');
		if (displayValue && displayValue.length > 254) {
			displayValue = displayValue.substr(0, 254) + '...';
		}
		var name = item.getAttribute('name');
		var label =  g_form.getLabel(name);
		this.alert_html.push(this.ALERT_ITEM_TEMPLATE.evaluate({
			name: $j(label).text(),
			value: displayValue
		}));
	},
	errorAlert: function(item) {
		var error;
		var name = item.getAttribute('name');
		var label = item.getAttribute('label');
		if (g_form.getElement(name)){
			error = g_form.getLabel(item.getAttribute('name')).innerText;
			this.alert_html.unshift(this.ERROR_ITEM_TEMPLATE.evaluate({
				error: error
			}));
		} else {
			this.omittedFormElements.push(label);
		}
		this.templateErrors++;
	},
	applyItem: function(element, value, rawDisplayValue) {
		if (value == null || value == 'null'){
			return;
		}
		var ed = g_form.getGlideUIElement(element);
		if (ed && ed.type == 'glide_encrypted') {
			return g_form.setTemplateValue(element, value, value);
		} else if (ed && ed.type == 'currency')
			return g_form.setTemplateValue(element, value, rawDisplayValue);
		else
			return g_form.setTemplateValue(element, value);
	},
	pushToModifiedFieldsObject: function(element){
		var fieldName = this.table + '.' + element;
		this.templateModifiedFields[fieldName] = true;
	},
	setModifiedFields: function(){
		if(this.templateModifiedFields){
			$j.extend(g_form.modifiedFields, this.templateModifiedFields);
			g_form.modified = true;
			var uniqueValue = g_form.getUniqueValue();
			CustomEvent.fireAll('form.isModified', {uniqueValue: uniqueValue, isModified: g_form.modified, iframeElId: window.frameElement ? window.frameElement.id : null});
		}
	},
	cleanModifiedFields: function(){
		var fields = Object.keys(this.templateModifiedFields);
		for (var i=0; i < fields.length; i++) {
			if (g_form.modifiedFields[fields[i]])
				delete g_form.modifiedFields[fields[i]];
			if (Object.keys(g_form.modifiedFields).length == 0){
				g_form.modified = false;
			}
		}
	},
	toggleEllipsis: function(){
		if ( this.templateArray.length > 0 ) {
			this.$ellipsisButton.removeClass('invisible');
		} else {
			this.$ellipsisButton.addClass('invisible');
		}
	},
	showAlert:function(){
		this.alert_html = this.alert_html.join('');
		var templateValues = {
			name: this.templateName,
			alerts : this.alert_html,
			errorCount: this.templateErrors,
			errorText: this.pluralizedErrorMessage
		};
		var gui = new GlideUI();
		if(this.templateErrors > 0) {
			if (this.allErrors){
				gui.addOutputMessage({
					'msg': this.ERROR_TEMPLATE.evaluate(templateValues),
					'type': 'error'
				});
			} else {
				gui.addOutputMessage({
					'msg': this.WARN_TEMPLATE.evaluate(templateValues),
					'type': 'warning'
				});
			}
		} else {
			gui.addOutputMessage({
				'msg': this.ALERT_TEMPLATE.evaluate(templateValues)
			});
		}
		this.alert_html = [];
	},
	focusAlert: function() {
		$j('a[data-type="template_alert_toggle"]:last').focus();
		$j('#close-messages-btn:not(.template-bound)').addClass('template-bound').on('click', this.focusLastTemplateClicked.bind(this));
	},
	focusLastTemplateClicked: function() {
		if (this.lastTemplateElm) {
			this.lastTemplateElm.focus();
			this.lastTemplateElm = null;
		}
		$j('#close-messages-btn.template-bound').removeClass('template-bound').off('click');
	},
	setLastTemplateSelected: function(elm) {
		this.lastTemplateElm = this.isOpen ? this.$toggleButton : $j(elm);
	},
	getDisplayValue: function(name, item){
		var optionControl = g_form.getOptionControl(name);
		if (optionControl) {
			return optionControl.options[optionControl.selectedIndex].text;
		}
		if ( item.getAttribute('value') === '' ) {
			return 'None';
		}
		for (var i=0; i<this.templateResponseItems.length; i++){
			if (this.templateResponseItems[i].getAttribute("name") == name && this.templateResponseItems[i].getAttribute("displayVal") != "undefined")
				return this.templateResponseItems[i].getAttribute("displayVal");
		}
		return item.getAttribute('value');
	},
	getIframeForm:function(){
		var iframe =  $('dialog_frame');
		if (!iframe){
			return;
		}
		var iframeDocument = iframe.contentDocument ? iframe.contentDocument : iframe.contentWindow.document;
		this.iframeWindow = iframe.contentWindow;
		return iframeDocument.getElementById('sys_template.do');
	},
	updateTemplateList: function(){
		this.$templateList = this.$templateListContainer.find('a:not([data-type="create-new-template"])');
		this.templateArray = this._createTemplateArray();
	},
	hideTemplates: function(){
		var parentElem = $j('#templates-list-container');
		var listItems = parentElem.find('.templates-list-item');
		var parentElemWidth = parentElem.innerWidth();
var totalWidth = parentElem.children('b').width();
		var extraPadding = 20;
		if(NOW.isUsingPolaris) {
			extraPadding = 0;
		}
		for (var i = 0; i < listItems.length; i++){
			var elem = $j(listItems[i]);
			totalWidth += elem.outerWidth() + extraPadding;
			if (totalWidth > parentElemWidth){
				elem
					.removeClass('visible')
					.nextAll()
					.removeClass('visible');
				break;
			}
			$j(elem).addClass('visible');
		}
	},
	updateTemplatePopover: function(){
		var html = [];
		var overFlowTemplate;
		var canWriteAccess = (this.$container[0].getAttribute("canWrite") == "true");
		var currentScope = getPreference("apps.current_app") || "global";
		for (var i = 0; i < this.templateArray.length; i++){
			if (canWriteAccess && this.templateArray[i].application == currentScope)
				overFlowTemplate = this.OVERFLOW_TEMPLATE_TEMPLATE;
			else
				overFlowTemplate = this.OVERFLOW_TEMPLATE_TEMPLATE_READ_ONLY;
			html.push(overFlowTemplate.evaluate(this.templateArray[i]));
		}
		this.$templateOverflowContainer.html(html.join(''));
	},
	toggleAlerts: function(detailLink){
		var templateAlertDetails = $j(detailLink).siblings('ul.template_details');
		templateAlertDetails.toggleClass('visible');
		var $showLink = $j('#see_detail_link');
		var $hideLink = $j('#hide_detail_link');
		if ((templateAlertDetails[0].className).indexOf("visible") > -1){
			detailLink.setAttribute("aria-expanded", "true");
			$showLink.addClass('hidden');
			$hideLink.removeClass('hidden');
			templateAlertDetails.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function(){
				if ((templateAlertDetails[0].className).indexOf('visible') > -1)
					templateAlertDetails[0].setAttribute('style', 'max-height:' + templateAlertDetails.outerHeight() + 'px')
			});
		} else{
			detailLink.setAttribute("aria-expanded", "false");
			$hideLink.addClass('hidden');
			$showLink.removeClass('hidden');
			templateAlertDetails[0].removeAttribute('style');
		}
	},
	undoTemplate: function(){
		var fields = Object.keys(this.templateModifiedFields);
		for (var i=0; i<fields.length; i++) {
			var modifiedField = fields[i];
			var originalField = 'sys_original.' + fields[i];
			var displayField = 'sys_display.original.' + fields[i];
			if (g_form.getValue(originalField) != g_form.getValue(modifiedField)) {
				g_form.setValue(modifiedField, g_form.getValue(originalField), g_form.getValue(displayField));
			}
		}
		this.cleanModifiedFields();
		GlideUI.get().clearOutputMessages();
		g_form.removeAllDecorations();
		this.focusLastTemplateClicked();
	},
	_addOmittedFormElementsToAlert: function(){
		var elements = [];
		for(var i = 0; i < this.omittedFormElements.length; i++){
			if (this.omittedFormElements[i] !== null)
elements.push("<li><b>" + this.omittedFormElements[i] + "</b></li>");
		}
		this.alert_html.unshift(this.OMITTED_FORM_ELEMENT_ALERT.evaluate({
			count: this.omittedFormElements.length,
			elements: elements.join(''),
			item: (this.omittedFormElements.length > 1) ? 'items are' : 'item is'
		}));
	},
	_createTemplateArray: function(){
		return $j.map(this.$templateList, function(i){
			return {
				'name': $j(i).text(),
				'value': $j(i).attr('data-ref'),
				'application': $j(i).attr('data-application')
			};
		});
	},
	filterOverflowTemplates: function(searchTerm){
		if (!searchTerm){
			this._removeFilteringClasses();
		} else {
			this.$templateOverflowContainer
				.addClass('filtered')
				.siblings('.input-group-transparent').addClass('filtered');
			this.$clearSearchFilterInput.attr('tabindex', '0');
			this._matchElements(searchTerm);
		}
	},
	_matchElements:function(searchTerm){
		var parentElem = this.$templateOverflowContainer;
		var listItems = parentElem.find('a:not(.template-edit)');
		var noMatch = true;
		var textOfItem;
		listItems.each(function(index, item){
			textOfItem = $j(item).text();
			if (textOfItem && textOfItem.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1){
				noMatch = false;
				$j(item).parent().addClass('match');
			} else {
				$j(item).parent().removeClass('match');
			}
		});
		$j('#no_search_results').toggle(noMatch);
	},
	resetFiltering: function(){
		this._clearFilterInput();
		this._removeFilteringClasses();
		$j('#no_search_results').hide();
	},
	_removeFilteringClasses: function(){
		$j(this.$overflowTemplates).each(function(i, elem){
			$j(elem).parent().removeClass('match');
		});
		this.$templateOverflowContainer
			.removeClass('filtered')
			.siblings('.input-group-transparent').removeClass('filtered');
		this.$clearSearchFilterInput.attr('tabindex', '-1');
		$j('#no_search_results').hide();
	},
	_clearFilterInput: function(){
		$j('#overflowTemplateSearch').val('');
	},
	type: 'GlideTemplateBar',
	z: null
});
GlideTemplateBar.prototype.ALERT_TEMPLATE = new Template(
getMessage('#{HTML:name} Template Applied') + '<br /><br />' +
'<a href="#" role="button" aria-controls="alert_template_details" aria-expanded="false" data-type="template_alert_toggle">' + getMessage('See Details') + '</a>' +
	'<ul id="alert_template_details" class="template_details">' +
	'#{alerts}' +
'<li class="row"><a href="#" role="button" data-type="template_undo_button">' + getMessage('Undo Changes') + '</a></li></ul>'
);
GlideTemplateBar.prototype.WARN_TEMPLATE = new Template(
getMessage('#{HTML:name} Template Applied with #{errorCount} #{errorText}') + '<br /><br />' +
'<a href="#" role="button" aria-controls="warn_template_details" aria-expanded="false" data-type="template_alert_toggle">' + getMessage('See Details') + '</a>' +
	'<ul id="warn_template_details" class="template_details">' +
		'#{alerts}' +
'<li class="row"><a href="#" role="button" data-type="template_undo_button">' + getMessage('Undo Changes') + '</a></li></ul>'
);
GlideTemplateBar.prototype.ERROR_TEMPLATE = new Template(
getMessage('#{HTML:name} Template not Applied') + ' <br /><br />' +
'<a href="#" role="button" aria-controls="error_template_details" aria-expanded="false" data-type="template_alert_toggle">' + getMessage('See Details') + '</a>' +
'<ul id="error_template_details" class="template_details">#{alerts}</ul>'
);
GlideTemplateBar.prototype.TEMPLATE_ITEM_TEMPLATE = new Template(
	'<li class="templates-list-item">' + 
'<a href="#" role="button" class="template-item" data-type="apply-template" data-ref="#{HTML:value}" data-application="#{application}">#{HTML:label}</a>' +
'</li>'
);
GlideTemplateBar.prototype.OVERFLOW_TEMPLATE_TEMPLATE = new Template(
	'<li class="row">' +
'<a href="#" role="button" data-type="apply-template" data-ref="#{HTML:value}">#{HTML:name}</a>' +
'<a class="template-edit" href="#" role="button" data-type="edit-template" data-ref="#{HTML:value}">' + getMessage("Edit") + '</a>' +
'</li>'
);
GlideTemplateBar.prototype.OVERFLOW_TEMPLATE_TEMPLATE_READ_ONLY = new Template(
	'<li class="row">' +
'<a href="#" role="button" data-type="apply-template" data-ref="#{HTML:value}">#{HTML:name}</a>' +
'</li>'
);
GlideTemplateBar.prototype.ALERT_ITEM_TEMPLATE = new Template(
	'<li class="row">' +
getMessage('Set <b>#{HTML:name}</b> to <b>#{HTML:value}</b>') +
'</li>'
);
GlideTemplateBar.prototype.ERROR_ITEM_TEMPLATE = new Template(
	'<li class="row">' +
'<div class="icon-alert" /> ' +
getMessage('Unable to update field') + '"<b>#{HTML:error}</b>"' +
'</li>'
);
GlideTemplateBar.prototype.OMITTED_FORM_ELEMENT_ALERT = new Template(
	'<li class="row">' +
'<div class="icon-alert" /> ' +
'<b>#{count}</b>' + getMessage('#{item} not present on this form') +
		'<ol>' +
			'#{elements}' +
'</ol>' +
'</li>'
);
(function() {
	addLateLoadEvent(function () {
		var elem = $j('[data-type="template_footer"]');
		var table = elem.data('ref');
		var gtb = new GlideTemplateBar(table);
		function createNewTemplate(evt) {
			evt.preventDefault();
			gtb.hideEllipsisPopover();
			gtb.openTemplateRecordModal();
		}
		function prepareTemplate(evt, elem) {
			evt.preventDefault();
			var val = elem.getAttribute('data-ref');
			var name = $j(elem).text();
			gtb.setLastTemplateSelected(elem);
			gtb.hideEllipsisPopover();
			gtb.applyTemplate(val, name);
		}
		document.body.on('click', 'a[data-type="apply-template"]', function(evt, elem){
			prepareTemplate(evt, elem);
		});
		document.body.on('keydown', 'a[data-type="apply-template"]', function(evt, elem){
			if (evt.keyCode === 32) {
				prepareTemplate(evt, elem);
			}
		});
		document.body.on('click', 'a[data-type="edit-template"]', function(evt, elem){
			evt.preventDefault();
			var val = elem.getAttribute('data-ref');
			gtb.hideEllipsisPopover();
			gtb.openEditTemplateRecordModal(val);
		});
		document.body.on('click', 'button[data-type="template-list-overflow-button"]', function(evt){
			evt.preventDefault();
			gtb.handleClickEvent();
		});
		document.body.on('click', '[data-type="create-new-template"]', function (evt) {
			createNewTemplate(evt);
		});
		document.body.on('keydown', '[data-type="create-new-template"]', function (evt) {
			if (evt.keyCode == 32) {
				createNewTemplate(evt);
			}
		});
		document.body.on('click', 'button[data-type="disable-template-bar"]', function(evt){
			evt.preventDefault();
			CustomEvent.fire('templateToggle', false);
		});
		document.body.on('click', 'a[data-type="template_alert_toggle"]', function(evt, elem){
			gtb.toggleAlerts(elem);
		});
		document.body.on('keydown', 'a[data-type="template_alert_toggle"]', function(evt, elem){
			if (evt.keyCode === 32) {
				evt.preventDefault();
				gtb.toggleAlerts(elem);
			}
		});
		document.body.on('click', 'a[data-type="template_undo_button"]', function(evt){
			gtb.undoTemplate();
		});
		document.body.on('keydown', 'a[data-type="template_undo_button"]', function(evt, elem){
			if (evt.keyCode === 32) {
				evt.preventDefault();
				gtb.undoTemplate();
			}
		});
		document.body.on('click', 'button[data-type="clear-template-modal"]', function(evt, elem){
			evt.preventDefault();
			if (!gtb.iframeWindow){
				return;
			}
			gtb.iframeWindow.g_form.setValue('template', '');
		});
		document.body.on('click', 'button[data-type="save-template-modal"]', function(evt, elem){
			evt.preventDefault();
			if (!gtb.iframeForm){
				return;
			}
			gsftSubmit(elem, gtb.iframeForm);
		});
		document.body.on('click', 'span[data-type="clearTemplateFilter"]', function(evt){
			evt.preventDefault();
			gtb.resetFiltering();
			$j('#overflowTemplateSearch').focus();
		});
		$j('[data-type="template_footer"]').on({
			'keyup': function(){
				var val = $j('#overflowTemplateSearch').val();
				gtb.filterOverflowTemplates(val);
			}
		}, '#overflowTemplateSearch');
		$j('html').on('click', function(e){
			gtb.handleHtmlClick(e);
		});
		
		CustomEvent.on('closeTemplateModal', function(){
			var gtm = new GlideModal().get('sys_template');
			if (gtm)
				gtm.destroy();
		});
	});
})();
;</script><script type="text/javascript" src="/scripts/classes/timeAgo.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script type="text/javascript" src="/scripts/js_includes_ui16_form.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/js_includes_form_presence.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/classes/doctype/js_includes_listv2_doctype.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/search.service/doctype/_js_includes.jsx?v=05-22-2025_2350&amp;lp=Mon_Apr_14_13_48_37_PDT_2025&amp;c=29_523&amp;lang=pb"></script><script type="text/javascript" src="/scripts/elements/GlideStreamJournalElement.jsx?v=05-22-2025_2350&amp;lang=pb"></script><script>/*! RESOURCE: /scripts/elements/doctype/element_date_time.jsx */
document.body.on('click', 'button[data-type=\'date_time\']', function(evt, element) {
	var ref = element.getAttribute('data-ref');
	var format = element.getAttribute('data-date_time_format');
ScriptLoader.getScripts('scripts/classes/GwtDateTimePicker.js', function() {
		try {
			new GwtDateTimePicker(ref, format, true);
		} catch (e) {
			console.error(e);
		}
	});
	evt.preventDefault();
});
var GlideElementDateTime = Class.create({
	initialize: function(name) {
		this.name = name;
	},
	setValue: function(value, displayValue) {
		if (displayValue)
			value = displayValue;
    	var date_element = gel(this.name);
		date_element.value = value;
		onChange(this.name);
	  	CustomEvent.fire('date_field_changed', {id: this.name, dateString: value});
	}
});
(function(){
	CachedEvent.after('glideform.initialized', function() {
		var elems = $$('input[data-type=\'glide_element_date_time\']');
		elems.each(function(elem, index) {
			var ref = elem.getAttribute('data-ref');
			if (ref) {
				var gdtHandler = new GlideElementDateTime(ref);
				g_form.registerHandler(ref, gdtHandler);
			}
			elem.observe('change', function(evt){
				onChange(ref);
				CustomEvent.fire('date_field_changed', {id: ref, dateString: elem.value});
			});
		})
	});
})();
;
</script><script>/*! RESOURCE: /scripts/doctype/question_validate_regex.jsx */
function doTextVariableOnChange(variableName, returnValue) {
    if (typeof variableOnChange === 'function')
        variableOnChange(variableName);
    return returnValue;
};
function validateVariable(variableName, variableId, message) {
    var form = g_form;
    if (window.g_sc_form)
        form = g_sc_form;
    if (typeof form._invalid == 'undefined')
        form._invalid = [];
    var value = form.getValue(variableName);
    if (value == "") {
        form._invalid = form._invalid.filter(function (name) {
            return name !== variableName;
        });
        if (form.hideFieldMsg)
            form.hideFieldMsg(variableName);
        return doTextVariableOnChange(variableName, true);
    }
    if (typeof $j == "undefined")
        return doTextVariableOnChange(variableName, true);
    if (!form._invalid.includes(variableName))
        form._invalid.push(variableName);
    $j.ajax({
url: "/api/sn_sc/v1/servicecatalog/variables/" + variableId + "/validate_regex",
        type: "POST",
        async: false,
        dataType: 'json',
        headers: {
'Accept': 'application/json',
'Content-Type': 'application/json'
        },
        data: JSON.stringify({
            sysparm_value: value
        }),
        success: function () {
            form._invalid = form._invalid.filter(function (name) {
                return name !== variableName;
            });
            if (form.hideFieldMsg)
                form.hideFieldMsg(variableName);
            return doTextVariableOnChange(variableName, true);
        },
        error: function (jqXHR) {
            if (jqXHR && jqXHR.status == 400 && jqXHR.responseText && jqXHR.responseText.indexOf("Validation error") > 0) {
                if (form.hideFieldMsg)
                    form.hideFieldMsg(variableName);
                if (form.showFieldMsg)
                    form.showFieldMsg(variableName, message, 'error');
                return doTextVariableOnChange(variableName, false);
            } else {
                form._invalid = form._invalid.filter(function (name) {
                    return name !== variableName;
                });
                if (form.hideFieldMsg)
                    form.hideFieldMsg(variableName);
                console.log(jqXHR);
            }
        },
    });
}
;
</script><script>/*! RESOURCE: /scripts/elements/textarea_sizer.jsx */
function textareaSizer_initialize(id, collapsed, rows) {
	var e = gel(id);
	if (e) {
	    if (collapsed) {
		   e.is_collapsed = true;
		   e.expand_to_rows = rows;
           Event.observe(e, "change", textareaSizer_Expand, false);
		   Event.observe(e, "focus", textareaSizer_Expand, false);
		}
		textareaSizer_Related(e);
	}		
}
function textareaSizer_Resize(id, change) {
	var e = gel(id);
    if (e) {
       e.is_collapsed = false;
	   textareaResizer(id, change);
	   textareaSizer_Related(e);
       CustomEvent.fire('textarea.resize', id, change);
    }
}
		    
function textareaSizer_Expand(ev) {
    var e = Event.element(ev);
    if (e) {
       if (e.is_collapsed) {
           e.is_collapsed = false;
           textareaSizer(e.id, e.expand_to_rows);
	   	   textareaSizer_Related(e);
       }
    }
 }
 function textareaSizer_Related(e) {
	setTimeout("textareaSizer_Related0('" + e.id + "')", 0);
}
function textareaSizer_Related0(id) {
    var taElement = gel(id);
    if (taElement) {
        var relatedBuddy = taElement.getAttribute("relatedBuddy");
        if (relatedBuddy) {
            var h = getHeight(taElement);
            var div = gel(relatedBuddy);
        	div.style.height = h;
        }
    }
}
;
</script><script>/*! RESOURCE: /scripts/elements/textarea_autosizer.jsx */
var textareaResize = (function($) {
	var defaults = {
			className: 'autosizejs',
			id: 'autosizejs',
			append: '\n',
			callback: false,
			resizeDelay: 10,
			placeholder: true
		},
copy = '<textarea tabindex="-1" aria-label="{{textarea}}" aria-hidden="true" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',
		typographyStyles = [
			'fontFamily',
			'fontSize',
			'fontWeight',
			'fontStyle',
			'letterSpacing',
			'textTransform',
			'wordSpacing',
			'textIndent',
			'lineHeight'
		],
		mirrored,
		mirror = $(copy).data('autosize', true)[0];
	return function(id, options) {
		if (!id)
			return;
		var ta = document.getElementById(id);
		if (!ta)
			return;
		var $ta = $(ta);
		if ($ta.data('autosize'))
			return;
		if (!options)
			options = {};
		if (!mirror.parentNode || mirror.parentNode !== document.body)
			$(document.body).append(mirror);
		var maxHeight,
			minHeight,
			boxOffset = 0,
			codeMirrorBoxOffset = 0,
			callback = $.isFunction(options.callback),
			originalStyles = {
				height: ta.style.height,
				overflow: ta.style.overflow,
				overflowY: ta.style.overflowY,
				wordWrap: ta.style.wordWrap,
				resize: ta.style.resize
			},
			timeout,
			width = $ta.width(),
			codeMirror = ($(ta.nextSibling).hasClass('CodeMirror')) ? ta.nextSibling : undefined;
		var codeMirrorContent = codeMirror ? codeMirror.lastChild.firstChild : undefined;
		$ta.data('autosize', true);
		if ($ta.css('box-sizing') === 'border-box' || $ta.css('-moz-box-sizing') === 'border-box' || $ta.css('-webkit-box-sizing') === 'border-box')
			boxOffset = $ta.outerHeight() - $ta.height();
		if(codeMirror) {
			if ($(codeMirror).css('box-sizing') === 'border-box' || $(codeMirror).css('-moz-box-sizing') === 'border-box' || $(codeMirror).css('-webkit-box-sizing') === 'border-box')
				codeMirrorBoxOffset = $(codeMirror).outerHeight() - $(codeMirror).height();
			if (codeMirror.CodeMirror && codeMirror.CodeMirror.options.mode === "javascript")
				codeMirrorBoxOffset += 25;
		}
		minHeight = Math.max(parseInt($ta.css('minHeight'), 10) - boxOffset || 0, $ta.height());
		if (ta.tagName && ta.tagName.toLowerCase() === 'span') {
			$ta.css({
				overflow: $ta[0].style.overflow || 'hidden',
				overflowY: $ta[0].style.overflowY || 'hidden',
				wordWrap: 'break-word',
				resize: $ta[0].style.resize || 'none'
			});
		} else {
			$ta.css({
				overflow: 'hidden',
				overflowY: 'hidden',
				wordWrap:'break-word',
				resize: 'none'
			});
		}
		var style, bordersAndPadding;
		function setWidth() {
			style = style || window.getComputedStyle(ta, null) || ta.style;
			var width = ta.getBoundingClientRect().width;
			if (width === 0 || typeof width !== 'number')
				width = parseInt(style.width, 10);
			if (!bordersAndPadding) {
				bordersAndPadding = ['paddingLeft', 'paddingRight', 'borderLeftWidth', 'borderRightWidth'].reduce(function(acc, val) {
					return acc + parseInt(style[val], 10);
				}, 0);
			}
			mirror.style.width = (width - bordersAndPadding) + 'px';
		}
		function initMirror() {
			mirrored = ta;
			mirror.className = options.className;
			mirror.id = options.id;
			maxHeight = parseInt($ta.css('maxHeight'), 10);
			var styles = typographyStyles.reduce(function(acc, val) {
				acc[val] = codeMirror ? $(codeMirror).css(val) : $ta.css(val);
				return acc;
			}, {});
			$(mirror).css(styles).attr('wrap', $ta.attr('wrap'));
			setWidth();
		}
		function adjust(e) {
			var height, original, codeMirrorHeight, doc, docValue;
			if (ta.tagName && ta.tagName.toLowerCase() === 'span') {
				return;
			}
			if (mirrored !== ta)
				initMirror();
			else
				setWidth();
			if (!ta.value && options.placeholder) {
				mirror.value = ($ta.attr("placeholder") || '') + options.append;
			} else {
				doc = codeMirror && codeMirror.codeMirror && codeMirror.CodeMirror.getDoc();
				docValue = doc && doc.getValue();
				mirror.value = (docValue ? docValue : ta.value) + options.append;
			}
			mirror.style.overflowY = ta.style.overflowY;
			original = parseInt(ta.style.height,10);
			height = mirror.scrollHeight;
			if (maxHeight && height > maxHeight) {
				ta.style.overflowY = 'scroll';
				height = maxHeight;
				if (codeMirror)
					codeMirror.lastChild.style.overflowY = 'scroll';
			} else {
				ta.style.overflowY = 'hidden';
				if (height < minHeight)
					height = minHeight;
				if (codeMirror)
					codeMirror.lastChild.style.overflowY = 'hidden';
			}
			if (codeMirror) {
				codeMirrorHeight = height + codeMirrorBoxOffset;
				if (parseInt(codeMirrorContent.style.height, 10))
					codeMirrorHeight = Math.max(parseInt(codeMirrorContent.style.height, 10), codeMirrorHeight);
				if (maxHeight)
					codeMirrorHeight = Math.min(maxHeight, codeMirrorHeight);
			}
			height += boxOffset;
			if (original !== height) {
				ta.style.height = height + 'px';
				if (codeMirror && codeMirror.CodeMirror)
					if (codeMirror.CodeMirror.setHeight)
						codeMirror.CodeMirror.setHeight(codeMirrorHeight + 'px');
					else if (codeMirror.CodeMirror.setSize)
						codeMirror.CodeMirror.setSize(null, codeMirrorHeight + 'px');
				if (callback)
					options.callback.call(ta,ta);
			}
			if ($ta.closest('.tabs2_section').hasClass('tab_section') && !$ta.closest('.tabs2_section').is(':visible')){
				CustomEvent.observe("tab.activated", function(tab){
					if ($ta.closest('.tabs2_section').hasClass(tab))
						adjust();
				});
				return false;
			}
			if (window._frameChanged)
				_frameChanged();
		}
		function resize () {
			clearTimeout(timeout);
			timeout = setTimeout(function(){
				var newWidth = $ta.width();
				if (newWidth !== width && $ta.val() !== '') {
					width = newWidth;
					adjust();
				}
			}, parseInt(options.resizeDelay, 10));
		}
		$ta.on('input.autosize change.autosize', adjust);
		if(codeMirror)
			$(codeMirror).on('paste.autosize keydown.autosize', adjust);
		if (options.resizeDelay !== false)
			$(window).on('resize.autosize', resize);
		$ta.on('autosize.resize', adjust);
		$ta.on('autosize.resizeIncludeStyle', function() {
			mirrored = null;
			adjust();
		});
		$ta.on('autosize.destroy', function(){
			mirrored = null;
			clearTimeout(timeout);
			$(window).off('resize', resize);
			$ta
				.off('autosize')
				.off('.autosize')
				.css(originalStyles)
				.removeData('autosize');
			if(codeMirror)
				$(codeMirror).off('.autosize');
		});
		if (ta.value)
			adjust();
	}
})(window.jQuery);
;
</script><script>NOW.xperf.lastDoctypeEnd = NOW.xperf.now();</script><span style="display:none" data-comments="db_context_menu_script"></span><script>NOW.xperf.dbContextBegin = NOW.xperf.now();</script><script>GlideMenu.addScripts({"onScripts":{"216ac28a0a0a0bb200af43eb879c30ae":" \n","5402b80e9fa322005cf3ffa4677fcf10":" \n","5d93ba0047331100ba13a5554ee490c6":"setTaskable();\ndisableInVtbListView();\nfunction setTaskable() {\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n   if (!hdrCell)\n      return;\n\t\n   if (hdrCell.getAttribute('glide_type') === 'related_tags')\n      g_menu.setDisabled(g_item);\n   else\n\t  g_menu.setEnabled(g_item);\n}\nfunction disableInVtbListView() {\n\tvar containerFrame = g_list.getContainerFrame();\n\tif (containerFrame && containerFrame.getAttribute('id') === 'vtb_list_view')\n\t\tg_menu.setDisabled(g_item);\n}\n","731a31e7bf460100e628555b3f073957":" \n","ab7f76d70ad33702005f177f6d3a7145":"setSortable();\nfunction setSortable() {\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n   if (!hdrCell)\n      return;\n   var sortable = (getAttributeValue(hdrCell, 'sortable') == \"true\" && getAttributeValue(hdrCell, 'sort_dir') != \"ASC\");\n   if (sortable)\n      g_menu.setEnabled(g_item);\n   else\n      g_menu.setDisabled(g_item);\n}\n","ab8369ac0ad337020058ada2a743863a":"setSortable();\nfunction setSortable() {\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n   if (!hdrCell)\n      return;\n   var sortable = (getAttributeValue(hdrCell, 'sortable') == \"true\" && getAttributeValue(hdrCell, 'sort_dir') != \"DESC\");\n   if (sortable)\n      g_menu.setEnabled(g_item);\n   else\n      g_menu.setDisabled(g_item);\n}\n","b17a69630a0a0bbb00f2601a9fa1e2da":"setFilter();\r\n\r\nfunction setFilter() {\r\n   var menu = g_item.subMenu;\r\n   var query = g_list.getQuery({groupby: true});\r\n   if (query.endsWith('^'))\r\n      query = query.substring(0, query.length - 1);\r\n\r\n   menu.clearSelected();\r\n   if (query.startsWith('^'))\r\n      query = query.substring(1);\r\n\r\n   var item = menu.getItem(query);\r\n   if (item)\r\nmenu.setImage(item, \"images/checked.pngx\");\n}\n","c8c2eae10a0004e30084537138ba00ed":"setWorkflowExpandable();\r\n\r\nfunction setWorkflowExpandable() {\r\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\r\n   if (!hdrCell)\r\n      return;\r\n\r\n   var workflow = (getAttributeValue(hdrCell, 'glide_type') == \"workflow\");\r\n   if (workflow)\r\n      g_menu.setVisible(g_item);\r\n   else\r\n      g_menu.setHidden(g_item);\r\n}\r\n","e1990773c0a80a6d0f81499a5c80c069":"setDateColumn();\nfunction setDateColumn() {\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n   if (!hdrCell)\n      return;\n   var type = getAttributeValue(hdrCell, 'glide_type');\n   var sortable = (getAttributeValue(hdrCell, 'sortable') == \"true\");\n   var isDateTime = (type == \"glide_date_time\" || type == \"glide_date\");\n   if (isDateTime) {\n\t   if(sortable)\n\t\t  g_menu.setVisible(g_item);\n\t   else\n\t\t  g_menu.setDisabled(g_item);\n   } else\n\t   g_menu.setHidden(g_item);\n}\n","e1d5cb8ec0a80a6d006da0404916035e":"setDateColumn();\nfunction setDateColumn() {\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n   if (!hdrCell)\n      return;\n   var type = getAttributeValue(hdrCell, 'glide_type');\n   var sortable = (getAttributeValue(hdrCell, 'sortable') == \"true\");\n   var isDateTime = (type == \"glide_date_time\" || type == \"glide_date\");\n   if (isDateTime) {\n\t   if(sortable)\n\t\t  g_menu.setVisible(g_item);\n\t   else\n\t\t  g_menu.setDisabled(g_item);\n   } else\n\t   g_menu.setHidden(g_item);\n}\n","ed38768dc0a80066001cd51eca319cc9":"setMatchable();\nfunction setMatchable() {\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n   if (!hdrCell)\n      return;\n   var filterable = (getAttributeValue(hdrCell, 'filterable') == \"true\");\n   var columnOK = (hdrCell.getAttribute('glide_type') != 'related_tags' && hdrCell.getAttribute('glide_type') != 'password');\n   if (filterable && columnOK)\n      g_menu.setEnabled(g_item);\n   else\n      g_menu.setDisabled(g_item);\n}\n","ee21f9a7c0a8006600a47b4baccf6a83":"setFilterable();\nfunction setFilterable() {\n\t\n   var hdrCell = g_list.getHeaderCell(g_fieldName);\n\t\n   if (!hdrCell)\n      return;\n   var filterable = (getAttributeValue(hdrCell, 'filterable') == \"true\") && !(hdrCell.getAttribute('glide_type') == 'related_tags');\n\t   \n   if (filterable)\n      g_menu.setEnabled(g_item);\n   else\n      g_menu.setDisabled(g_item);\n}\n"},"scripts":{"216ac28a0a0a0bb200af43eb879c30ae":"g_list.refreshWithOrderBy(1);\n","5333d89053301300edf6296906dc3483":" \nfunction editPersonalFilters() {\n   var url = new GlideURL(\"sys_filter_list.do\");\n   url.addEncodedString(\"sysparm_query=table%3D\" + g_list.tableName + \"^user%3D\" + g_user.userID);\n   self.location = url.getURL();\n}\n","5402b80e9fa322005cf3ffa4677fcf10":"runContextAction();\n function runContextAction() {\n    var exportHandler = new ContextMenuExportHandler(g_list,'unload_json');\n    exportHandler.exportRecords();\n }\n \n","5d93ba0047331100ba13a5554ee490c6":"runContextAction();\nfunction runContextAction() {\n\tvar query = g_list.getQuery({ orderby: true, fixed: true });\n\tif (g_list.getRelated())\n\t\tquery = g_list.getRelatedQuery() + (query ? \"^\" + query : \"\");\n\tvar url = new GlideURL('$vtb_get.do');\n\turl.addParam('sysparm_action', 'board_show');\n\turl.addParam('sysparm_field', g_fieldName);\n\turl.addParam('sysparm_table', g_list.getTableName());\n\turl.addParam('sysparm_query', query);\n\twindow.location = url.getURL();\n}\n","731a31e7bf460100e628555b3f073957":" \n","ab7f76d70ad33702005f177f6d3a7145":"runContextAction();\nfunction runContextAction() {\n   g_list.sort(g_fieldName);\n}\n","ab8369ac0ad337020058ada2a743863a":"runContextAction();\nfunction runContextAction() {\n   g_list.sortDescending(g_fieldName);\n}\n","b16a46bd0a0a0bbb007f8195366a63c0":"function changeView(view) {\r\n   var url = new GlideURL(g_list.getTableName() + '_list.do');\r\n   url.addParam('sysparm_view', view);\r\n   url.addParam('sysparm_userpref.' + g_list.getTableName() + '_list.view', view);\r\n   url.addParam('sysparm_userpref.' + g_list.getTableName() + '.view', view);\r\n   url.addParam('sysparm_query', g_list.getQuery({groupby: true}));\r\n   url.addParam('sysparm_fixed_query', g_list.getFixedQuery());\r\n   window.location = url.getURL();\r\n}\n","b179cdcb0a0a0bbb0042ab71456d775d":"function groupList(fieldName) {\n   g_list.setGroupBy(fieldName);\n   g_list.refresh(1);\n}\n","c8c2eae10a0004e30084537138ba00ed":"\r\nexpandThisColumn();\r\nfunction expandThisColumn() {\r\n  var cp = getPreference('workflow.expanded.' + g_list.getTableName());\r\n  setPreference('workflow.expanded.' + g_list.getTableName(), cp == 'true' ? 'false' : 'true');\r\n  toggleItems(null, cp);\r\n}\n","d1cd92f20a0a0b3e00b44ff90470380e":" runContextAction();\n  \n function runContextAction() {\n    var exportHandler = new ContextMenuExportHandler(g_list,'unload_csv');\n    exportHandler.exportRecords();\n }\n","d1e68f410a0a0b3e002c9785414de051":"runContextAction();\nfunction runContextAction() {\n   \n   var sysparm_rows = g_list.grandTotalRows;\n   var num_rows = parseInt(sysparm_rows);\n   var sysparm_query = g_list.getQuery({all: true});\n   \n   var sysparm_view = g_list.view;\n   if (num_rows < g_export_warn_threshold) {\n      var dialog = new GwtPollDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdf');\n      dialog.execute();\n      return;\n   }\n   var dialog = new GwtExportScheduleDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdf');\n   dialog.execute();\n}\n","d1e7d68b0a0a0b3e002f4618e3755d86":"runContextAction();\nfunction runContextAction() {\n   \n   var sysparm_rows = g_list.grandTotalRows;\n   var num_rows = parseInt(sysparm_rows);\n   var sysparm_query = g_list.getQuery({all: true});\n   var sysparm_view = g_list.view;\n   if (num_rows < g_export_warn_threshold) {\n      var dialog = new GwtPollDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdflandscape');\n      dialog.execute();\n      return;\n   }\n   var dialog = new GwtExportScheduleDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdflandscape');\n   dialog.execute();\n}\n","d1e8971a0a0a0b3e00c9e1fc881affd3":"runContextAction();\nfunction runContextAction() {\n   var sysparm_rows = g_list.grandTotalRows;\n   var num_rows = parseInt(sysparm_rows);\n   var sysparm_query = g_list.getQuery({all: true});\n   \n   var sysparm_view = g_list.view;\n   if (num_rows < g_export_warn_threshold) {\n      var dialog = new GwtPollDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdf+');\n      dialog.execute();\n      return;\n   }\n   var dialog = new GwtExportScheduleDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdf+');\n   dialog.execute();\n}\n","d1e93cc80a0a0b3e007e913c2485c9e1":"runContextAction();\nfunction runContextAction() {\n   \n   var sysparm_rows = g_list.grandTotalRows;\n   var num_rows = parseInt(sysparm_rows);\n   var sysparm_query = g_list.getQuery({all: true});\n   \n   var sysparm_view = g_list.view;\n   if (num_rows < g_export_warn_threshold) {\n      var dialog = new GwtPollDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdf+landscape');\n      dialog.execute();\n      return;\n   }\n   var dialog = new GwtExportScheduleDialog(g_list.tableName, sysparm_query, sysparm_rows, sysparm_view, 'unload_pdf+landscape');\n   dialog.execute();\n}\n","e1990773c0a80a6d0f81499a5c80c069":"runContextAction();\nfunction runContextAction() {\n   var ajax = new GlideAjax(\"RowFieldQueryTerm\");\n   ajax.addParam('table', g_list.tableName);\n   ajax.addParam('field_name', g_fieldName);\n   ajax.addParam('sys_id', g_sysId);\n   ajax.addParam('oper', '>=');\n   ajax.getXML(rowAndFieldQueryTermResponse, \"\", g_list.listID);\n}\nfunction rowAndFieldQueryTermResponse(response, listID) {\n   if (!response || !response.responseXML)\n      return;\n   var items = response.responseXML.getElementsByTagName(\"item\");\n   var item = items[0];\n   if (!item)\n      return;\n   var term = item.getAttribute(\"term\");\n   var list = GlideList2.get(listID);\n   list.addFilter(term);\n   list.refresh(1);\n}\n","e1d5cb8ec0a80a6d006da0404916035e":"runContextAction();\nfunction runContextAction() {\n   var ajax = new GlideAjax(\"RowFieldQueryTerm\");\n   ajax.addParam('table', g_list.tableName);\n   ajax.addParam('field_name', g_fieldName);\n   ajax.addParam('sys_id', g_sysId);\n   ajax.addParam('oper', '<=');\n   ajax.getXML(rowAndFieldQueryTermResponse, \"\", g_list.listID);\n}\nfunction rowAndFieldQueryTermResponse(response, listID) {\n   if (!response || !response.responseXML)\n      return;\n   var items = response.responseXML.getElementsByTagName(\"item\");\n   var item = items[0];\n   if (!item)\n      return;\n   var term = item.getAttribute(\"term\");\n   var list = GlideList2.get(listID);\n   list.addFilter(term);\n   list.refresh(1);\n}\n","eadec6df0a0a0b3e00a3c8b0465c1ed9":" function copyURL(uri) {\r\n      copyRowToClipboard(uri, g_list.tableName, g_sysId, g_list.view); \r\n }\n","eb6c4d1b0a0a0b3e0029fbb8fee7a7a8":"\r\n","ed38768dc0a80066001cd51eca319cc9":"runContextAction();\nfunction runContextAction() {\n   var ajax = new GlideAjax(\"RowFieldQueryTerm\");\n   ajax.addParam('table', g_list.tableName);\n   ajax.addParam('field_name', g_fieldName);\n   ajax.addParam('sys_id', g_sysId);\n   ajax.addParam('oper', '=');\n   ajax.getXML(rowAndFieldQueryTermResponse, \"\", g_list.listID);\n}\nfunction rowAndFieldQueryTermResponse(response, listID) {\n   if (!response || !response.responseXML)\n      return;\n   var items = response.responseXML.getElementsByTagName(\"item\");\n   var item = items[0];\n   if (!item)\n      return;\n   var term = item.getAttribute(\"term\");\n   var list = GlideList2.get(listID);\n   list.addFilter(term);\n   list.refresh(1);\n}\n","ee21f9a7c0a8006600a47b4baccf6a83":"runContextAction();\nfunction runContextAction() {\n   var ajax = new GlideAjax(\"RowFieldQueryTerm\");\n   ajax.addParam('table', g_list.tableName);\n   ajax.addParam('field_name', g_fieldName);\n   ajax.addParam('sys_id', g_sysId);\n   ajax.addParam('oper', '!=');\n   ajax.getXML(rowAndFieldQueryTermResponse, \"\", g_list.listID);\n}\nfunction rowAndFieldQueryTermResponse(response, listID) {\n   if (!response || !response.responseXML)\n      return;\n   var items = response.responseXML.getElementsByTagName(\"item\");\n   var item = items[0];\t\n   if (!item)\n      return;\n\t\t\n   var term = item.getAttribute(\"term\");\n   var list = GlideList2.get(listID);\n   list.addFilter(term);\n   list.refresh(1);\n}\n","eeca263ac0a80066000245d1d9169203":"\r\n","f13f0041473012003db6d7527c9a71f0":" runContextAction();\n function runContextAction() {\n    var exportHandler = new ContextMenuExportHandler(g_list,'unload_excel_xlsx');\n    exportHandler.exportRecords();\n }\n"}});</script><script>NOW.xperf.dbContextEnd = NOW.xperf.now();</script><span style="display:none" data-comments="db_context_menu_script"></span><script data-description="MessagesTag">(function() {
 var messages = new GwtMessage();
messages.set('Timing Type','Tipo de Tempo');
messages.set('Time Range','Intervalo de Tempo');
messages.set('Total Time','Tempo Total');
messages.set('{0}ms');
messages.set('{0} ms');
messages.set('Browser response time','Tempo de resposta do navegador');
messages.set('Server','Servidor');
messages.set('Timing details','Informações de tempo');
messages.set('{0} of {1} {2}: {3}','{0} de {1} {2}: {3}');
messages.set('{0} of {1} Other: {2}','{0} de {1} Outro: {2}');
messages.set('{0} of {1} {2}: {3}','{0} de {1} {2}: {3}');
messages.set('Show Timing Breakdown','Mostrar Detalhamento de Tempo');
messages.set('Browser timing detail','Detalhes de tempo do navegador');
messages.set('Time','Hora');
messages.set('Other','Outro');
messages.set('Timing details breakdown','Detalhamento de detalhes de tempo');
messages.set('Response time(ms): {0}','Tempo de resposta (ms): {0}');
messages.set('Network: {0}','Rede: {0}');
messages.set('Network: {0}ms','Rede: {0}ms');
messages.set('Server: {0}','Servidor: {0}');
messages.set('Server: {0}ms','Servidor: {0}ms');
messages.set('Browser: {0}','Navegador: {0}');
messages.set('Browser: {0}ms','Navegador: {0}ms');
messages.set('Response time','Tempo de resposta');
messages.set('Close','Fechar');
messages.set('Cache/DNS/TCP');
messages.set('DOM Processing','Processamento de DOM');
messages.set('Script Load/Parse','Carregamento/análise de script');
messages.set('CSS and JS Parse','Análise de CSS e JS');
messages.set('Form Sections','Seções de formulário');
messages.set('UI Policy - On Load','Política de IU - Em carregamento');
messages.set('Client Scripts - On Load','Scripts de cliente - Em carregamento');
messages.set('Client Scripts - On Change (initial load)','Scripts de cliente - Em alteração (carregamento inicial)');
messages.set('Browser processing before onload','Processamento do navegador antes do carregamento');
messages.set('DOMContentLoaded to LoadEventEnd','DOMContentLoaded para LoadEventEnd');
messages.set('addLoadEvent functions','Funções addLoadEvent');
messages.set('Related Lists','Listas relacionadas');
messages.set('Related Lists (sync)','Listas relacionadas (sinc)');
messages.set('Related Lists (async)','Listas relacionadas (assinc)');
messages.set('onLoad');
messages.set('Unload','Descarregar');
})()</script><script type="text/javascript">var g_serverTime = parseInt("555") + parseInt("0");
            var g_logClientViewRoles = "";

			// do not do this for the navigation menu
            if (window.name != 'gsft_nav') {
				 addAfterPageLoadedEvent(function() {
					 if (window.performance)
						setTimeGraph();
					 else 
						firePageTimer();
				 });
			 }
			 
			function setTimeGraph() {
				if (window.performance.timing.loadEventEnd > 0)
			 		firePageTimer();
			 	else 
			 		setTimeout(setTimeGraph, 300);
			 }
			 
			function firePageTimer() {
				 if (window.performance && performance.timing.requestStart != performance.timing.responseStart) {
				 	var p = performance.timing;

				 	CustomEvent.fire('page_timing', { name: 'SERV', ms: p.responseEnd - p.requestStart});
				 	CustomEvent.fire('page_timing', { name: 'REND', ms: (p.loadEventEnd - p.responseEnd) });
				 	CustomEvent.fire('page_timing_network', { name: 'NETW', ms: (p.responseEnd - p.navigationStart) });
				 } else {
				    CustomEvent.fire('page_timing', { name: 'SERV', ms: g_serverTime });
					CustomEvent.fire('page_timing', { name: 'REND', startTime: g_loadTime });
					CustomEvent.fire('page_timing_network', { name: 'NETW', loadTime: g_loadTime });
				 }CustomEvent.fire('page_timing_show', {
						isFixed: '', 
						show: '' 
					 });var o = {};
	      o.types = {};o.types['SECT'] = true;o.types['RLV2'] = true;o.types['UIOL'] = true;o.types['CSOL'] = true;
	
	      o.transaction_id = '7d2d6e7d3b166e1015086e9985e45a26';
	      o.table_name = 'incident';
	      o.form_name = 'sys_form_template';
	      o.view_id = 'Default view';
	      o.logged_in = true;
	      o.win = window;
	      CustomEvent.fire('page_timing_client', o);}
			 
            // The following line is used to set the time when we start requesting a new page
            Event.observe(window, 'beforeunload', function() {
				new CookieJar({sameSite: 'strict'}).put('g_startTime', new Date().getTime());
                CustomEvent.fireTop('request_start', document);
            });

            // simple pages fire this (stats.do, etc.)
            CustomEvent.observe('simple_page.unload', function() {
				new CookieJar({sameSite: 'strict'}).put('g_startTime', new Date().getTime());
            }); 

            // indicate we have completed the request (used by RequestManager.js for cancel widget)
            addLoadEvent(function() {
            	CustomEvent.fireTop("request_complete", window.location);
            });</script><script data-description="MessagesTag">(function() {
 var messages = new GwtMessage();
messages.set('Delete','Excluir');
messages.set('New rows','Novas linhas');
messages.set('This filter query cannot be edited','Esta consulta de filtros não pode ser editada');
messages.set('%d from now','%d a partir de agora');
messages.set('just now','Agora mesmo');
messages.set('Go to','Ir para');
messages.set('about an hour','cerca de uma hora');
messages.set('Filter Limit Reached','Atingido o limite do filtro');
messages.set('Changes have been made. Continuing will discard the changes.','Foram feitas mudanças. Se continuar, as mudanças serão descartadas.');
messages.set('Open new window','Abrir nova janela');
messages.set('List editing disabled - to enable, click the gear icon at top of list','Edição de lista desabilitada - para habilitá-la, clique no ícone de engrenagem na parte superior da lista');
messages.set('URLs/query omit relationship to parent record','Relacionamento de omissão de URLs/consulta com o registro primário');
messages.set('Show / hide filter','Mostrar/ocultar filtro');
messages.set('Mark deleted','Marcar como excluído');
messages.set('The following mandatory fields are not filled in','Os seguintes campos obrigatórios não estão preenchidos');
messages.set('Pin the filters','Fixar os filtros');
messages.set('Search','Pesquisar');
messages.set('Showing 1 through {0} of {1}','Exibindo 1 a {0} de {1}');
messages.set('Insert a new row...','Inserir uma nova linha...');
messages.set('(empty)','(vazia)');
messages.set('%d months','%d meses');
messages.set('%d days','%d dias');
messages.set('New row','Nova linha');
messages.set('There is a cell editor open on this page. Continuing will discard the changes.','Há um editor de célula aberto nesta página. Se continuar, as mudanças serão descartadas.');
messages.set('There is a cell editor open on this page, continuing will discard the changes','Há um editor de célula aberto nesta página, continuam vai eliminar as mudanças.');
messages.set('Mark record for List Action','Marcar registro para Ação de lista');
messages.set('Undelete','Não Excluir');
messages.set('Changes have been made, continuing will discard the changes','As mudanças foram feitas, se continuar, elas serão descartadas.');
messages.set('Copy query','Copiar consulta');
messages.set('Save','Salvar');
messages.set('%d years','%d anos');
messages.set('a day','um dia');
messages.set('The filter you are using is too big. Remove some conditions to make it smaller.','O filtro que você está usando é muito grande. Remova algumas condições para torná-lo menor.');
messages.set('about a year','cerca de um ano');
messages.set('a day,%d days');
messages.set('less than a minute','menos de um minuto');
messages.set('A new {0} identified by {1} will be created upon save','Um novo {0} identificado por {1} será criado quando for salvo');
messages.set('about a minute','%dm');
messages.set('Unpin the filters','Desafixar os filtros');
messages.set('Security does not allow the execution of that action against the specified record','A segurança não permite a execução desta ação contra o registro especificado');
messages.set('about %d hours','%dh');
messages.set('Copy URL','Copiar URL');
messages.set('Attachments are not allowed','Anexos não são permitidos');
messages.set('Display / hide hierarchical lists','Exibir/ocultar listas hierárquicas');
messages.set('Security allows the execution of that action against {0} of {1} records. Proceed?','A segurança não permite a execução desta ação contra {0} de {1} registros. Prosseguir?');
messages.set('%d minutes','%d minutos');
messages.set('View','Exibição');
messages.set('--None--','-- Nenhum --');
messages.set('Loading...','Carregando...');
messages.set('about a month','cerca de um mês');
messages.set('%d ago','%d atrás');
})()</script><script type="text/javascript" src="/scripts/doctype/z_last_include.jsx?v=05-22-2025_2350&amp;lang=pb"></script></body><script type="text/html" id="popup_template"><div class="popup popup_form" style=""><iframe src="$src" style=""></iframe></div></script></html>